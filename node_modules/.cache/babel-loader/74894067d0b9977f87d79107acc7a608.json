{"ast":null,"code":"var $cw6c3$swchelpers = require(\"@swc/helpers\");\n\nvar $cw6c3$reactjsxruntime = require(\"react/jsx-runtime\");\n\nvar $cw6c3$react = require(\"react\");\n\nvar $cw6c3$luxon = require(\"luxon\");\n\nvar $cw6c3$reacti18next = require(\"react-i18next\");\n\nvar $cw6c3$regeneratorruntime = require(\"regenerator-runtime\");\n\nvar $cw6c3$i18next = require(\"i18next\");\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {\n    value: true,\n    configurable: true\n  });\n}\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {\n    get: v,\n    set: s,\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n$parcel$defineInteropFlag(module.exports);\n$parcel$export(module.exports, \"CalendarView\", function () {\n  return $3f7b2fe5d2c34f8f$export$b573856c46cc9357;\n});\n$parcel$export(module.exports, \"default\", function () {\n  return $3f7b2fe5d2c34f8f$export$2e2bcd8739ae039;\n});\nvar $e4750b0ebeed8e48$export$ec9758e21af63072;\n\n(function (CALENDAR_VIEW) {\n  CALENDAR_VIEW[\"AGENDA\"] = 'agenda';\n  CALENDAR_VIEW[\"WEEK\"] = 'week';\n  CALENDAR_VIEW[\"DAY\"] = 'day';\n  CALENDAR_VIEW[\"THREE_DAYS\"] = 'threeDays';\n  CALENDAR_VIEW[\"MONTH\"] = 'month';\n})($e4750b0ebeed8e48$export$ec9758e21af63072 || ($e4750b0ebeed8e48$export$ec9758e21af63072 = {}));\n\nvar $e4750b0ebeed8e48$export$76a2e4c433c23bb9;\n\n(function (EVENT_TYPE) {\n  EVENT_TYPE[\"NORMAL\"] = 'normal';\n  EVENT_TYPE[\"MONTH\"] = 'month';\n  EVENT_TYPE[\"AGENDA\"] = 'agenda';\n  EVENT_TYPE[\"HEADER\"] = 'header';\n  EVENT_TYPE[\"SHOW_MORE_MONTH\"] = 'showMoreMonth';\n})($e4750b0ebeed8e48$export$76a2e4c433c23bb9 || ($e4750b0ebeed8e48$export$76a2e4c433c23bb9 = {}));\n\nvar $e4750b0ebeed8e48$export$c2bed76d77ee7287;\n\n(function (CALENDAR_NAVIGATION_DIRECTION) {\n  CALENDAR_NAVIGATION_DIRECTION[\"FORWARD\"] = 'forward';\n  CALENDAR_NAVIGATION_DIRECTION[\"BACKWARDS\"] = 'backwards';\n  CALENDAR_NAVIGATION_DIRECTION[\"TODAY\"] = 'today';\n})($e4750b0ebeed8e48$export$c2bed76d77ee7287 || ($e4750b0ebeed8e48$export$c2bed76d77ee7287 = {}));\n\nvar $e4750b0ebeed8e48$export$5a05f7ffc0500403;\n\n(function (WEEKDAY_START) {\n  WEEKDAY_START[\"MONDAY\"] = \"MONDAY\";\n  WEEKDAY_START[\"SUNDAY\"] = \"SUNDAY\";\n  WEEKDAY_START[\"UNKNOWN\"] = \"UNKNOWN\";\n})($e4750b0ebeed8e48$export$5a05f7ffc0500403 || ($e4750b0ebeed8e48$export$5a05f7ffc0500403 = {}));\n\nvar $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8;\n\n(function (TIME_FORMAT) {\n  TIME_FORMAT[\"H_24\"] = '24';\n  TIME_FORMAT[\"H_12\"] = '12';\n})($e4750b0ebeed8e48$export$c4e1e4e065ff5bd8 || ($e4750b0ebeed8e48$export$c4e1e4e065ff5bd8 = {}));\n\nvar $078907888c55a58c$var$getCalendarView = function (value) {\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.DAY;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  if (value.toLowerCase() === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA.toLowerCase()) return $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA;\n  return null;\n};\n\nvar $078907888c55a58c$export$45855e0dd982478b = function (props) {\n  // Validate views\n  if (props.disabledViews) {\n    // throw error if all views are disabled\n    if (props.disabledViews.length === Object.values($e4750b0ebeed8e48$export$ec9758e21af63072).length) throw Error('[Kalend]: At least one calendar view has to be enabled');\n  } // validate initial view\n\n\n  if (props.initialView) {\n    var initialView = $078907888c55a58c$var$getCalendarView(props.initialView.toString());\n    if (!initialView) throw Error(\"[Kalend]: Initial view \\\"\".concat(props.initialView, \"\\\" is not valid\"));\n  } // validate weekDayStart\n\n\n  if (props.weekDayStart && props.weekDayStart !== 'Monday' && props.weekDayStart !== 'Sunday') throw Error(\"[Kalend]: invalid weekDayStart prop \\\"\".concat(props.weekDayStart, \"\\\". Set either Monday or Sunday\")); // validate timeFormat\n\n  if (props.timeFormat) {\n    if (props.timeFormat !== $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24.toString() && props.timeFormat !== $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12.toString()) props.timeFormat, $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24.toString(), $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12.toString();\n  }\n};\n\nvar $078907888c55a58c$export$fbb8247b2e46a70a = function () {\n  var el = document.querySelector('.Kalend__Calendar__root');\n\n  if (el) {\n    if (window.getComputedStyle(el).display !== 'flex') throw Error(\"[Calend]: CSS file not imported.\\n         Reason: You probably forgot to import css file in your app as\\n         import 'kalend/dist/styles/index.css';\\n\\n         Valid usage:\\n         import Kalend from 'kalend';\\n         import 'kalend/dist/styles/index.css';\");\n  }\n};\n\nvar $88a08af890f49243$export$eae15a231de23f4a = 25;\nvar $88a08af890f49243$export$fd6e3e2f92ae10fd = 1;\nvar $88a08af890f49243$export$c1af425794ec7f44 = 5;\nvar $88a08af890f49243$export$b4e2ba6756dec2c = 8;\nvar $88a08af890f49243$export$25973911efc96b71 = 40;\nvar $88a08af890f49243$export$447c5938f45c45a5 = 40;\nvar $88a08af890f49243$export$1c9a1263a0d343f4 = 40;\nvar $88a08af890f49243$export$81f0fddb54debad3 = 60;\nvar $88a08af890f49243$export$27633cf363057263 = 25;\nvar $88a08af890f49243$export$4b16cd32b50218c6 = 14;\nvar $88a08af890f49243$export$9a6bb2acef5e644a = 15;\nvar $88a08af890f49243$export$418e7590fd81e209 = ['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23']; //\n// Support for local datetime, timezones and floating times\n//\n\nvar $28306200f69a6328$var$FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\n\nvar $28306200f69a6328$var$UTC_TIMEZONE = 'UTC';\n\nvar $28306200f69a6328$export$64d4bb1347f411e8 = function (date, zone, deviceTimezone) {\n  var dateString = typeof date === 'string' ? date : date.toString();\n  var isFloatingDatetime = zone === $28306200f69a6328$var$FLOATING_DATETIME; // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n\n  if (isFloatingDatetime) {\n    var dateFloating = $cw6c3$luxon.DateTime.fromISO(dateString, {\n      zone: $28306200f69a6328$var$UTC_TIMEZONE\n    });\n    return dateFloating.toUTC().toISO();\n  }\n\n  var thisDate = $cw6c3$luxon.DateTime.fromISO(dateString); // Adjust datetime to device timezone\n\n  if (deviceTimezone) {\n    var dateConvert = thisDate.setZone(zone);\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nvar $28306200f69a6328$export$6c2618c4afcf6cfb = function (date, zone, deviceTimezone) {\n  var dateString = typeof date === 'string' ? date : date.toString();\n  var isFloatingDatetime = zone === $28306200f69a6328$var$FLOATING_DATETIME; // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n\n  if (isFloatingDatetime) {\n    var dateFloating = $cw6c3$luxon.DateTime.fromISO(dateString, {\n      zone: $28306200f69a6328$var$UTC_TIMEZONE\n    });\n    return dateFloating.toUTC();\n  }\n\n  var thisDate = $cw6c3$luxon.DateTime.fromISO(dateString);\n\n  if (!zone) {\n    // Adjust datetime to device timezone\n    if (deviceTimezone) return thisDate.setZone(deviceTimezone);else return thisDate;\n  }\n\n  return thisDate.setZone(zone);\n};\n\nvar $bf7b38bce41ca3dd$export$b7a9dbebc395fc65 = function (className, isDark) {\n  return isDark ? \"\".concat(className, \"-dark\") : className;\n};\n\nvar $bf7b38bce41ca3dd$export$5f81845c2fa0b381 = function (className, isMobile) {\n  return isMobile ? \"\".concat(className, \"-mobile\") : className;\n};\n\nvar $bf7b38bce41ca3dd$export$cf733e3bd5432c08 = function (className, isMobile, isDark) {\n  var classNameParsed = className;\n  classNameParsed = isMobile ? \"\".concat(classNameParsed, \"-mobile\") : classNameParsed;\n  classNameParsed = isDark ? \"\".concat(classNameParsed, \"-dark\") : classNameParsed;\n  return classNameParsed;\n};\n\nvar $bf7b38bce41ca3dd$export$f5a7c490b6f9fbc4 = function (dateObj) {\n  return dateObj.isValid ? dateObj.toFormat('dd-MM-yyyy') : $cw6c3$luxon.DateTime.fromISO(dateObj).toFormat('dd-MM-yyyy');\n};\n\nvar $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5 = function (dateObj) {\n  return dateObj.toFormat('dd-MM-yyyy');\n};\n\nvar $bf7b38bce41ca3dd$export$76c69f043295405f = function (calendarView) {\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK) return $88a08af890f49243$export$447c5938f45c45a5;\n  return 0;\n};\n\nvar $bf7b38bce41ca3dd$export$4be7a748c9766cf9 = function (array) {\n  return array[0];\n};\n\nvar $bf7b38bce41ca3dd$export$126fc096895fc6f5 = function (array) {\n  return array[array.length - 1];\n};\n\nvar $bf7b38bce41ca3dd$export$3643189503061f69 = function (date) {\n  return date.set({\n    hour: 0,\n    minute: 0,\n    second: 0\n  }).toUTC().toString();\n};\n\nvar $bf7b38bce41ca3dd$export$a7827c78319dafc9 = function (date) {\n  return date.set({\n    hour: 23,\n    minute: 59,\n    second: 59\n  }).toUTC().toString();\n};\n\nvar $bf7b38bce41ca3dd$export$23783ea7bfe28abd = function (item) {\n  if (!item) return false;\n  return (// @ts-ignore\n    $28306200f69a6328$export$6c2618c4afcf6cfb(item.endAt, item.timezoneStartAt).diff($28306200f69a6328$export$6c2618c4afcf6cfb(item.startAt, item.timezoneStartAt), 'days').toObject().days > 1\n  );\n};\n\nvar $bf7b38bce41ca3dd$export$205aaf06acb1c5fc = function (calendarView) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA:\n      return 'buttons:agenda';\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return 'buttons:day';\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return 'buttons:threeDays';\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return 'buttons:week';\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH:\n      return 'buttons:month';\n\n    default:\n      return '';\n  }\n};\n\nvar $bf7b38bce41ca3dd$export$6d0e4c4a8ffb9c2b = function (events) {\n  var result = [];\n  if (!events) return result;\n  Object.entries(events).forEach(function (keyValue) {\n    var eventsItems = keyValue[1];\n    result = $cw6c3$swchelpers.toConsumableArray(result).concat($cw6c3$swchelpers.toConsumableArray(eventsItems));\n  });\n  return result;\n};\n\nvar $bf7b38bce41ca3dd$export$3d836550a1b0c60b = function (events, timezone) {\n  var result = {};\n  events === null || events === void 0 ? void 0 : events.forEach(function (item) {\n    var dateKey = $28306200f69a6328$export$6c2618c4afcf6cfb(item.startAt, item.timezoneStartAt || timezone).toFormat('dd-MM-yyyy');\n    if (result[dateKey]) result[dateKey] = $cw6c3$swchelpers.toConsumableArray(result[dateKey]).concat([item]);else result[dateKey] = [item];\n  });\n  return result;\n};\n\nvar $bf7b38bce41ca3dd$export$b32ccbc1ca23891 = function (width, isMobile, selectedView) {\n  if (selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS) {\n    if (isMobile) return width;else return width - $88a08af890f49243$export$9a6bb2acef5e644a;\n  }\n\n  return width;\n};\n\nvar $bf7b38bce41ca3dd$export$d9b78e6f3f437c1f = function (timeFormat) {\n  var result = [];\n\n  if (timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24) {\n    for (var i = 0; i < 24; i++) if (i < 10) result.push(\"0\".concat(i));else result.push(String(i));\n  } else if (timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12) for (var i1 = 0; i1 < 24; i1++) {\n    if (i1 < 12) result.push(\"\".concat(i1, \" AM\"));else if (i1 === 12) result.push(\"\".concat(i1, \" PM\"));else result.push(\"\".concat(i1 - 12, \" PM\"));\n  }\n\n  return result;\n}; //\n// Support for local datetime, timezones and floating times\n//\n\n\nvar $d49542164c9bae14$var$FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\n\nvar $d49542164c9bae14$var$UTC_TIMEZONE = 'UTC';\nvar $d49542164c9bae14$export$9e6a8e9ca52f6a3d = \"yyyy-MM-dd HH:mm:ss 'Z'\";\nvar $d49542164c9bae14$export$b7b5db2aa6555cc1 = 'd. MMM, HH:mm';\nvar $d49542164c9bae14$export$45c85543ba71221d = 'd. MMMM';\nvar $d49542164c9bae14$export$c4e1e4e065ff5bd8 = 'HH:mm';\nvar $d49542164c9bae14$export$2fd089738c9b03fb = 'd. MMMM (EEEEEE)';\nvar $d49542164c9bae14$export$4679370298bfc65 = 'cccc';\nvar $d49542164c9bae14$export$1be242b518527e80 = 'ccc';\nvar $d49542164c9bae14$export$884cf35d3975e8b9 = 'EEEEEE';\nvar $d49542164c9bae14$export$7c233a6f2ca6f19e = 'd. MMMM yyyy';\nvar $d49542164c9bae14$export$74b2237eca26435b = 'dd-MM-yyyy';\n\nvar $d49542164c9bae14$export$64d4bb1347f411e8 = function (date, zone, deviceTimezone) {\n  var dateString = typeof date === 'string' ? date : date.toString();\n  var isFloatingDatetime = zone === $d49542164c9bae14$var$FLOATING_DATETIME; // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n\n  if (isFloatingDatetime) {\n    var dateFloating = $cw6c3$luxon.DateTime.fromISO(dateString, {\n      zone: $d49542164c9bae14$var$UTC_TIMEZONE\n    });\n    return dateFloating.toUTC().toISO();\n  }\n\n  var thisDate = $cw6c3$luxon.DateTime.fromISO(dateString); // Adjust datetime to device timezone\n\n  if (deviceTimezone) {\n    var dateConvert = thisDate.setZone(zone);\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nvar $d49542164c9bae14$var$LuxonHelper = {\n  parseToDateTime: function (date) {\n    return typeof date === 'string' ? $cw6c3$luxon.DateTime.fromISO(date) : date;\n  },\n  getLastDayOfMonth: function (date) {\n    var daysInMonth = date.daysInMonth;\n    return date.set({\n      day: daysInMonth\n    });\n  },\n  getFirstDayOfMonth: function (date) {\n    return date.set({\n      day: 1\n    });\n  },\n  isSameDay: function (dateA, dateB) {\n    return dateA.year === dateB.year && dateA.month === dateB.month && dateA.day === dateB.day;\n  },\n  isBefore: function (dateA, dateB) {\n    return $cw6c3$luxon.DateTime.fromISO(dateB).valueOf() - $cw6c3$luxon.DateTime.fromISO(dateA).valueOf() > 0;\n  },\n  isBeforeInDateTime: function (dateA, dateB) {\n    return dateB.valueOf() - dateA.valueOf() > 0;\n  },\n  isBeforeAny: function (dateA, dateB) {\n    var dateADateTime = $d49542164c9bae14$var$LuxonHelper.parseToDateTime(dateA);\n    var dateBDateTime = $d49542164c9bae14$var$LuxonHelper.parseToDateTime(dateB);\n    return dateBDateTime.valueOf() - dateADateTime.valueOf() > 0;\n  },\n  isToday: function (dateA) {\n    var todayDate = $cw6c3$luxon.DateTime.local();\n    return dateA.day === todayDate.day && dateA.month === todayDate.month && dateA.year === todayDate.year;\n  },\n  parseToString: function (date) {\n    if (typeof date !== 'string') {\n      if (date.isValid) return date.toUTC().toString();\n    }\n\n    return date.toString();\n  },\n  toUtcString: function (date) {\n    return $cw6c3$luxon.DateTime.fromISO(date).toUTC().toISO();\n  },\n  toUtc: function (date) {\n    return date.toUTC().toISO();\n  },\n  setTimezone: function (dateString, timezone) {\n    return $cw6c3$luxon.DateTime.fromISO(dateString).setZone(timezone).toString();\n  },\n  toHumanDate: function (dateString) {\n    return $cw6c3$luxon.DateTime.fromISO(dateString).toFormat('d LLL yyyy hh:mm');\n  }\n};\nvar $d49542164c9bae14$export$2e2bcd8739ae039 = $d49542164c9bae14$var$LuxonHelper;\nvar $1500da26cef85c66$var$ONE_DAY = 1;\nvar $1500da26cef85c66$var$THREE_DAYS = 3;\nvar $1500da26cef85c66$var$SEVEN_DAYS = 7;\n\nvar $1500da26cef85c66$export$b314e84a21bd4b5f = function (stringDate) {\n  return stringDate.slice(0, stringDate.indexOf('T'));\n};\n\nvar $1500da26cef85c66$export$a6181a60b480c9a4 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24];\nvar $1500da26cef85c66$export$418e7590fd81e209 = ['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'];\nvar $1500da26cef85c66$export$b1af3e61661bd3b2 = {\n  red: {\n    dark: '#ef9a9a',\n    light: '#e53935'\n  },\n  pink: {\n    dark: '#f48fb1',\n    light: '#d81b60'\n  },\n  purple: {\n    dark: '#ce93d8',\n    light: '#8e24aa'\n  },\n  'deep purple': {\n    dark: '#b39ddb',\n    light: '#5e35b1'\n  },\n  indigo: {\n    dark: '#9fa8da',\n    light: '#3949ab'\n  },\n  blue: {\n    dark: '#90caf9',\n    light: '#1e88e5'\n  },\n  'light blue': {\n    dark: '#81d4fa',\n    light: '#039be5'\n  },\n  cyan: {\n    dark: '#80deea',\n    light: '#00acc1'\n  },\n  teal: {\n    dark: '#80cbc4',\n    light: '#00897b'\n  },\n  green: {\n    dark: '#a5d6a7',\n    light: '#43a047'\n  },\n  'light green': {\n    dark: '#c5e1a5',\n    light: '#7cb342'\n  },\n  yellow: {\n    dark: '#fff59d',\n    light: '#fdd835'\n  },\n  amber: {\n    dark: '#ffe082',\n    light: '#ffb300'\n  },\n  orange: {\n    dark: '#ffcc80',\n    light: '#fb8c00'\n  },\n  'deep orange': {\n    dark: '#ffab91',\n    light: '#f4511e'\n  },\n  brown: {\n    dark: '#bcaaa4',\n    light: '#6d4c41'\n  },\n  'blue grey': {\n    dark: '#b0bec5',\n    light: '#546e7a'\n  }\n};\n\nvar $1500da26cef85c66$export$2d5ed1e6bc597003 = function (colorString, isDark) {\n  return $1500da26cef85c66$export$b1af3e61661bd3b2[colorString] ? $1500da26cef85c66$export$b1af3e61661bd3b2[colorString][isDark ? 'dark' : 'light'] : colorString;\n};\n\nvar $1500da26cef85c66$export$933d53aed74a6ef0 = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\nvar $1500da26cef85c66$export$88e7cb308ec58e48 = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nvar $1500da26cef85c66$export$737cca9a4f8febb7 = function (date) {\n  return date;\n};\n\nvar $1500da26cef85c66$var$calculateMondayStartWeekDay = function (date, calendarView) {\n  var days = [];\n  var dayInWeek = date.weekday;\n  var startDate = date.minus({\n    days: dayInWeek - 1\n  });\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH) {\n    if (dayInWeek === 0) {\n      for (var i = 6; i > 0; i--) days.push(date.minus({\n        days: i\n      }));\n\n      days.push(date);\n    } else {\n      days.push(startDate);\n\n      for (var i1 = 1; i1 < 7; i1++) days.push(startDate.plus({\n        days: i1\n      }));\n    }\n  } else for (var i2 = 0; i2 < 7; i2++) days.push(startDate.plus({\n    days: i2\n  }));\n\n  return days;\n};\n\nvar $1500da26cef85c66$var$calculateSundayStartWeekDay = function (date, calendarView) {\n  var days = [];\n  var dayInWeek = date.weekday;\n  var startDate = dayInWeek === 7 ? date.plus({\n    days: dayInWeek - 7\n  }) : date.minus({\n    days: dayInWeek\n  });\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH) {\n    if (dayInWeek === 7) {\n      for (var i = 6; i > 0; i--) days.push(date.minus({\n        days: i\n      }));\n\n      days.push(date);\n    } else {\n      days.push(startDate);\n\n      for (var i3 = 1; i3 < 7; i3++) days.push(startDate.plus({\n        days: i3\n      }));\n    }\n  } else for (var i4 = 0; i4 < 7; i4++) days.push(startDate.plus({\n    days: i4\n  }));\n\n  return days;\n};\n\nvar $1500da26cef85c66$export$69ac73875782844e = function (date, calendarView, weekDayStart, setSelectedDate) {\n  // Set state\n  if (setSelectedDate && calendarView !== $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH) setSelectedDate(date);\n  if (weekDayStart === $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY) return $1500da26cef85c66$var$calculateMondayStartWeekDay(date, calendarView);else return $1500da26cef85c66$var$calculateSundayStartWeekDay(date, calendarView);\n};\n\nvar $1500da26cef85c66$export$b34cdd4783897766 = function (date, setSelectedDate, isGoingForward) {\n  var days = [];\n  if (isGoingForward === null || isGoingForward === undefined) for (var i = 0; i <= 2; i++) days.push(date.plus({\n    days: i\n  }));else if (isGoingForward) for (var i5 = 1; i5 <= 3; i5++) days.push(date.plus({\n    days: i5\n  }));else for (var i6 = 3; i6 > 0; i6--) days.push(date.minus({\n    days: i6\n  })); // Set state\n\n  if (setSelectedDate) setSelectedDate(days[1]);\n  return days;\n};\n\nvar $1500da26cef85c66$export$f16d393a3268e3f3 = function (calendarView) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return $1500da26cef85c66$var$SEVEN_DAYS;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return $1500da26cef85c66$var$THREE_DAYS;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return $1500da26cef85c66$var$ONE_DAY;\n\n    default:\n      return $1500da26cef85c66$var$SEVEN_DAYS;\n  }\n};\n\nvar $1500da26cef85c66$var$getOneDay = function (date, setSelectedDate) {\n  var refDate = $1500da26cef85c66$export$737cca9a4f8febb7(date); // Set state\n\n  if (setSelectedDate) setSelectedDate(refDate);\n  return [refDate];\n};\n\nvar $1500da26cef85c66$export$f82b43a5dad4749 = function (refDate) {\n  var firstDayInMonth = $d49542164c9bae14$export$2e2bcd8739ae039.getFirstDayOfMonth(refDate);\n  var daysInMonth = refDate.daysInMonth;\n  var monthDays = []; // Add missing days to month view\n\n  for (var i = 0; i <= daysInMonth; i += 1) {\n    var day = firstDayInMonth.plus({\n      days: i\n    });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$be98daea68e5bd4 = function (date, weekDayStart) {\n  var FIVE_WEEKS_DAYS_COUNT = 36; // Get reference date for calculating new month\n  // Get first week of current month\n\n  var firstDayOfCurrentMonth = $d49542164c9bae14$export$2e2bcd8739ae039.getFirstDayOfMonth(date);\n  var firstWeekOfCurrentMonth = $1500da26cef85c66$export$69ac73875782844e(firstDayOfCurrentMonth, $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK, weekDayStart, undefined);\n  var monthDays = firstWeekOfCurrentMonth; // Add missing days to month view\n\n  for (var i = 1; i < FIVE_WEEKS_DAYS_COUNT; i += 1) {\n    var day = firstWeekOfCurrentMonth[6].plus({\n      days: i\n    });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$4b1bd9c645c26ec4 = function (date, setSelectedDate) {\n  var monthDays = $1500da26cef85c66$export$f82b43a5dad4749(date); // Set state\n\n  if (setSelectedDate) setSelectedDate(monthDays[15]);\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$214c174a056fc56f = function (date, setSelectedDate, weekDayStart) {\n  var monthDays = $1500da26cef85c66$export$be98daea68e5bd4(date, weekDayStart); // Set state\n\n  if (setSelectedDate) setSelectedDate(monthDays[15]);\n  return monthDays;\n};\n\nvar $1500da26cef85c66$export$431753531f5fca31 = function (item) {\n  return typeof item === 'string' ? $cw6c3$luxon.DateTime.fromISO(item) : item;\n};\n\nvar $1500da26cef85c66$export$89694f4f8cea7fb = function (item) {\n  return typeof item === 'string' ? item : item.toString();\n};\n\nvar $1500da26cef85c66$export$8abac2236d14a91f = function (oldIndex, newIndex) {\n  return oldIndex === 0 && newIndex === 1 || oldIndex === 1 && newIndex === 2 || oldIndex === 2 && newIndex === 0;\n};\n\nvar $1500da26cef85c66$export$77c6031193b02723 = function (calendarView) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH:\n      return 15;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA:\n      return 15;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return 2;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return 0;\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return 0;\n\n    default:\n      return 2;\n  }\n};\n\nvar $1500da26cef85c66$export$e75d169fad6edf5f = function (calendarView, date, weekDayStart, setSelectedDate) {\n  switch (calendarView) {\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK:\n      return $1500da26cef85c66$export$69ac73875782844e(date, calendarView, weekDayStart, setSelectedDate);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS:\n      return $1500da26cef85c66$export$b34cdd4783897766(date, setSelectedDate);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.DAY:\n      return $1500da26cef85c66$var$getOneDay(date, setSelectedDate);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH:\n      return $1500da26cef85c66$export$214c174a056fc56f(date, setSelectedDate, weekDayStart);\n\n    case $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA:\n      return $1500da26cef85c66$export$4b1bd9c645c26ec4(date, setSelectedDate);\n\n    default:\n      return $1500da26cef85c66$export$69ac73875782844e(date, calendarView, setSelectedDate);\n  }\n};\n\nvar $1500da26cef85c66$var$getReferenceDate = function (direction, calendarView, calendarDays) {\n  if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.TODAY) return $cw6c3$luxon.DateTime.now();\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS) {\n    if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD) return $bf7b38bce41ca3dd$export$126fc096895fc6f5(calendarDays).plus({\n      days: 1\n    });else return $bf7b38bce41ca3dd$export$4be7a748c9766cf9(calendarDays).minus({\n      days: 3\n    });\n  }\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY) {\n    if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD) return $bf7b38bce41ca3dd$export$126fc096895fc6f5(calendarDays).plus({\n      days: 1\n    });else return $bf7b38bce41ca3dd$export$4be7a748c9766cf9(calendarDays).minus({\n      days: 1\n    });\n  }\n\n  if (calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH || calendarView === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA) {\n    if (direction === $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD) return calendarDays[15].plus({\n      months: 1\n    });else return calendarDays[15].minus({\n      months: 1\n    });\n  }\n\n  return $cw6c3$luxon.DateTime.now();\n};\n\nvar $1500da26cef85c66$export$20dc9138dd5b1a6a = function (direction, calendarDays, calendarView, setSelectedDate, weekDayStart) {\n  return $1500da26cef85c66$export$e75d169fad6edf5f(calendarView, $1500da26cef85c66$var$getReferenceDate(direction, calendarView, calendarDays), weekDayStart, setSelectedDate);\n};\n\nvar $585762b051d85803$export$c212dd23f1f0a1e3 = function (eventA, eventB, timezone) {\n  var startAtFirst = $28306200f69a6328$export$6c2618c4afcf6cfb(eventA.startAt, eventA.timezoneStartAt, timezone);\n  var endAtFirst = $28306200f69a6328$export$6c2618c4afcf6cfb(eventA.endAt, eventA.timezoneStartAt, timezone);\n  var startAtSecond = $28306200f69a6328$export$6c2618c4afcf6cfb(eventB.startAt, eventB.timezoneStartAt, timezone);\n  var endAtSecond = $28306200f69a6328$export$6c2618c4afcf6cfb(eventB.endAt, eventB.timezoneStartAt, timezone);\n  return $cw6c3$luxon.Interval.fromDateTimes(startAtFirst, endAtFirst).overlaps($cw6c3$luxon.Interval.fromDateTimes(startAtSecond, endAtSecond));\n};\n\nvar $585762b051d85803$var$adjustForMinimalHeight = function (eventA, eventB, hourHeight) {\n  var result = {\n    eventA: $cw6c3$swchelpers.objectSpread({}, eventA),\n    eventB: $cw6c3$swchelpers.objectSpread({}, eventB)\n  };\n  var eventADiff = // @ts-ignore\n  $cw6c3$luxon.DateTime.fromISO(eventA.endAt).diff($cw6c3$luxon.DateTime.fromISO(eventA.startAt)).toObject().minutes / (60 / hourHeight);\n  var eventBDiff = // @ts-ignore\n  $cw6c3$luxon.DateTime.fromISO(eventB.endAt).diff($cw6c3$luxon.DateTime.fromISO(eventB.startAt)).toObject().minutes / (60 / hourHeight);\n  if (eventADiff < $88a08af890f49243$export$eae15a231de23f4a) result.eventA.endAt = $cw6c3$luxon.DateTime.fromISO(result.eventA.endAt).plus({\n    minutes: $88a08af890f49243$export$eae15a231de23f4a - eventADiff\n  }).toString();\n  if (eventBDiff < $88a08af890f49243$export$eae15a231de23f4a) result.eventB.endAt = $cw6c3$luxon.DateTime.fromISO(result.eventB.endAt).plus({\n    minutes: $88a08af890f49243$export$eae15a231de23f4a - eventBDiff\n  }).toString();\n  return result;\n};\n\nvar $585762b051d85803$export$75fe04c694e7ab2e = function (events, calendarIDsHidden) {\n  if (!calendarIDsHidden || calendarIDsHidden.length === 0) return events;\n  return events.filter(function (item) {\n    if (item.calendarID) {\n      if (calendarIDsHidden === null || calendarIDsHidden === void 0 ? void 0 : calendarIDsHidden.includes(item.calendarID)) return false;else return item;\n    }\n\n    return item;\n  });\n};\n\nvar $585762b051d85803$export$6a8cd07afb93412f = function (events, baseWidth, config, selectedView, dateKey) {\n  var result = [];\n  var offsetCount = []; //Store every event id of overlapping items\n\n  var offsetCountFinal; //Sort events by id number\n\n  var tableWidth = baseWidth / $1500da26cef85c66$export$f16d393a3268e3f3(selectedView);\n  var tableSpace = tableWidth / 100 * $88a08af890f49243$export$b4e2ba6756dec2c;\n\n  if (events) {\n    var eventsData = events; // Filter all day events and multi day events\n\n    eventsData.filter(function (item) {\n      return !item.allDay;\n    }).map(function (event) {\n      var width = 1; //Full width\n\n      var offsetLeft = 0; // Compare events\n\n      eventsData.forEach(function (item2) {\n        if (event.id !== item2.id && !item2.allDay) {\n          // adjust events to have at least minimal height to check\n          // overlapping\n          var ref = $585762b051d85803$var$adjustForMinimalHeight(event, item2, config.hourHeight),\n              eventA = ref.eventA,\n              eventB = ref.eventB;\n\n          if ($585762b051d85803$export$c212dd23f1f0a1e3(eventA, eventB, config.timezone) && !eventB.allDay) {\n            width = width + 1; //add width for every overlapping item\n\n            offsetCount.push(item2.id); // set offset for positioning\n\n            offsetCount.push(event.id); // set offset for positioning\n          }\n        }\n      });\n      var offsetTop = // @ts-ignore\n      $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt, config.timezone).diff($28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt, config.timezone).set({\n        hour: 0,\n        minute: 0,\n        second: 0\n      }), 'minutes').toObject().minutes / (60 / config.hourHeight); // adjust based on hour column height\n\n      var eventHeight = // @ts-ignore\n      $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt).diff($28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt), 'minutes').toObject().minutes / (60 / config.hourHeight); // adjust based on hour column height\n\n      var eventWidth = tableWidth / width; //sort items for proper calculations of offset by id\n      // prevent different order in loop\n\n      if (offsetCount.length > 0) offsetCountFinal = offsetCount.sort();\n      if (offsetCountFinal) offsetLeft = eventWidth * offsetCountFinal.indexOf(event.id); //count offset\n      //event.left\n      // Current status: events is displayed in wrong place\n\n      offsetCount = [];\n      offsetCountFinal = '';\n      result.push({\n        dateKey: dateKey,\n        event: event,\n        height: eventHeight < $88a08af890f49243$export$eae15a231de23f4a ? $88a08af890f49243$export$eae15a231de23f4a : eventHeight,\n        width: eventWidth,\n        offsetLeft: offsetLeft,\n        offsetTop: offsetTop,\n        zIndex: 2,\n        meta: {\n          isFullWidth: width === 1,\n          showTime: eventWidth >= $88a08af890f49243$export$81f0fddb54debad3 && eventHeight >= $88a08af890f49243$export$81f0fddb54debad3,\n          centerText: eventHeight <= $88a08af890f49243$export$81f0fddb54debad3\n        }\n      });\n    });\n  }\n\n  var partialResult = result.map(function (item) {\n    var ref; // full event width\n\n    if ((ref = item.meta) === null || ref === void 0 ? void 0 : ref.isFullWidth) return $cw6c3$swchelpers.objectSpread({}, item, {\n      width: Math.round(item.width - tableSpace)\n    });else if (item.offsetLeft > 0) return $cw6c3$swchelpers.objectSpread({}, item, {\n      width: Math.round(item.width),\n      offsetLeft: item.offsetLeft - tableSpace,\n      zIndex: item.zIndex ? item.zIndex + 2 : 2\n    });else return $cw6c3$swchelpers.objectSpread({}, item, {\n      width: Math.round(item.width)\n    });\n  });\n  return partialResult;\n};\n\nvar $585762b051d85803$export$2edf4a4fedf73d36 = function (calendarDays, events, baseWidth, config, selectedView) {\n  var result = {};\n  calendarDays.forEach(function (calendarDay) {\n    var formattedDayString = calendarDay.toFormat('dd-MM-yyyy');\n    var dayEvents = events[formattedDayString];\n    var groupedPositions = {};\n    var positions = $585762b051d85803$export$6a8cd07afb93412f(dayEvents, baseWidth, config, selectedView, formattedDayString);\n    positions.forEach(function (item) {\n      if (groupedPositions[item.event.id]) groupedPositions[item.event.id] = item;else groupedPositions[item.event.id] = item;\n    });\n    result[formattedDayString] = groupedPositions;\n  });\n  return result;\n};\n\nvar $585762b051d85803$export$f917769c218c90fd = function (event, day, timezone) {\n  var dateStart = $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt || timezone);\n  var dateEnd = $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt || timezone);\n  var dayTruncated = $1500da26cef85c66$export$431753531f5fca31(day).set({\n    hour: 0,\n    minute: 0,\n    millisecond: 0,\n    second: 0\n  }).toMillis();\n  var eventStartTruncated = dateStart.set({\n    hour: 0,\n    minute: 0,\n    millisecond: 0,\n    second: 0\n  }).toMillis();\n  var eventEndTruncated = dateEnd.set({\n    hour: 0,\n    minute: 0,\n    millisecond: 0,\n    second: 0\n  }).toMillis(); // fix wrong positioning when external all day event ends in next day\n\n  if (event.externalID) return dayTruncated >= eventStartTruncated && dayTruncated < eventEndTruncated;else return dayTruncated >= eventStartTruncated && dayTruncated <= eventEndTruncated;\n};\n\nvar $585762b051d85803$export$3a6eb9efca632dee = function (event, days, timezone) {\n  var hasMatch = false;\n  var _iteratorNormalCompletion = true,\n      _didIteratorError = false,\n      _iteratorError = undefined;\n\n  try {\n    for (var _iterator = days[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var day = _step.value;\n\n      if ($585762b051d85803$export$f917769c218c90fd(event, day, timezone)) {\n        hasMatch = true;\n        return true; // return false;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return hasMatch;\n}; // eslint-disable-next-line @typescript-eslint/no-empty-function\n\n\nvar $3886b97a1526edd3$var$emptyFunction = function () {};\n\nvar $3886b97a1526edd3$var$parseTimeFormat = function (timeFormatValue) {\n  if (timeFormatValue) {\n    if (timeFormatValue.toLowerCase() === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24.toString().toLowerCase()) return $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24;else if (timeFormatValue.toLowerCase() === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12.toString().toLowerCase()) return $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12;\n  }\n};\n\nvar $3886b97a1526edd3$var$parseWeekDayStart = function (weekDayStartValue) {\n  if (weekDayStartValue) {\n    if (weekDayStartValue.toLowerCase() === $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY.toLowerCase()) return $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY;else if (weekDayStartValue.toLowerCase() === $e4750b0ebeed8e48$export$5a05f7ffc0500403.SUNDAY.toLowerCase()) return $e4750b0ebeed8e48$export$5a05f7ffc0500403.SUNDAY;\n  }\n};\n\nvar $3886b97a1526edd3$export$45a69314cf48a3eb = function (props) {\n  return {\n    hourHeight: props.hourHeight || $88a08af890f49243$export$1c9a1263a0d343f4,\n    timeFormat: $3886b97a1526edd3$var$parseTimeFormat(props.timeFormat) || $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24,\n    timezone: props.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone,\n    weekDayStart: $3886b97a1526edd3$var$parseWeekDayStart(props.weekDayStart) || $e4750b0ebeed8e48$export$5a05f7ffc0500403.MONDAY,\n    isDark: false,\n    disableMobileDropdown: props.disableMobileDropdown || false,\n    disabledViews: props.disabledViews,\n    calendarIDsHidden: props.calendarIDsHidden || null\n  };\n};\n\nvar $3886b97a1526edd3$export$96e2a2f386b0b376 = function (props) {\n  return {\n    onEventDragFinish: props.onEventDragFinish || undefined,\n    onPageChange: props.onPageChange || undefined,\n    onSelectView: props.onSelectView || undefined,\n    onEventClick: props.onEventClick || $3886b97a1526edd3$var$emptyFunction,\n    onNewEventClick: props.onNewEventClick || $3886b97a1526edd3$var$emptyFunction,\n    showMoreMonth: props.showMoreMonth || $3886b97a1526edd3$var$emptyFunction\n  };\n};\n\nvar $3886b97a1526edd3$var$ConfigLayer = function (props) {\n  var ref;\n  var i18n = $cw6c3$reacti18next.useTranslation().i18n;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isReady = ref1[0],\n      setIsReady = ref1[1];\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref2[0],\n      dispatch = ref2[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var initFromProps = function () {\n    var config = $3886b97a1526edd3$export$45a69314cf48a3eb(props);\n    var callbacks = $3886b97a1526edd3$export$96e2a2f386b0b376(props);\n    setContext('config', config);\n    setContext('callbacks', callbacks);\n    setContext('selectedView', props.selectedView || props.initialView || $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK);\n    setContext('selectedDate', props.initialDate ? $cw6c3$luxon.DateTime.fromISO(props.initialDate) : $cw6c3$luxon.DateTime.now());\n    setIsReady(true);\n  };\n\n  $cw6c3$react.useEffect(function () {\n    initFromProps();\n    setIsReady(true);\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    initFromProps();\n  }, [props.hourHeight, props.timeFormat, props.timezone, // props.disabledViews, // keeps re-rendering without any change\n  props.isDark, props.disableMobileDropdown]);\n  $cw6c3$react.useEffect(function () {\n    var eventsFiltered = $585762b051d85803$export$75fe04c694e7ab2e($bf7b38bce41ca3dd$export$6d0e4c4a8ffb9c2b(props.events), props.calendarIDsHidden);\n    setContext('events', $bf7b38bce41ca3dd$export$3d836550a1b0c60b(eventsFiltered, store.config.timezone));\n  }, [JSON.stringify(props.calendarIDsHidden), (ref = props.calendarIDsHidden) === null || ref === void 0 ? void 0 : ref.length]);\n  $cw6c3$react.useEffect(function () {\n    i18n.changeLanguage(props.language || 'en');\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    i18n.changeLanguage(props.language || 'en');\n  }, [props.language]);\n  return isReady ? props.children : null;\n};\n\nvar $3886b97a1526edd3$export$2e2bcd8739ae039 = $3886b97a1526edd3$var$ConfigLayer; // tslint:disable-next-line:cyclomatic-complexity\n\nvar $e7acfb653c6fbfca$var$Reducer = function (state, action) {\n  switch (action.type) {\n    case 'initialView':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        initialView: action.payload\n      });\n\n    case 'selectedView':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        selectedView: action.payload\n      });\n\n    case 'isMobile':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        isMobile: action.payload\n      });\n\n    case 'daysViewLayout':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        daysViewLayout: action.payload\n      });\n\n    case 'config':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        config: action.payload\n      });\n\n    case 'headerLayout':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        headerLayout: action.payload\n      });\n\n    case 'monthLayout':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        monthLayout: action.payload\n      });\n\n    case 'monthOverflowEvents':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        monthOverflowEvents: action.payload\n      });\n\n    case 'showMoreEvents':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        showMoreEvents: action.payload\n      });\n\n    case 'layoutUpdateSequence':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        layoutUpdateSequence: action.payload\n      });\n\n    case 'events':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        events: action.payload\n      });\n\n    case 'selectedDate':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        selectedDate: action.payload\n      });\n\n    case 'calendarDays':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        calendarDays: action.payload\n      });\n\n    case 'isLoading':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        isLoading: action.payload\n      });\n\n    case 'width':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        width: action.payload\n      });\n\n    case 'height':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        height: action.payload\n      });\n\n    case 'callbacks':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        callbacks: action.payload\n      });\n\n    case 'headerEventRowsCount':\n      return $cw6c3$swchelpers.objectSpread({}, state, {\n        headerEventRowsCount: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar $e7acfb653c6fbfca$export$2e2bcd8739ae039 = $e7acfb653c6fbfca$var$Reducer;\nvar $65553fbba1d6d65b$export$841858b892ce1f4c = /*#__PURE__*/$cw6c3$react.createContext({});\n\nvar $65553fbba1d6d65b$var$StoreProvider = function (param) {\n  var children = param.children;\n  var initialContext = {\n    isLoading: false,\n    headerEventRowsCount: 0,\n    initialView: null,\n    selectedView: null,\n    selectedDate: $cw6c3$luxon.DateTime.now(),\n    calendarDays: [],\n    width: 0,\n    height: 0,\n    isMobile: false,\n    events: {},\n    daysViewLayout: null,\n    headerLayout: null,\n    monthLayout: null,\n    monthOverflowEvents: null,\n    showMoreEvents: null,\n    layoutUpdateSequence: 1,\n    config: $3886b97a1526edd3$export$45a69314cf48a3eb({}),\n    callbacks: $3886b97a1526edd3$export$96e2a2f386b0b376({})\n  };\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useReducer($e7acfb653c6fbfca$export$2e2bcd8739ae039, initialContext), 2),\n      store = ref[0],\n      dispatch = ref[1];\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($65553fbba1d6d65b$export$841858b892ce1f4c.Provider, {\n    value: [store, dispatch],\n    children: children\n  });\n};\n\nvar $65553fbba1d6d65b$export$2e2bcd8739ae039 = $65553fbba1d6d65b$var$StoreProvider;\n\nvar $7a3eb04f266ed8a4$export$1cd12017337dca70 = function (event, timezone) {\n  var startAtDateTime = $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt || timezone);\n  var endAtDateTime = $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt || timezone);\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    allDay: !$d49542164c9bae14$export$2e2bcd8739ae039.isSameDay(startAtDateTime, endAtDateTime)\n  });\n};\n\nvar $7a3eb04f266ed8a4$export$485dc102822f21c6 = function (events, timezone) {\n  var result = {};\n  if (!events) return {};\n  Object.entries(events).forEach(function (keyValue) {\n    var eventsItems = keyValue[1];\n    eventsItems.forEach(function (item) {\n      var dateKey = $28306200f69a6328$export$6c2618c4afcf6cfb(item.startAt, item.timezoneStartAt || timezone).toFormat('dd-MM-yyyy');\n      if (result[dateKey]) result[dateKey] = $cw6c3$swchelpers.toConsumableArray(result[dateKey]).concat([$7a3eb04f266ed8a4$export$1cd12017337dca70(item, timezone)]);else result[dateKey] = [$7a3eb04f266ed8a4$export$1cd12017337dca70(item, timezone)];\n    });\n  });\n  return result;\n};\n\nvar $2c4fe1f6b84a6784$export$3c49c185de0c2bfc = function () {\n  var rootEl = document.querySelector('.Kalend__Calendar__root');\n  if (rootEl) return rootEl.clientWidth;\n  return 0;\n};\n\nvar $2c4fe1f6b84a6784$export$3aee49006f13db09 = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState($2c4fe1f6b84a6784$export$3c49c185de0c2bfc()), 2),\n      width = ref[0],\n      setWidth = ref[1]; // Get width on init\n\n  $cw6c3$react.useEffect(function () {\n    var listenToResizeEvent = function () {\n      setWidth($2c4fe1f6b84a6784$export$3c49c185de0c2bfc());\n    };\n\n    window.addEventListener('resize', listenToResizeEvent);\n    return function () {\n      window.removeEventListener('resize', listenToResizeEvent);\n    };\n  }, []);\n  return width;\n};\n\nvar $2c4fe1f6b84a6784$export$c08559766941f856 = function () {\n  var rootEl = document.querySelector('.Kalend__Calendar__table');\n  if (rootEl) return rootEl.clientHeight;\n  return 0;\n};\n\nvar $2c4fe1f6b84a6784$export$30dc190df7e420c4 = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState($2c4fe1f6b84a6784$export$c08559766941f856()), 2),\n      height = ref[0],\n      setHeight = ref[1]; // Get height on init\n\n  $cw6c3$react.useEffect(function () {\n    $2c4fe1f6b84a6784$export$c08559766941f856();\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    var listenToResizeEvent = function () {\n      setHeight($2c4fe1f6b84a6784$export$c08559766941f856());\n    };\n\n    window.addEventListener('resize', listenToResizeEvent);\n    return function () {\n      window.removeEventListener('resize', listenToResizeEvent);\n    };\n  }, []);\n  return height;\n};\n\nvar $ecf585202d453fcb$var$DateWeekDay = function (props) {\n  var width = props.width,\n      day = props.day;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      selectedView = store.selectedView;\n  var isDayToday = $d49542164c9bae14$export$2e2bcd8739ae039.isToday(day);\n  var isMonthView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderDates__col',\n    style: {\n      width: width\n    },\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: \"Kalend__CalendarHeaderDates__circle\".concat(isMonthView ? '-small' : '').concat(isDayToday ? '-today' : '').concat(isDark ? '-dark' : ''),\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n        className: \"Kalend__text Kalend__CalendarHeaderDates__text\".concat(isDayToday ? '-today' : '').concat(isDark ? '-dark' : '', \" \").concat(selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? 'Kalend__CalendarHeaderDates__text-size-small' : ''),\n        children: day.day\n      })\n    })\n  });\n};\n\nvar $ecf585202d453fcb$export$2e2bcd8739ae039 = $ecf585202d453fcb$var$DateWeekDay;\n\nvar $0689dc746d054cae$var$DayOfWeekText = function (props) {\n  var width = props.width,\n      day = props.day;\n  var t = $cw6c3$reacti18next.useTranslation().t;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderWeekDays__col',\n    style: {\n      width: width\n    },\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      className: 'Kalend__text Kalend__CalendarHeaderWeekDays__text',\n      children: t(\"weekDays:\".concat(day.toFormat('EEE')))\n    })\n  });\n};\n\nvar $0689dc746d054cae$export$2e2bcd8739ae039 = $0689dc746d054cae$var$DayOfWeekText;\n\nvar $df4cda54b7466b02$export$ff41551cf384acef = function (calendarDays, event, xShiftIndexRef) {\n  var originalStartAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.startAt);\n  var originalEndAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.endAt);\n  var newDay = calendarDays.map(function (calendarDay) {\n    return calendarDay;\n  })[xShiftIndexRef.current];\n  var diffInMinutes = originalEndAtDateTime.diff(originalStartAtDateTime, 'minutes').toObject().minutes;\n  var newStartAt = originalStartAtDateTime.set({\n    year: newDay.year,\n    day: newDay.day,\n    month: newDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute\n  }); // set correct endAt\n\n  var newEndAt = newStartAt.plus({\n    minutes: diffInMinutes\n  });\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString()\n  });\n};\n\nvar $df4cda54b7466b02$export$1fc19a5181516448 = function (e, columnWidth, width, xShiftIndexRef, offsetLeftRef, eventWasChangedRef, setState) {\n  var ref, ref1;\n  var tableElement = document.querySelector('.Kalend__Calendar__table');\n  var tableElementRect = tableElement.getBoundingClientRect();\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref1 = ref.touches) === null || ref1 === void 0 ? void 0 : ref1[0]; // set basic coordinates from movement\n\n  var x; // handle touch movement\n\n  if (touches) x = touches.clientX - tableElementRect.x;else // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x; // prevent free dragging across columns with simple recalculation for\n\n  var columnShift = Math.floor(x / columnWidth);\n  var xTable = e.clientX - tableElementRect.x - $88a08af890f49243$export$447c5938f45c45a5;\n  var columnShiftTable = Math.round(xTable / columnWidth);\n  if (columnShiftTable * columnWidth + $88a08af890f49243$export$447c5938f45c45a5 >= width || xTable < 0) return; // prevent event overflowing on last day\n  // TODO reset back after moving left again\n  // if (columnShift === calendarDays.length) {\n  //   setState('width', columnWidth)\n  // }\n\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth + $88a08af890f49243$export$447c5938f45c45a5);\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n};\n\nvar $e5a736e77c82a8d5$export$dd76bfaf05a6a47a = function (calendarDays, yShiftIndexRef, xShiftIndexRef, event) {\n  // get new date from x, y coordinates\n  // split calendarDays by rows\n  var rowCalendarDays = [];\n  var tempArray = [];\n  calendarDays.forEach(function (calendarDay) {\n    if (tempArray.length === 7 || rowCalendarDays.length === 5 && tempArray.length === 6) {\n      tempArray.push(calendarDay);\n      rowCalendarDays.push(tempArray);\n      tempArray = [];\n    }\n\n    tempArray.push(calendarDay);\n  }); // get correct row by y coordinate\n\n  var matchingRow = rowCalendarDays[yShiftIndexRef.current]; // get day by x coordinate\n\n  var matchingDay = matchingRow[xShiftIndexRef.current];\n  var originalStartAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.startAt);\n  var originalEndAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.endAt);\n  var diffInMinutes = originalEndAtDateTime.diff(originalStartAtDateTime, 'minutes').toObject().minutes;\n  var newStartAt = originalStartAtDateTime.set({\n    year: matchingDay.year,\n    day: matchingDay.day,\n    month: matchingDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute\n  }); // set correct endAt\n\n  var newEndAt = newStartAt.plus({\n    minutes: diffInMinutes\n  });\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString()\n  });\n};\n\nvar $e5a736e77c82a8d5$export$dc270e2350d64c2 = function (e, height, draggingRef, day, columnWidth, width, xShiftIndexRef, yShiftIndexRef, eventWasChangedRef, offsetLeftRef, offsetTopRef, setState, index) {\n  var ref, ref1;\n  var columnHeight = height / 6;\n  if (!draggingRef.current) return;\n  if (!day) return;\n  var tableElement = document.querySelector('.Kalend__Calendar__table');\n  var tableElementRect = tableElement.getBoundingClientRect();\n  var xTable = e.clientX - tableElementRect.x;\n  var yTable = e.clientY - tableElementRect.y; // Get column element for day, where event is placed\n\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref1 = ref.touches) === null || ref1 === void 0 ? void 0 : ref1[0]; // set basic coordinates from movement\n\n  var x;\n  var y; // handle touch movement\n\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n    y = touches.clientY - tableElementRect.y;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x;\n    y = e.clientY - tableElementRect.y;\n  }\n\n  var yReal = yTable - index * columnHeight; // prevent free dragging across columns with simple recalculation for\n\n  var columnShiftX = Math.floor(x / columnWidth);\n  var columnShiftY = Math.floor(yReal / columnHeight);\n  var columnShiftXParsed = parseInt((xTable / columnWidth).toString());\n  var columnShiftYParsed = parseInt((yTable / columnHeight).toString());\n  var columnShiftTableX = Math.round(xTable / columnWidth);\n  if (columnShiftTableX * columnWidth >= width || xTable < 0 || columnShiftY * columnHeight >= height || yTable < 0 || y >= height) return;\n  xShiftIndexRef.current = columnShiftXParsed;\n  yShiftIndexRef.current = columnShiftYParsed;\n  setState('offsetLeft', columnShiftX * columnWidth);\n  setState('offsetTop', columnShiftY * columnHeight);\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n  offsetTopRef.current = y;\n};\n\nvar $b65920b85a89468f$export$8b07b20d06dbc3c2 = function (offsetTopValue, offsetLeftValue, xShiftIndexRef, event, hourHeight) {\n  var originalStartAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.startAt);\n  var originalEndAtDateTime = $cw6c3$luxon.DateTime.fromISO(event.endAt);\n  var goingForward = false;\n  if (offsetLeftValue >= 0) goingForward = true;else goingForward = false;\n  var newDay;\n  if (goingForward) newDay = originalStartAtDateTime.plus({\n    days: xShiftIndexRef.current\n  });else newDay = originalStartAtDateTime.minus({\n    days: Math.abs(xShiftIndexRef.current)\n  });\n  var diffInMinutes = originalEndAtDateTime.diff(originalStartAtDateTime, 'minutes').toObject().minutes;\n  var minutesOffset = offsetTopValue / hourHeight * 60; // add minutes calculated from new offset top\n\n  var newStartAt = originalStartAtDateTime.set({\n    year: newDay.year,\n    day: newDay.day,\n    month: newDay.month,\n    hour: 0,\n    minute: 0\n  }).plus({\n    minutes: minutesOffset\n  }); // set correct endAt\n\n  var newEndAt = newStartAt.plus({\n    minutes: diffInMinutes\n  });\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString()\n  });\n};\n\nvar $b65920b85a89468f$export$8c6a352b48fd8d92 = function (e, draggingRef, day, columnWidth, width, eventWasChangedRef, xShiftIndexRef, offsetLeftRef, offsetTopRef, setState) {\n  var ref, ref1;\n  if (!draggingRef.current) return;\n  if (!day) return;\n  var tableElement = document.querySelector('.Kalend__Calendar__table');\n  var tableElementRect = tableElement.getBoundingClientRect(); // Get column element for day, where event is placed\n\n  var dayElement = document.getElementById(\"Kalend__day__\".concat(day.toString()));\n  if (!dayElement) return;\n  var dayElementRect = dayElement.getBoundingClientRect();\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref1 = ref.touches) === null || ref1 === void 0 ? void 0 : ref1[0]; // set basic coordinates from movement\n\n  var x;\n  var y; // handle touch movement\n\n  if (touches) {\n    x = touches.clientX - dayElementRect.x;\n    y = touches.clientY - dayElementRect.top;\n  } else {\n    // handle mouse movement\n    // calculate x and y coordinates while following mouse move\n    x = e.clientX - dayElementRect.x;\n    y = e.clientY - dayElementRect.top;\n  } // prevent free dragging across columns with simple recalculation for\n\n\n  var columnShift = Math.floor(x / columnWidth);\n  var xTable = e.clientX - tableElementRect.x;\n  var columnShiftTable = Math.round(xTable / columnWidth); // restrict draggable space for timetable\n\n  if (y < 0) return;\n  eventWasChangedRef.current = true;\n  setState('offsetTop', y - $88a08af890f49243$export$eae15a231de23f4a);\n  offsetTopRef.current = y - $88a08af890f49243$export$eae15a231de23f4a; // prevent overflowing on x-axis\n\n  if (columnShiftTable * columnWidth >= width || xTable - $88a08af890f49243$export$447c5938f45c45a5 < 0) return;\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth);\n  offsetLeftRef.current = x;\n};\n\nvar $79dca703cc699b4f$export$38477230a29207e3 = function () {\n  return {\n    offsetLeft: 0,\n    offsetTop: 0,\n    width: '90%',\n    height: $88a08af890f49243$export$4b16cd32b50218c6,\n    zIndex: 1,\n    border: 'none',\n    meta: {\n      showTime: false,\n      isFullWidth: true,\n      centerText: true\n    }\n  };\n};\n\nvar $79dca703cc699b4f$export$2b35b885b699e674 = {\n  dragging: false,\n  initialTop: 0,\n  initialLeft: 0,\n  offsetTop: 0,\n  offsetLeft: 0,\n  xPosition: 0,\n  eventHasChanged: false,\n  width: 0,\n  height: 0,\n  zIndex: 2,\n  border: '',\n  meta: {},\n  isDragging: false\n};\n\nvar $79dca703cc699b4f$export$633076c346814fbe = function (type, day, event, store, setLayout, index) {\n  var daysViewLayout = store.daysViewLayout,\n      headerLayout = store.headerLayout,\n      monthLayout = store.monthLayout;\n\n  if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL && day) {\n    var ref;\n    var formattedDayString = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(day);\n    var eventLayoutValue = (ref = daysViewLayout[formattedDayString]) === null || ref === void 0 ? void 0 : ref[event.id];\n    if (eventLayoutValue) setLayout(eventLayoutValue);\n  } else if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER) {\n    if (store.headerLayout) {\n      var headerLayoutValue = headerLayout[event.id];\n      if (headerLayoutValue) setLayout(headerLayoutValue);\n    }\n  } else if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH) {\n    if (store.monthLayout && index !== undefined) {\n      var ref1;\n      var monthLayoutValue = monthLayout === null || monthLayout === void 0 ? void 0 : (ref1 = monthLayout[index]) === null || ref1 === void 0 ? void 0 : ref1[event.id];\n      if (monthLayoutValue) setLayout(monthLayoutValue);\n    }\n  } else setLayout($79dca703cc699b4f$export$38477230a29207e3());\n};\n\nvar $79dca703cc699b4f$export$6da1c85d7de31b61 = function (e) {\n  var ref, ref2;\n  var touches = (ref = e.nativeEvent) === null || ref === void 0 ? void 0 : (ref2 = ref.touches) === null || ref2 === void 0 ? void 0 : ref2[0];\n  return !!touches;\n};\n\nvar $c57d36d3233524f5$export$ca41440b93b2a001 = function (event, timezone) {\n  return $cw6c3$swchelpers.objectSpread({}, event, {\n    startAt: $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt || timezone).set({\n      hour: 0,\n      minute: 0,\n      second: 1\n    }).toString(),\n    endAt: $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt || timezone).set({\n      hour: 23,\n      minute: 59,\n      second: 59\n    }).toString()\n  });\n};\n\nvar $c57d36d3233524f5$export$ebf0f5b49a0a9e59 = function (events1, width, calendarDays, timezone, setContext) {\n  var // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ref; // TODO prefilter only relevant events\n  // TODO remove used events from main array\n  // const formattedDayString: string = formatTimestampToDate(day);\n  //\n  // const dataForDay: any = events ? events[formattedDayString] : [];\n  //\n  // const headerEvents: any = renderEvents(calendarBodyWidth, dataForDay);\n  //\n  // compare each event and find those which can be placed next to each\n  // other and are not overlapping\n  // form them to row\n\n  var tableSpace = (width + $88a08af890f49243$export$447c5938f45c45a5) / 100 * $88a08af890f49243$export$b4e2ba6756dec2c;\n  var result = [];\n  var usedEvents = []; // filter only header events\n\n  var headerEventsFiltered = [];\n  if (!events1) return [[]];\n  (ref = Object.entries(events1)) === null || ref === void 0 ? void 0 : ref.map(function (param) {\n    var _param = $cw6c3$swchelpers.slicedToArray(param, 2),\n        key = _param[0],\n        items = _param[1]; // @ts-ignore\n\n\n    items.forEach(function (item) {\n      // filter only relevant events\n      if (item.allDay || $bf7b38bce41ca3dd$export$23783ea7bfe28abd(item)) {\n        var isInRange = $585762b051d85803$export$3a6eb9efca632dee(item, calendarDays, timezone);\n        if (isInRange) // correct position when external event ends in next day\n          headerEventsFiltered.push(item);\n      }\n    });\n  }); // find all matching events to fit in one row\n\n  headerEventsFiltered === null || headerEventsFiltered === void 0 ? void 0 : headerEventsFiltered.forEach(function (event) {\n    var eventPositionResult = []; // check if event was used already\n    // skip iteration if event was already resolved\n\n    if (usedEvents.includes(event.id)) return true; // set event to row\n\n    var rowWithNotOverlappingEvents = [event];\n    usedEvents.push(event.id); // compare to rest of the events\n\n    headerEventsFiltered.forEach(function (eventToCompare) {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) return true; // don't compare to self // maybe remove?\n\n      if (event.id === eventToCompare.id) return true; // check if events are not overlapping\n\n      var isOverlapping = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(event, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // found not overlapping matching event\n\n      if (!isOverlapping) {\n        var isMatchingAll = true; // compare match with other stored events for same row\n\n        rowWithNotOverlappingEvents.forEach(function (itemFromRow) {\n          var isOverlappingAll = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(itemFromRow, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // prevent merging if only one conflict exists\n\n          if (isOverlappingAll) isMatchingAll = false;\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    }); // now we have row with only not overlapping events\n    // sort events in row by start date\n\n    var sortedResult = rowWithNotOverlappingEvents.sort(function (a, b) {\n      return $cw6c3$luxon.DateTime.fromISO(a.startAt).toMillis() - $cw6c3$luxon.DateTime.fromISO(b.startAt).toMillis();\n    }); // place events accordingly in row next to each other\n\n    sortedResult.forEach(function (item) {\n      var offset = 0;\n      var eventWidth = 0;\n      var hasMatchingDay = false;\n      calendarDays.forEach(function (day) {\n        if ($585762b051d85803$export$f917769c218c90fd(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        } // increment offset only till we have matching day\n\n\n        if (!hasMatchingDay) offset += width;\n      }); // create event position data\n\n      var eventPositionData = {\n        event: item,\n        width: Math.round(eventWidth - tableSpace),\n        offsetLeft: offset + $88a08af890f49243$export$447c5938f45c45a5,\n        offsetTop: 0,\n        height: 20,\n        zIndex: 2\n      };\n      eventPositionResult.push(eventPositionData);\n    }); // save row to result\n\n    result.push(eventPositionResult);\n  });\n  var formattedResult = {};\n  result.forEach(function (events, index) {\n    events.forEach(function (item) {\n      formattedResult[item.event.id] = $cw6c3$swchelpers.objectSpread({}, item, {\n        offsetTop: index * 26\n      });\n    });\n  });\n  if (setContext) setContext('headerEventRowsCount', result.length);\n  return formattedResult;\n};\n\nvar $d936bbeb8e3b329f$export$fd46f924699b0eb4 = function (prevEvent, eventToUpdate, store, setContext, type, onEventDragFinish) {\n  var events1 = store.events,\n      calendarDays = store.calendarDays,\n      timezone = store.timezone,\n      width = store.width,\n      config = store.config,\n      selectedView = store.selectedView;\n  var result = {};\n  Object.entries(events1).forEach(function (keyValue) {\n    var _keyValue = $cw6c3$swchelpers.slicedToArray(keyValue, 2),\n        date = _keyValue[0],\n        events = _keyValue[1];\n\n    events === null || events === void 0 ? void 0 : events.forEach(function (item) {\n      if (item.id === eventToUpdate.id) {\n        var key = $cw6c3$luxon.DateTime.fromISO(eventToUpdate.startAt).toFormat('dd-MM-yyyy');\n        if (result[key]) result[key] = $cw6c3$swchelpers.toConsumableArray(result[key]).concat([eventToUpdate]);else result[key] = [eventToUpdate];\n      } else if (result[date]) result[date] = $cw6c3$swchelpers.toConsumableArray(result[date]).concat([item]);else result[date] = [item];\n    });\n  });\n  result = $7a3eb04f266ed8a4$export$485dc102822f21c6(result, timezone);\n  setContext('events', result);\n\n  if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL) {\n    var positions = $585762b051d85803$export$2edf4a4fedf73d36(calendarDays, result, width, config, selectedView);\n    setContext('daysViewLayout', positions);\n  }\n\n  if (type === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER) {\n    var headerPositions = $c57d36d3233524f5$export$ebf0f5b49a0a9e59(result, width / calendarDays.length, calendarDays, timezone, setContext);\n    setContext('headerLayout', headerPositions);\n  }\n\n  setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1); // return updated data with callback\n\n  if (onEventDragFinish) onEventDragFinish(prevEvent, eventToUpdate, result);\n};\n\nvar $f7dc25aaa4235907$var$timeout;\n\nvar $f7dc25aaa4235907$var$ButtonBase = function (props) {\n  var id = props.id,\n      onClick = props.onClick,\n      text = props.text,\n      className = props.className,\n      style1 = props.style,\n      children = props.children,\n      propagation = props.propagation,\n      disabled = props.disabled,\n      onClickFromParent = props.onClickFromParent,\n      onMouseDown = props.onMouseDown,\n      onMouseUp = props.onMouseUp,\n      onMouseMove = props.onMouseMove,\n      onTouchEnd = props.onTouchEnd;\n  var buttonRef = $cw6c3$react.useRef(null);\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isPressed = ref[0],\n      setIsPressed = ref[1];\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState({}), 2),\n      spanStyle = ref1[0],\n      setSpanStyle = ref1[1];\n\n  var onButtonClick = function (e) {\n    onClick(e);\n    if (onClickFromParent) onClickFromParent();\n  };\n\n  var animateRipple = function (event) {\n    var button = buttonRef.current;\n    if (!button) return;\n    var rect = button.getBoundingClientRect();\n    var oneSide = button.clientWidth > button.clientHeight ? button.clientWidth : button.clientHeight;\n    var touches = event.touches ? event.touches[0] : undefined;\n    var clickLeft;\n    var clickTop;\n\n    if (touches) {\n      clickLeft = touches.clientX - rect.left - oneSide;\n      clickTop = touches.clientY - rect.top - oneSide;\n    } else {\n      clickLeft = event.clientX;\n      clickTop = event.clientY;\n    }\n\n    var style = {\n      width: \"\".concat(oneSide * 2, \"px\"),\n      height: \"\".concat(oneSide * 2, \"px\"),\n      left: \"\".concat(clickLeft, \"px\"),\n      top: \"\".concat(clickTop, \"px\")\n    };\n    setSpanStyle(style);\n    setIsPressed(true);\n  };\n\n  var onTouchStart = function (e) {\n    if (!propagation) e.stopPropagation();\n    if (props.onTouchStart) props.onTouchStart(e);\n    if (isPressed) setIsPressed(false);\n    $f7dc25aaa4235907$var$timeout = setTimeout(function () {\n      animateRipple(e);\n    }, 100);\n  }; // Clear timeout for ripple effect\n\n\n  var onTouchMove = function (e) {\n    if (!propagation) e.stopPropagation();\n    if (props.onTouchMove) props.onTouchMove(e);\n    clearTimeout($f7dc25aaa4235907$var$timeout);\n  };\n\n  var buttonText = text ? text : '';\n  var buttonClassName = className ? \"Kalend__button \".concat(className, \" Kalend__ButtonBase\") : 'Kalend__button Kalend__ButtonBase';\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"button\", {\n    id: id,\n    ref: buttonRef,\n    onClick: onButtonClick,\n    onTouchMove: onTouchMove,\n    onTouchStart: onTouchStart,\n    onTouchEnd: onTouchEnd,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    onMouseMove: onMouseMove,\n    // onTouchStart={handleTouchStart}\n    // onMouseLeave={handleTouchOff}\n    // onTouchEnd={handleTouchOff}\n    // onTouchEndCapture={handleTouchCancel}\n    className: buttonClassName,\n    style: style1,\n    children: [children ? children : buttonText, isPressed && !disabled ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"span\", {\n      style: spanStyle,\n      className: 'Kalend__ButtonBase__animation'\n    }) : null]\n  });\n};\n\nvar $f7dc25aaa4235907$export$2e2bcd8739ae039 = $f7dc25aaa4235907$var$ButtonBase;\n\nvar $8304c40ecd0ca62c$var$EventSummary = function (props) {\n  var isDark = props.isDark,\n      summary = props.summary,\n      type = props.type;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n    className: \"Kalend__text \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Event__summary', isDark), \" Kalend__Event__summary__type-\").concat(type),\n    children: [summary, ' ']\n  });\n};\n\nvar $8304c40ecd0ca62c$export$2e2bcd8739ae039 = $8304c40ecd0ca62c$var$EventSummary;\nvar $5293df8efc30aa85$var$TIME_FORMAT_PATTERN = 'HH:mm';\nvar $5293df8efc30aa85$var$TIME_H_12_FORMAT_PATTERN = 'hh:mm a';\n\nvar $5293df8efc30aa85$var$parseTimeFormat = function (day, timeFormat) {\n  if (timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_24) return day.toFormat($5293df8efc30aa85$var$TIME_FORMAT_PATTERN);else return day.toFormat($5293df8efc30aa85$var$TIME_H_12_FORMAT_PATTERN);\n};\n\nvar $5293df8efc30aa85$var$formatEventTimeV2 = function (event, timeFormat, timezone) {\n  var startAt = event.startAt,\n      endAt = event.endAt,\n      timezoneStartAt = event.timezoneStartAt;\n  var startAtDateTime = $28306200f69a6328$export$6c2618c4afcf6cfb(startAt, timezoneStartAt, timezone);\n  var endAtDateTime = $28306200f69a6328$export$6c2618c4afcf6cfb(endAt, timezoneStartAt, timezone);\n  return {\n    start: $5293df8efc30aa85$var$parseTimeFormat(startAtDateTime, timeFormat),\n    end: $5293df8efc30aa85$var$parseTimeFormat(endAtDateTime, timeFormat)\n  };\n};\n\nvar $5293df8efc30aa85$var$EventTime = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var config = store.config;\n  var timezone = config.timezone,\n      timeFormat = config.timeFormat;\n  var timeV2 = $5293df8efc30aa85$var$formatEventTimeV2(event, timeFormat, timezone); // const time: string = formatEventTime(event);\n\n  return timeFormat === $e4750b0ebeed8e48$export$c4e1e4e065ff5bd8.H_12 ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n    className: \"Kalend__text \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Event__time', isDark), \" Kalend__Event__time__type-\").concat(type),\n    children: [timeV2.start, /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"br\", {}), timeV2.end]\n  }) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"p\", {\n    className: \"Kalend__text \".concat($bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__Event__time', isDark), \" Kalend__Event__time__type-\").concat(type),\n    children: [timeV2.start, \" - \", timeV2.end]\n  });\n};\n\nvar $5293df8efc30aa85$export$2e2bcd8739ae039 = $5293df8efc30aa85$var$EventTime;\n\nvar $82d351ff4940fae4$var$EventAgenda = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: 'Kalend__EventAgenda__container',\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($8304c40ecd0ca62c$export$2e2bcd8739ae039, {\n      summary: event.summary,\n      isDark: isDark,\n      type: type\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($5293df8efc30aa85$export$2e2bcd8739ae039, {\n      isDark: isDark,\n      event: event,\n      type: type\n    })]\n  });\n};\n\nvar $82d351ff4940fae4$export$2e2bcd8739ae039 = $82d351ff4940fae4$var$EventAgenda;\n\nvar $e4c1f2269414489f$var$EventMonth = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($8304c40ecd0ca62c$export$2e2bcd8739ae039, {\n    summary: event.summary,\n    isDark: isDark,\n    type: type\n  });\n};\n\nvar $e4c1f2269414489f$export$2e2bcd8739ae039 = $e4c1f2269414489f$var$EventMonth;\n\nvar $05400c9842705755$var$EventNormal = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type,\n      meta = props.meta;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      maxWidth: '-webkit-fill-available'\n    },\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($8304c40ecd0ca62c$export$2e2bcd8739ae039, {\n      summary: event.summary,\n      isDark: isDark,\n      type: type\n    }), (meta === null || meta === void 0 ? void 0 : meta.showTime) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($5293df8efc30aa85$export$2e2bcd8739ae039, {\n      isDark: isDark,\n      event: event,\n      type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL\n    }) : null]\n  });\n};\n\nvar $05400c9842705755$export$2e2bcd8739ae039 = $05400c9842705755$var$EventNormal;\n\nvar $54523a3171a39713$var$EventShowMoreMonth = function (props) {\n  var isDark = props.isDark,\n      event = props.event,\n      type = props.type;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: 'Kalend__EventShowMoreMonth__container',\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($8304c40ecd0ca62c$export$2e2bcd8739ae039, {\n      summary: event.summary,\n      isDark: isDark,\n      type: type\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($5293df8efc30aa85$export$2e2bcd8739ae039, {\n      isDark: isDark,\n      event: event,\n      type: type\n    })]\n  });\n};\n\nvar $54523a3171a39713$export$2e2bcd8739ae039 = $54523a3171a39713$var$EventShowMoreMonth;\n\nvar $66c3795c5fc7507d$var$StateReducer = function (state, action) {\n  // Replace whole state\n  if (!action.payload) return $cw6c3$swchelpers.objectSpread({}, state, action);\n  var _payload = action.payload,\n      stateName = _payload.stateName,\n      type = _payload.type,\n      data = _payload.data;\n  return $cw6c3$swchelpers.objectSpread({}, state, $cw6c3$swchelpers.defineProperty({}, stateName, data));\n};\n\nvar $66c3795c5fc7507d$export$2e2bcd8739ae039 = $66c3795c5fc7507d$var$StateReducer; // ref to cancel timout\n\nvar $b852c5f3008abacb$var$timeoutRef;\n\nvar $b852c5f3008abacb$var$EventButton = function (props) {\n  var // @ts-ignore\n  ref;\n  var event = props.event,\n      type1 = props.type,\n      _day = props.day,\n      day = _day === void 0 ? $cw6c3$luxon.DateTime.now() : _day,\n      index = props.index;\n  var startAt = event.startAt;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useReducer($66c3795c5fc7507d$export$2e2bcd8739ae039, $79dca703cc699b4f$export$2b35b885b699e674), 2),\n      state = ref1[0],\n      dispatchState = ref1[1];\n\n  var setState = function (stateName, data) {\n    var payload = {\n      stateName: stateName,\n      data: data\n    };\n    dispatchState({\n      state: state,\n      payload: payload\n    });\n  }; // store values as refs to access them in event listener\n\n\n  var offsetTopRef = $cw6c3$react.useRef(state.offsetTop);\n  var offsetLeftRef = $cw6c3$react.useRef(state.offsetLeft);\n  var xShiftIndexRef = $cw6c3$react.useRef(0);\n  var yShiftIndexRef = $cw6c3$react.useRef(0);\n  var draggingRef = $cw6c3$react.useRef(false);\n  var eventWasChangedRef = $cw6c3$react.useRef(false);\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref2[0],\n      dispatch = ref2[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var width = store.width,\n      calendarDays = store.calendarDays,\n      config = store.config,\n      daysViewLayout = store.daysViewLayout,\n      callbacks = store.callbacks;\n  var heightHook = $2c4fe1f6b84a6784$export$30dc190df7e420c4();\n  var hourHeight = config.hourHeight,\n      isDark = config.isDark;\n  var onEventClick = callbacks.onEventClick,\n      onEventDragFinish = callbacks.onEventDragFinish;\n  var columnWidth = width / (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH ? 7 : calendarDays.length);\n  var eventColor = $1500da26cef85c66$export$2d5ed1e6bc597003(event.color, isDark);\n  var isLoaded = state.width !== 0 && state.height > 0;\n  var style = {\n    position: type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA || type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH ? 'relative' : 'absolute',\n    height: state.height || $88a08af890f49243$export$eae15a231de23f4a,\n    width: state.width,\n    top: state.offsetTop,\n    left: state.offsetLeft,\n    zIndex: state.zIndex,\n    border: state.zIndex > 2 ? \"solid 1px white\" : \"solid 1px \".concat(eventColor),\n    backgroundColor: eventColor,\n    visibility: isLoaded ? 'visible' : 'hidden'\n  };\n\n  var handleEventClick = function (e) {\n    e.preventDefault();\n    e.stopPropagation(); // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n    if (draggingRef.current) {\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      draggingRef.current = false;\n      return;\n    }\n\n    if (onEventClick) onEventClick(event);\n  };\n\n  var setLayout = function (layout) {\n    setState('initialTop', layout.offsetTop);\n    setState('initialLeft', layout.offsetLeft);\n    setState('offsetTop', layout.offsetTop);\n    setState('offsetLeft', layout.offsetLeft);\n    setState('drawingY', layout.offsetTop);\n    setState('startAt', startAt);\n    setState('width', layout.width);\n    setState('height', layout.height);\n    setState('zIndex', layout.zIndex);\n    setState('border', layout.border);\n    setState('meta', layout.meta);\n  };\n\n  $cw6c3$react.useEffect(function () {\n    $79dca703cc699b4f$export$633076c346814fbe(type1, props.day, event, store, setLayout, index);\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    $79dca703cc699b4f$export$633076c346814fbe(type1, props.day, event, store, setLayout, index);\n  }, [daysViewLayout === null || daysViewLayout === void 0 ? void 0 : (ref = daysViewLayout[$bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(props.day || $cw6c3$luxon.DateTime.now())]) === null || ref === void 0 ? void 0 : ref[event.id]]);\n  $cw6c3$react.useEffect(function () {\n    $79dca703cc699b4f$export$633076c346814fbe(type1, props.day, event, store, setLayout, index);\n  }, [store.layoutUpdateSequence]);\n\n  var initMove = function () {\n    if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA) return;\n    if (!draggingRef.current) draggingRef.current = true;\n\n    if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL) {\n      setState('offsetLeft', 0);\n      setState('width', columnWidth - $88a08af890f49243$export$b4e2ba6756dec2c);\n    }\n  };\n\n  var onMove = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e)) return;\n\n    switch (type1) {\n      case $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL:\n        $b65920b85a89468f$export$8c6a352b48fd8d92(e, draggingRef, day, columnWidth, width, eventWasChangedRef, xShiftIndexRef, offsetLeftRef, offsetTopRef, setState);\n        break;\n\n      case $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER:\n        $df4cda54b7466b02$export$1fc19a5181516448(e, columnWidth, width, xShiftIndexRef, offsetLeftRef, eventWasChangedRef, setState);\n        break;\n\n      case $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH:\n        $e5a736e77c82a8d5$export$dc270e2350d64c2(e, heightHook, draggingRef, day, columnWidth, width, xShiftIndexRef, yShiftIndexRef, eventWasChangedRef, offsetLeftRef, offsetTopRef, setState, index || 0);\n        break;\n\n      default:\n        return;\n    }\n  };\n  /**\n  * Cancel dragging event\n  * remove listeners clean long click timeout and reset state\n  * @param e\n  */\n\n\n  var onMouseUp = function (e) {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUp, true);\n    document.removeEventListener('mousemove', onMove, true); // clear timeout\n\n    clearTimeout($b852c5f3008abacb$var$timeoutRef);\n\n    if (!eventWasChangedRef.current) {\n      setState('offsetLeft', state.offsetLeft);\n      setState('width', state.width);\n      setState('isDragging', false);\n      draggingRef.current = false;\n      return;\n    }\n\n    eventWasChangedRef.current = false;\n    if (!draggingRef.current) return;\n    setTimeout(function () {\n      draggingRef.current = false;\n      setState('isDragging', false);\n    }, 100); // add data to callback\n\n    if (onEventDragFinish) {\n      var newEvent = null;\n      if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL) newEvent = $b65920b85a89468f$export$8b07b20d06dbc3c2(offsetTopRef.current, offsetLeftRef.current, xShiftIndexRef, event, hourHeight);else if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER) newEvent = $df4cda54b7466b02$export$ff41551cf384acef(calendarDays, event, xShiftIndexRef);else if (type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH) newEvent = $e5a736e77c82a8d5$export$dd76bfaf05a6a47a(calendarDays, yShiftIndexRef, xShiftIndexRef, event);\n      if (newEvent) $d936bbeb8e3b329f$export$fd46f924699b0eb4(event, newEvent, store, setContext, type1, onEventDragFinish);\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  /**\n  * Start event dragging on long press/touch\n  * Set listeners\n  * @param e\n  */\n\n\n  var onMouseDownLong = function (e) {\n    if ($79dca703cc699b4f$export$6da1c85d7de31b61(e)) return;\n    setState('isDragging', true);\n    draggingRef.current = true;\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp, true); // set temp state while dragging\n\n    initMove();\n  };\n  /**\n  * Initial long press click/touch on event\n  * @param e\n  */\n\n\n  var onMouseDown = function (e) {\n    e.preventDefault();\n    e.stopPropagation(); // add timeout to differentiate from normal clicks\n\n    $b852c5f3008abacb$var$timeoutRef = setTimeout(function () {\n      onMouseDownLong(e);\n    }, 120);\n  };\n\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n    id: event.id,\n    isDark: isDark,\n    style: style,\n    className: \"Kalend__Event-\".concat(type1, \" \").concat(state.isDragging ? 'Kalend__EventButton__elevation' : '', \" \").concat(store.layoutUpdateSequence === 1 ? 'Kalend__Event__animate' : ''),\n    onClick: handleEventClick,\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp,\n    onTouchStart: onMouseDown,\n    onTouchMove: onMove,\n    onTouchEnd: onMouseUp,\n    children: [type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH || type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($e4c1f2269414489f$export$2e2bcd8739ae039, {\n      event: event,\n      isDark: isDark,\n      type: type1\n    }) : null, type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($05400c9842705755$export$2e2bcd8739ae039, {\n      event: event,\n      isDark: isDark,\n      type: type1,\n      meta: state.meta\n    }) : null, type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($82d351ff4940fae4$export$2e2bcd8739ae039, {\n      event: event,\n      isDark: isDark,\n      type: type1\n    }) : null, type1 === $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($54523a3171a39713$export$2e2bcd8739ae039, {\n      event: event,\n      isDark: isDark,\n      type: type1\n    }) : null]\n  });\n};\n\nvar $b852c5f3008abacb$export$2e2bcd8739ae039 = $b852c5f3008abacb$var$EventButton;\n\nvar $86ca9f6752cc056e$var$renderEvents = function (events) {\n  if (!events || events.length === 0) return [];\n  var sortedEvents = events === null || events === void 0 ? void 0 : events.sort(function (a, b) {\n    return $cw6c3$luxon.DateTime.fromISO(a.startAt).toMillis() - $cw6c3$luxon.DateTime.fromISO(b.startAt).toMillis();\n  });\n  return sortedEvents.map(function (event) {\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n      event: event,\n      type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.AGENDA\n    }, event.id);\n  });\n};\n\nvar $86ca9f6752cc056e$var$AgendaDayRow = function (props) {\n  var day = props.day,\n      events = props.events;\n  var dayEvents = $86ca9f6752cc056e$var$renderEvents(events);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: 'Kalend__AgendaDayRow__container',\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__AgendaDayRow__container-day',\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($0689dc746d054cae$export$2e2bcd8739ae039, {\n        day: day,\n        width: 50\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($ecf585202d453fcb$export$2e2bcd8739ae039, {\n        width: 50,\n        day: day\n      })]\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__AgendaDayRow__events',\n      children: dayEvents\n    })]\n  });\n};\n\nvar $86ca9f6752cc056e$export$2e2bcd8739ae039 = $86ca9f6752cc056e$var$AgendaDayRow;\n\nvar $ae9d5d34ac1cc52f$var$renderAgendaEvents = function (events, calendarDays) {\n  return calendarDays.map(function (calendarDay) {\n    var hasEvents = !!events[calendarDay.toFormat($d49542164c9bae14$export$74b2237eca26435b)];\n    if (hasEvents) return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($86ca9f6752cc056e$export$2e2bcd8739ae039, {\n      day: calendarDay,\n      events: events[calendarDay.toFormat($d49542164c9bae14$export$74b2237eca26435b)]\n    }, calendarDay.toString());\n  });\n};\n\nvar $ae9d5d34ac1cc52f$var$AgendaView = function (props) {\n  var events = props.events;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var calendarDays = store.calendarDays,\n      height = store.height;\n  var agendaEvents = $ae9d5d34ac1cc52f$var$renderAgendaEvents(events, calendarDays);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__Agenda__container',\n    style: {\n      height: height\n    },\n    children: agendaEvents\n  });\n};\n\nvar $ae9d5d34ac1cc52f$export$2e2bcd8739ae039 = $ae9d5d34ac1cc52f$var$AgendaView;\n\nvar $cea2a6b325f4edcd$var$CalendarIcon = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    fill: props.fill,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"calendar\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"8\",\n          cy: \"16\",\n          r: \"1\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $cea2a6b325f4edcd$export$2e2bcd8739ae039 = $cea2a6b325f4edcd$var$CalendarIcon;\n\nvar $de758c447aa9231a$var$ChevronDown = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"chevron-down\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $de758c447aa9231a$export$2e2bcd8739ae039 = $de758c447aa9231a$var$ChevronDown;\n\nvar $2764ed95df1a4c11$var$ChevronLeft = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"chevron-left\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          transform: \"rotate(90 12 12)\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $2764ed95df1a4c11$export$2e2bcd8739ae039 = $2764ed95df1a4c11$var$ChevronLeft;\n\nvar $ddaf3c6577962ab4$var$ChevronRight = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    className: props.className,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"chevron-right\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          transform: \"rotate(-90 12 12)\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"path\", {\n          d: \"M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z\"\n        })]\n      })\n    })\n  });\n};\n\nvar $ddaf3c6577962ab4$export$2e2bcd8739ae039 = $ddaf3c6577962ab4$var$ChevronRight;\n\nvar $e5981d21af543faf$var$MenuIcon = function (props) {\n  /*#__PURE__*/\n  return $cw6c3$reactjsxruntime.jsx(\"svg\", {\n    className: props.className,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"g\", {\n      \"data-name\": \"Layer 2\",\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"g\", {\n        \"data-name\": \"more-vertical\",\n        children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"rect\", {\n          width: \"24\",\n          height: \"24\",\n          transform: \"rotate(-90 12 12)\",\n          opacity: \"0\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"12\",\n          cy: \"12\",\n          r: \"2\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"12\",\n          cy: \"5\",\n          r: \"2\"\n        }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"circle\", {\n          cx: \"12\",\n          cy: \"19\",\n          r: \"2\"\n        })]\n      })\n    })\n  });\n};\n\nvar $e5981d21af543faf$export$2e2bcd8739ae039 = $e5981d21af543faf$var$MenuIcon;\nvar $1c7a61445362ebf7$export$a9676248d3e54baf = {\n  ChevronDown: $de758c447aa9231a$export$2e2bcd8739ae039,\n  ChevronLeft: $2764ed95df1a4c11$export$2e2bcd8739ae039,\n  ChevronRight: $ddaf3c6577962ab4$export$2e2bcd8739ae039,\n  Calendar: $cea2a6b325f4edcd$export$2e2bcd8739ae039,\n  More: $e5981d21af543faf$export$2e2bcd8739ae039\n};\nvar $63103f0ef67d319d$export$3d0db7ed812b6b3f = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee(calendarDays, calendarView, direction, weekDayStart, dispatchContext) {\n  var setSelectedDate, newCalendarDays;\n  return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n    while (1) switch (_ctx.prev = _ctx.next) {\n      case 0:\n        setSelectedDate = function (date) {\n          dispatchContext('selectedDate', date);\n        };\n\n        newCalendarDays = $1500da26cef85c66$export$20dc9138dd5b1a6a(direction, calendarDays, calendarView, setSelectedDate, weekDayStart);\n        dispatchContext('calendarDays', newCalendarDays);\n\n      case 3:\n      case \"end\":\n        return _ctx.stop();\n    }\n  }, _callee); // dispatchContext(\n  //   'selectedDate',\n  //   newCalendarDays[chooseSelectedDateIndex(calendarView)]\n  // );\n}));\nvar $63103f0ef67d319d$export$28b655052872eb26 = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee(selectedView, setContext, weekDayStart, param) {\n  var dateNow;\n  return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n    while (1) switch (_ctx.prev = _ctx.next) {\n      case 0:\n        dateNow = param === void 0 ? $cw6c3$luxon.DateTime.now() : param;\n        _ctx.next = 3;\n        return $63103f0ef67d319d$export$3d0db7ed812b6b3f([dateNow], selectedView, $e4750b0ebeed8e48$export$c2bed76d77ee7287.TODAY, weekDayStart, setContext);\n\n      case 3:\n      case \"end\":\n        return _ctx.stop();\n    }\n  }, _callee);\n}));\n\nvar $224cea852abf103b$var$ButtonIcon = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isPressed = ref[0],\n      setIsPressed = ref[1];\n  var children = props.children,\n      onClick = props.onClick,\n      size = props.size,\n      disabled = props.disabled,\n      isDark = props.isDark,\n      iconSize = props.iconSize,\n      noActive = props.noActive,\n      backdropClassName = props.backdropClassName,\n      style = props.style;\n\n  var handleTouchStart = function () {\n    return setIsPressed(true);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  var handleTouchOff = function (e) {\n    return setIsPressed(false);\n  };\n\n  var containerClassName = !size ? 'Kalend__ButtonIcon__container' : \"Kalend__ButtonIcon__container-\".concat(size);\n  var backdropClassNameString = backdropClassName ? backdropClassName : 'Kalend__ButtonIcon__backdrop';\n  var buttonClassName = noActive ? \"\".concat(disabled ? 'Kalend__ButtonIcon__disabled ' : '', \"Kalend__ButtonIcon-inactive\") : \"\".concat(disabled ? 'Kalend__ButtonIcon__disabled ' : '', \"Kalend__ButtonIcon\");\n  var IconElement = /*#__PURE__*/$parcel$interopDefault($cw6c3$react).cloneElement(children, {\n    className: \"Kalend__ButtonIcon__svg\".concat(iconSize ? \"-\".concat(iconSize) : '-normal')\n  });\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: containerClassName,\n    style: style,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"button\", {\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65(buttonClassName, isDark),\n      onClick: onClick,\n      disabled: disabled,\n      onTouchStart: handleTouchStart,\n      onTouchEnd: handleTouchOff,\n      children: [IconElement, isPressed ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: backdropClassNameString\n      }) : null]\n    })\n  });\n};\n\nvar $224cea852abf103b$export$2e2bcd8739ae039 = $224cea852abf103b$var$ButtonIcon;\n\nvar $6188babcb8da6286$var$HeaderCalendarButton = function (props) {\n  var buttonData = props.buttonData,\n      setViewChanged = props.setViewChanged,\n      handleClose = props.handleClose,\n      isForcedMobile = props.isForcedMobile;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      selectedView = store.selectedView,\n      isMobile = store.isMobile;\n  var isSelected = buttonData.value === selectedView;\n  var buttonClassName = \"Kalend__header_calendar_button\".concat(isSelected ? '-selected' : '');\n  var textClassName = \"Kalend__text Kalend__header_calendar_button-text\".concat(isSelected ? '-selected' : '');\n\n  var navigateFunction = function () {\n    if (handleClose) handleClose();\n    setViewChanged(buttonData.value);\n  };\n\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08(buttonClassName, isMobile || isForcedMobile),\n    isDark: isDark,\n    onClick: navigateFunction,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08(textClassName, isMobile, isDark),\n      children: buttonData.label\n    })\n  });\n};\n\nvar $6188babcb8da6286$export$72c130881ba16236 = function (disabledViews) {\n  if (!disabledViews || disabledViews && (disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.length) + 1 !== Object.values($e4750b0ebeed8e48$export$ec9758e21af63072).length) return false;\n  return true;\n};\n/**\n * Buttons for switching calendar view in desktop layout\n * @constructor\n */\n\n\nvar $6188babcb8da6286$var$HeaderCalendarButtons = function (props) {\n  var t = $cw6c3$reacti18next.useTranslation().t;\n  var disabledViews = props.disabledViews,\n      setViewChanged = props.setViewChanged,\n      handleClose = props.handleClose,\n      isForcedMobile = props.isForcedMobile;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      isMobile = store.isMobile;\n  return $6188babcb8da6286$export$72c130881ba16236(disabledViews) ? null : /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08('Kalend__header_calendar_buttons__container', !!(isMobile || isForcedMobile), isDark),\n    children: [!(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: t('buttons:agenda'),\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.DAY)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: t('buttons:day'),\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.DAY\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: t('buttons:threeDays'),\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.WEEK)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: t('buttons:week'),\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null, !(disabledViews === null || disabledViews === void 0 ? void 0 : disabledViews.includes($e4750b0ebeed8e48$export$ec9758e21af63072.MONTH)) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$var$HeaderCalendarButton, {\n      buttonData: {\n        label: t('buttons:month'),\n        value: $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH\n      },\n      setViewChanged: setViewChanged,\n      handleClose: handleClose,\n      isForcedMobile: isForcedMobile\n    }) : null]\n  });\n};\n\nvar $6188babcb8da6286$export$2e2bcd8739ae039 = $6188babcb8da6286$var$HeaderCalendarButtons;\n\nvar $95f304efc96ef4c9$var$CalendarViewDropdown = function (props) {\n  var t = $cw6c3$reacti18next.useTranslation().t;\n  var setViewChanged = props.setViewChanged;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isOpen = ref[0],\n      setOpen = ref[1];\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref1[0];\n  var config = store.config,\n      isMobile = store.isMobile,\n      selectedView = store.selectedView;\n  var isDark = config.isDark,\n      disabledViews = config.disabledViews,\n      disableMobileDropdown = config.disableMobileDropdown;\n\n  var handleOpen = function () {\n    return setOpen(true);\n  };\n\n  var handleClose = function () {\n    return setOpen(false);\n  };\n\n  var preventDefault = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  return isMobile && (disableMobileDropdown || $6188babcb8da6286$export$72c130881ba16236(disabledViews)) || $6188babcb8da6286$export$72c130881ba16236(disabledViews) ? null : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($cw6c3$reactjsxruntime.Fragment, {\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__CalendarViewDropdown__wrapper',\n      children: [isMobile ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n        isDark: isDark,\n        onClick: handleOpen,\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.More, {\n          className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('icon-svg', isDark)\n        })\n      }, 'calendar') : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n        isDark: isDark,\n        className: 'Kalend__ButtonBase-border',\n        onClick: handleOpen,\n        text: t($bf7b38bce41ca3dd$export$205aaf06acb1c5fc(selectedView))\n      }), isOpen ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: 'Kalend__CalendarViewDropdown__backdrop',\n        onClick: handleClose\n      }) : null, isOpen ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: 'Kalend__CalendarViewDropdown__container',\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n          className: 'Kalend__CalendarViewDropdown__container-content',\n          onClick: preventDefault,\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$export$2e2bcd8739ae039, {\n            disabledViews: disabledViews,\n            setViewChanged: setViewChanged,\n            handleClose: handleClose,\n            isForcedMobile: true\n          })\n        })\n      }) : null]\n    })\n  });\n};\n\nvar $95f304efc96ef4c9$export$2e2bcd8739ae039 = $95f304efc96ef4c9$var$CalendarViewDropdown;\n\nvar $d2b46716a1f3a2a1$var$DesktopLayout = function (props) {\n  var children = props.children;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isMobile = store.isMobile;\n  return !isMobile ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__DesktopLayout',\n    children: children\n  }) : null;\n};\n\nvar $d2b46716a1f3a2a1$export$2e2bcd8739ae039 = $d2b46716a1f3a2a1$var$DesktopLayout;\n/**\n * Calendar title in header in month date format\n * @param props\n * @constructor\n */\n\nvar $e8a58db0b7f8e0e1$var$HeaderCalendarTitle = function (props) {\n  var title = props.title;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark,\n      isMobile = store.isMobile;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08(\"Kalend__HeaderCalendarTitle__container\", isMobile),\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n      className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08('Kalend__text Kalend__HeaderCalendarTitle', isMobile, isDark),\n      children: title\n    })\n  });\n};\n\nvar $e8a58db0b7f8e0e1$export$2e2bcd8739ae039 = $e8a58db0b7f8e0e1$var$HeaderCalendarTitle;\n\nvar $60dd5ae4676e5d2e$var$MobileLayout = function (props) {\n  var children = props.children,\n      style = props.style;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isMobile = store.isMobile;\n  return isMobile ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__MobileLayout',\n    style: style,\n    children: children\n  }) : null;\n};\n\nvar $60dd5ae4676e5d2e$export$2e2bcd8739ae039 = $60dd5ae4676e5d2e$var$MobileLayout;\n/**\n * Title with calendar navigation buttons for desktop layout\n * @param props\n * @constructor\n */\n\nvar $21db0de5ba63f204$var$CalendarDesktopNavigation = function (props) {\n  var t = $cw6c3$reacti18next.useTranslation().t;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var config = store.config,\n      calendarDays = store.calendarDays,\n      selectedView = store.selectedView,\n      selectedDate = store.selectedDate,\n      isMobile = store.isMobile,\n      width = store.width;\n  var weekDayStart = config.weekDayStart,\n      isDark = config.isDark;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(true), 2),\n      isFullNavigationHidden = ref1[0],\n      setIsFullNavigationHidden = ref1[1];\n  var titleDate = $cw6c3$luxon.DateTime.fromISO(selectedDate);\n  var title = \"\".concat(t(\"months:\".concat(titleDate.toFormat('MMMM').toLowerCase())), \" \").concat(titleDate.toFormat('yyyy'));\n  var navigateBackwards = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee() {\n    return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n      while (1) switch (_ctx.prev = _ctx.next) {\n        case 0:\n          _ctx.next = 2;\n          return $63103f0ef67d319d$export$3d0db7ed812b6b3f(calendarDays, selectedView, $e4750b0ebeed8e48$export$c2bed76d77ee7287.BACKWARDS, weekDayStart, setContext);\n\n        case 2:\n          return _ctx.abrupt(\"return\", _ctx.sent);\n\n        case 3:\n        case \"end\":\n          return _ctx.stop();\n      }\n    }, _callee);\n  }));\n  var navigateForward = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee() {\n    return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n      while (1) switch (_ctx.prev = _ctx.next) {\n        case 0:\n          _ctx.next = 2;\n          return $63103f0ef67d319d$export$3d0db7ed812b6b3f(calendarDays, selectedView, $e4750b0ebeed8e48$export$c2bed76d77ee7287.FORWARD, weekDayStart, setContext);\n\n        case 2:\n          return _ctx.abrupt(\"return\", _ctx.sent);\n\n        case 3:\n        case \"end\":\n          return _ctx.stop();\n      }\n    }, _callee);\n  }));\n  var navigateToTodayDate = $cw6c3$swchelpers.asyncToGenerator($parcel$interopDefault($cw6c3$regeneratorruntime).mark(function _callee() {\n    return $parcel$interopDefault($cw6c3$regeneratorruntime).wrap(function _callee$(_ctx) {\n      while (1) switch (_ctx.prev = _ctx.next) {\n        case 0:\n          _ctx.next = 2;\n          return $63103f0ef67d319d$export$28b655052872eb26(selectedView, setContext, weekDayStart, $cw6c3$luxon.DateTime.now());\n\n        case 2:\n        case \"end\":\n          return _ctx.stop();\n      }\n    }, _callee);\n  })); // handle showing  full desktop navigation panel or dropdown for\n  // different screen size\n\n  $cw6c3$react.useEffect(function () {\n    var element = document.querySelector('.Kalend__CalendarDesktopNavigation__container');\n\n    if (element) {\n      if (element) {\n        if (element.getBoundingClientRect().width <= 950) setIsFullNavigationHidden(true);else setIsFullNavigationHidden(false);\n      }\n    }\n  }, [width]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: $bf7b38bce41ca3dd$export$cf733e3bd5432c08('Kalend__CalendarDesktopNavigation__container', isMobile, isDark),\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        width: isMobile ? '100%' : 'auto'\n      },\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($d2b46716a1f3a2a1$export$2e2bcd8739ae039, {\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n          className: 'Kalend__CalendarDesktopNavigation__buttons',\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n            children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n              className: 'Kalend__ButtonBase-border',\n              isDark: isDark,\n              onClick: navigateToTodayDate,\n              children: t('buttons:today')\n            }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateBackwards,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronLeft, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'left'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateForward,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronRight, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'right')]\n          })\n        })\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($e8a58db0b7f8e0e1$export$2e2bcd8739ae039, {\n        title: title\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($60dd5ae4676e5d2e$export$2e2bcd8739ae039, {\n        style: {\n          width: '100%'\n        },\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n          className: 'Kalend__CalendarDesktopNavigation__buttons',\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n            children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateBackwards,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronLeft, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'left'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateForward,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.ChevronRight, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'right'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($224cea852abf103b$export$2e2bcd8739ae039, {\n              isDark: isDark,\n              onClick: navigateToTodayDate,\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($1c7a61445362ebf7$export$a9676248d3e54baf.Calendar, {\n                className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__icon-svg', isDark)\n              })\n            }, 'calendar'), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($95f304efc96ef4c9$export$2e2bcd8739ae039, {\n              disabledViews: props.disabledViews,\n              setViewChanged: props.setViewChanged,\n              disableMobileDropdown: props.disableMobileDropdown\n            })]\n          })\n        })\n      })]\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginRight: 12,\n        justifyContent: 'flex-end',\n        flex: 'auto'\n      },\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($d2b46716a1f3a2a1$export$2e2bcd8739ae039, {\n        children: isFullNavigationHidden ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($95f304efc96ef4c9$export$2e2bcd8739ae039, {\n          disabledViews: props.disabledViews,\n          setViewChanged: props.setViewChanged,\n          disableMobileDropdown: props.disableMobileDropdown\n        }) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($6188babcb8da6286$export$2e2bcd8739ae039, {\n          disabledViews: props.disabledViews,\n          setViewChanged: props.setViewChanged\n        })\n      })\n    })]\n  });\n};\n\nvar $21db0de5ba63f204$export$2e2bcd8739ae039 = $21db0de5ba63f204$var$CalendarDesktopNavigation;\n\nvar $9a525da4604d3f07$var$CalendarHeaderColText = function (props) {\n  var children = props.children;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderColText__container',\n    children: children\n  });\n};\n\nvar $9a525da4604d3f07$export$2e2bcd8739ae039 = $9a525da4604d3f07$var$CalendarHeaderColText;\n\nvar $2a3380b4418c18d4$var$CalendarHeaderCol = function (props) {\n  var children = props.children;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var isDark = store.isDark;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__CalendarHeaderCol', isDark),\n    children: children\n  });\n};\n\nvar $2a3380b4418c18d4$export$2e2bcd8739ae039 = $2a3380b4418c18d4$var$CalendarHeaderCol;\n/**\n * Get numeric representation of days\n *\n * @param props\n * @constructor\n */\n\nvar $0c3afbe9f694dbf0$var$CalendarHeaderDates = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      isMobile = store.isMobile,\n      selectedView = store.selectedView;\n  var daysNum = props.daysNum,\n      calendarDays = props.calendarDays;\n  var colWidth = $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, selectedView) / daysNum;\n\n  var renderNumericDays = function () {\n    return calendarDays.map(function (calendarDay) {\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($ecf585202d453fcb$export$2e2bcd8739ae039, {\n        width: colWidth,\n        day: calendarDay\n      }, calendarDay.toString());\n    });\n  };\n\n  var numericDays = renderNumericDays();\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($2a3380b4418c18d4$export$2e2bcd8739ae039, {\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($9a525da4604d3f07$export$2e2bcd8739ae039, {\n      children: numericDays\n    })\n  });\n};\n\nvar $0c3afbe9f694dbf0$export$2e2bcd8739ae039 = $0c3afbe9f694dbf0$var$CalendarHeaderDates;\n/**\n * Render text representation of days\n *\n * @param props\n * @constructor\n */\n\nvar $386a7bec00aa15a1$var$CalendarHeaderWeekDays = function (props) {\n  var t = $cw6c3$reacti18next.useTranslation().t;\n  var daysNum = props.daysNum,\n      days = props.days;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      selectedView = store.selectedView,\n      isMobile = store.isMobile,\n      config = store.config;\n  var weekDayStart = config.weekDayStart;\n  var isMonthView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  var colWidth = isMonthView ? width / daysNum : $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, selectedView) / daysNum;\n  var weekDays = weekDayStart === $e4750b0ebeed8e48$export$5a05f7ffc0500403.SUNDAY ? $1500da26cef85c66$export$88e7cb308ec58e48 : $1500da26cef85c66$export$933d53aed74a6ef0;\n\n  var renderDaysText = function () {\n    var dayTextColumnWidth = {\n      width: colWidth\n    };\n    if (isMonthView) return weekDays.map(function (day) {\n      /*#__PURE__*/\n      return $cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: 'Kalend__CalendarHeaderWeekDays__col',\n        style: dayTextColumnWidth,\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n          className: 'Kalend__text Kalend__CalendarHeaderWeekDays__text',\n          children: t(\"weekDays:\".concat(day))\n        })\n      }, day);\n    });\n    return days.map(function (calendarDay) {\n      /*#__PURE__*/\n      return $cw6c3$reactjsxruntime.jsx($0689dc746d054cae$export$2e2bcd8739ae039, {\n        day: calendarDay,\n        width: colWidth\n      }, calendarDay.toString());\n    });\n  };\n\n  var namesForDays = renderDaysText();\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarHeaderWeekDays__wrapper',\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarHeaderWeekDays__container',\n      children: namesForDays\n    })\n  });\n};\n\nvar $386a7bec00aa15a1$export$2e2bcd8739ae039 = $386a7bec00aa15a1$var$CalendarHeaderWeekDays;\n\nvar $a214409a8fa5f760$var$CalendarHeaderWrapper = function (props) {\n  var children = props.children,\n      isMonthView = props.isMonthView;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      isDark = store.isDark;\n  var headerStyle = {\n    paddingLeft: isMonthView ? 0 : $88a08af890f49243$export$447c5938f45c45a5,\n    width: width\n  };\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__CalendarHeaderCol', isDark),\n    style: headerStyle,\n    children: children\n  });\n};\n\nvar $a214409a8fa5f760$export$2e2bcd8739ae039 = $a214409a8fa5f760$var$CalendarHeaderWrapper;\n\nvar $2d4e959c42b07254$var$CalendarHeaderDays = function (props) {\n  var isMonthView = props.isMonthView;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var calendarDays = store.calendarDays;\n  var daysNum = isMonthView ? 7 : calendarDays.length;\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($a214409a8fa5f760$export$2e2bcd8739ae039, {\n    isMonthView: isMonthView,\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($9a525da4604d3f07$export$2e2bcd8739ae039, {\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($386a7bec00aa15a1$export$2e2bcd8739ae039, {\n        daysNum: daysNum,\n        days: calendarDays\n      })\n    }), !isMonthView ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($9a525da4604d3f07$export$2e2bcd8739ae039, {\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($0c3afbe9f694dbf0$export$2e2bcd8739ae039, {\n        calendarDays: calendarDays,\n        daysNum: daysNum\n      })\n    }) : null]\n  });\n};\n\nvar $2d4e959c42b07254$export$2e2bcd8739ae039 = $2d4e959c42b07254$var$CalendarHeaderDays;\n\nvar $89f45f2bf33757e0$var$CalendarHeaderEvents = function () {\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref2[0],\n      dispatch = ref2[1];\n  var selectedView = store.selectedView,\n      width = store.width,\n      calendarDays = store.calendarDays;\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState('Kalend__CalendarHeaderEvents_animationExpand'), 2),\n      animation = ref1[0],\n      setAnimation = ref1[1];\n\n  var renderEvents = function (data) {\n    var ref;\n    return (ref = Object.entries(data)) === null || ref === void 0 ? void 0 : ref.map(function (keyValue) {\n      var item = keyValue[1];\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n        event: item.event,\n        type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.HEADER\n      }, item.event.id);\n    });\n  };\n\n  var column = width / $1500da26cef85c66$export$f16d393a3268e3f3(selectedView);\n  var colWidthStyle = {\n    width: column\n  };\n  var daysNumbers = calendarDays.map(function (calendarDay) {\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarHeaderEvents__col-wrapper',\n      style: colWidthStyle\n    }, calendarDay.toString());\n  });\n  var headerEvents = renderEvents(store.headerLayout);\n  var headerStyle = {\n    // paddingLeft: CALENDAR_OFFSET_LEFT,\n    height: store.headerEventRowsCount * 26,\n    transition: 'all 0.3s'\n  };\n  $cw6c3$react.useEffect(function () {\n    setTimeout(function () {\n      setContext('height', $2c4fe1f6b84a6784$export$c08559766941f856());\n    }, 600);\n  }, [store.headerEventRowsCount]);\n  $cw6c3$react.useEffect(function () {\n    // set animation\n    setAnimation('Kalend__CalendarHeaderEvents_animationExpand'); // clean animation\n\n    setTimeout(function () {\n      setAnimation('');\n    }, 600);\n  }, [store.headerEventRowsCount]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: \"Kalend__CalendarHeaderEvents__container \".concat(animation),\n    style: headerStyle,\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarHeaderEvents__row',\n      children: daysNumbers\n    }), headerEvents]\n  });\n};\n\nvar $89f45f2bf33757e0$export$2e2bcd8739ae039 = $89f45f2bf33757e0$var$CalendarHeaderEvents;\n\nvar $58f20473f1f0067a$var$CalendarHeader = function (props) {\n  var events = props.events;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var isDark = store.isDark,\n      width = store.width,\n      selectedView = store.selectedView,\n      calendarDays = store.calendarDays,\n      config = store.config;\n  var timezone = config.timezone;\n  var isDayView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY;\n  var isMonthView = selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH;\n  $cw6c3$react.useEffect(function () {\n    var eventPositions = $c57d36d3233524f5$export$ebf0f5b49a0a9e59(events, width / calendarDays.length, calendarDays, timezone, setContext);\n    setContext('headerLayout', eventPositions);\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    var eventPositions = $c57d36d3233524f5$export$ebf0f5b49a0a9e59(events, width / calendarDays.length, calendarDays, timezone, setContext);\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n    setContext('headerLayout', eventPositions);\n  }, [calendarDays[0]]);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: \"Kalend__CalendarHeader\".concat(!isMonthView ? '-tall' : '').concat(isDayView ? '-day' : '').concat(isMonthView ? '-small' : '').concat(isDark ? '-dark' : ''),\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($2d4e959c42b07254$export$2e2bcd8739ae039, {\n      width: width,\n      isMonthView: isMonthView\n    }), !isMonthView && store.headerLayout ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($89f45f2bf33757e0$export$2e2bcd8739ae039, {}) : null]\n  });\n};\n\nvar $58f20473f1f0067a$export$2e2bcd8739ae039 = $58f20473f1f0067a$var$CalendarHeader;\n\nvar $f89b7b16d8022e68$var$CalendarTableLayoutLayer = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isMounted = ref[0],\n      setIsMounted = ref[1];\n  $cw6c3$react.useEffect(function () {\n    var rootEl = document.querySelector('.Kalend__Calendar__table');\n    if (rootEl) setIsMounted(true);\n  }, [document.querySelector('.Kalend__Calendar__table')]);\n  return isMounted ? props.children : null;\n};\n\nvar $f89b7b16d8022e68$export$2e2bcd8739ae039 = $f89b7b16d8022e68$var$CalendarTableLayoutLayer;\n\nvar $db9a28e0bd6328b4$var$renderHours = function (width, hourHeight, isDark, timeFormat) {\n  return $bf7b38bce41ca3dd$export$d9b78e6f3f437c1f(timeFormat).map(function (hour) {\n    return hour === '00' || hour === '24' ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__CalendarBodyHours__container',\n      style: {\n        minHeight: hourHeight\n      }\n    }, hour) : /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__CalendarBodyHours__container',\n      style: {\n        minHeight: hourHeight\n      },\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__text Kalend__CalendarBodyHours__text', isDark),\n        children: hour\n      }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__text Kalend__CalendarBodyHours__line', isDark),\n        style: {\n          width: width - $88a08af890f49243$export$447c5938f45c45a5\n        }\n      })]\n    }, hour);\n  });\n};\n\nvar $db9a28e0bd6328b4$var$CalendarBodyHours = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var width = store.width,\n      height = store.height,\n      config = store.config,\n      isDark = store.isDark;\n  var hourHeight = config.hourHeight,\n      timeFormat = config.timeFormat;\n  var hours = $db9a28e0bd6328b4$var$renderHours(width, hourHeight, isDark, timeFormat);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__CalendarBodyHours__wrapper',\n    style: {\n      height: height\n    },\n    children: hours\n  });\n};\n\nvar $db9a28e0bd6328b4$export$2e2bcd8739ae039 = $db9a28e0bd6328b4$var$CalendarBodyHours;\n\nvar $17d79b7922eec8b8$var$renderEvents = function (dataset, day, timezone) {\n  return dataset.filter(function (item) {\n    if (!item.allDay) {\n      var daysDiff = $28306200f69a6328$export$6c2618c4afcf6cfb(item.endAt, item.timezoneStartAt || timezone).diff($28306200f69a6328$export$6c2618c4afcf6cfb(item.startAt, item.timezoneStartAt || timezone)).days;\n      if (daysDiff < 1) return item;\n    }\n  }).map(function (item) {\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n      event: item,\n      type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.NORMAL,\n      meta: item.meta,\n      day: day\n    }, item.id);\n  });\n};\n\nvar $17d79b7922eec8b8$var$DaysViewOneDay = function (props) {\n  var ref;\n  var day = props.day,\n      index = props.index,\n      data = props.data;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref1[0];\n  var width = store.width,\n      selectedView = store.selectedView,\n      config = store.config,\n      callbacks = store.callbacks;\n  var onNewEventClick = callbacks.onNewEventClick;\n  var isDark = config.isDark,\n      hourHeight = config.hourHeight,\n      timezone = config.timezone;\n  var oneDayStyle = {\n    width: width / $1500da26cef85c66$export$f16d393a3268e3f3(selectedView),\n    height: hourHeight * 24\n  };\n  var isToday = $d49542164c9bae14$export$2e2bcd8739ae039.isToday(day);\n  var isFirstDay = index === 0;\n  var dataForDay = data;\n  var dateNow = $cw6c3$luxon.DateTime.local();\n  var nowPosition = dateNow.diff($cw6c3$luxon.DateTime.local().set({\n    hour: 0,\n    minute: 0,\n    second: 0\n  }), 'minutes').toObject().minutes / (60 / hourHeight);\n  $cw6c3$react.useEffect(function () {\n    if (isToday) {\n      var elements = document.querySelectorAll('.calendar-body__wrapper');\n      var _iteratorNormalCompletion = true,\n          _didIteratorError = false,\n          _iteratorError = undefined;\n\n      try {\n        for (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var element = _step.value;\n          element.scrollTo({\n            top: nowPosition - 40,\n            behavior: 'smooth'\n          });\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, []);\n\n  var handleEventClickInternal = function (event) {\n    if (onNewEventClick) {\n      var rect = event.target.getBoundingClientRect();\n      var y = event.clientY - rect.top; // Get hour from click event\n\n      var hour = y / hourHeight;\n      onNewEventClick({\n        day: day.toJSDate(),\n        hour: hour,\n        event: event\n      });\n    }\n  };\n\n  return ((ref = store.daysViewLayout) === null || ref === void 0 ? void 0 : ref[$bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(day)]) ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    id: \"Kalend__day__\".concat(day.toString()),\n    style: oneDayStyle,\n    className: !isFirstDay ? $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__DayViewOneDay', isDark) : 'Kalend__DayViewOneDay',\n    onClick: handleEventClickInternal,\n    children: dataForDay && dataForDay.length > 0 ? $17d79b7922eec8b8$var$renderEvents(dataForDay, day, timezone) : null\n  }, day.toString()) : null;\n};\n\nvar $17d79b7922eec8b8$export$2e2bcd8739ae039 = $17d79b7922eec8b8$var$DaysViewOneDay;\n\nvar $b867b3e906676344$var$renderVerticalLines = function (calendarDays, width, height, hourHeight, isDark, isMobile, selectedView) {\n  var columnWidth = $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, selectedView) / calendarDays.length;\n  return calendarDays.map(function (calendarDay, index) {\n    var style = {\n      left: columnWidth * index + (selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? 0 : $88a08af890f49243$export$447c5938f45c45a5),\n      height: hourHeight * 24\n    };\n    if (index > 0) return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      style: style,\n      className: $bf7b38bce41ca3dd$export$b7a9dbebc395fc65('Kalend__DaysViewVerticalLine__line', isDark)\n    }, index);\n  });\n};\n\nvar $b867b3e906676344$var$DaysViewVerticalLines = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref[0];\n  var calendarDays = store.calendarDays,\n      width = store.width,\n      isDark = store.isDark,\n      height = store.height,\n      config = store.config,\n      isMobile = store.isMobile,\n      selectedView = store.selectedView;\n  var verticalLines = $b867b3e906676344$var$renderVerticalLines(selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? calendarDays.slice(0, 7) : calendarDays, width, height, config.hourHeight, isDark, isMobile, selectedView);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($cw6c3$reactjsxruntime.Fragment, {\n    children: verticalLines\n  });\n};\n\nvar $b867b3e906676344$export$2e2bcd8739ae039 = $b867b3e906676344$var$DaysViewVerticalLines;\n\nvar $be26fc4a0d3aa4a6$var$renderOneDay = function (calendarDays, events) {\n  return calendarDays.map(function (calendarDay, index) {\n    var formattedDayString = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(calendarDay);\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($17d79b7922eec8b8$export$2e2bcd8739ae039, {\n      day: calendarDay,\n      index: index,\n      data: events ? events[formattedDayString] : []\n    }, calendarDay.toString());\n  });\n};\n\nvar $be26fc4a0d3aa4a6$var$DaysViewTable = function (props) {\n  var events = props.events;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var isMobile = store.isMobile,\n      calendarDays = store.calendarDays,\n      width = store.width,\n      selectedView = store.selectedView,\n      config = store.config;\n  var height = $2c4fe1f6b84a6784$export$30dc190df7e420c4();\n  var days = $be26fc4a0d3aa4a6$var$renderOneDay(calendarDays, events);\n  var style = {\n    paddingLeft: $88a08af890f49243$export$447c5938f45c45a5,\n    // width: '100%',\n    height: height\n  }; // const adjustScrollPosition = () => {\n  //   const currentElement: any = document.getElementById(`Kalend__timetable`);\n  //\n  //   (currentElement.scrollTop = DateTime.now().hour * config.hourHeight) -\n  //     config.hourHeight;\n  // };\n  //\n  // useEffect(() => {\n  //   adjustScrollPosition();\n  // }, []);\n  // const onPageChange = async (isGoingForward?: boolean) => {\n  //   await getNewCalendarDays(calendarDays, selectedView, isGoingForward);\n  // };\n  // recalculate event positions on calendarDays change\n\n  $cw6c3$react.useEffect(function () {\n    var positions = $585762b051d85803$export$2edf4a4fedf73d36(calendarDays, events, $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK), config, selectedView);\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n    setContext('daysViewLayout', positions);\n  }, [calendarDays[0]]);\n  $cw6c3$react.useEffect(function () {\n    var positions = $585762b051d85803$export$2edf4a4fedf73d36(calendarDays, events, $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK), config, selectedView);\n    setContext('daysViewLayout', positions); // recalculate positions\n\n    var eventPositions = $c57d36d3233524f5$export$ebf0f5b49a0a9e59(events, $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK) / calendarDays.length, calendarDays, config.timezone, setContext);\n    setContext('headerLayout', eventPositions);\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n  }, [JSON.stringify(events)]);\n  $cw6c3$react.useEffect(function () {\n    var positions = $585762b051d85803$export$2edf4a4fedf73d36(calendarDays, events, $bf7b38bce41ca3dd$export$b32ccbc1ca23891(width, isMobile, $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK), config, selectedView);\n    setContext('daysViewLayout', positions);\n  }, []);\n  return (// <Carousel onPageChange={onPageChange}>\n\n    /*#__PURE__*/\n    $cw6c3$reactjsxruntime.jsxs(\"div\", {\n      style: style,\n      className: 'Kalend__CalendarBody',\n      id: \"Kalend__timetable\",\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($db9a28e0bd6328b4$export$2e2bcd8739ae039, {}), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b867b3e906676344$export$2e2bcd8739ae039, {}), days]\n    })\n  );\n};\n\nvar $be26fc4a0d3aa4a6$export$2e2bcd8739ae039 = $be26fc4a0d3aa4a6$var$DaysViewTable;\n\nvar $0491e7111fa05a9f$var$formatOverflowingEvents = function (events, timezone) {\n  var result = {};\n  if (!events || events.length === 0) return null;\n  events.forEach(function (event) {\n    var dateTimeStartAt = $28306200f69a6328$export$6c2618c4afcf6cfb(event.startAt, event.timezoneStartAt || timezone);\n    var dateTimeEndAt = $28306200f69a6328$export$6c2618c4afcf6cfb(event.endAt, event.timezoneStartAt || timezone); // get each day for multi day events\n    // @ts-ignore\n\n    var differenceInDays = dateTimeEndAt.diff(dateTimeStartAt).days;\n\n    for (var i = 0; i <= differenceInDays; i++) {\n      var dateKey = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(dateTimeStartAt.plus({\n        days: i\n      }));\n      if (!result[dateKey]) result[dateKey] = [event];else result[dateKey] = $cw6c3$swchelpers.toConsumableArray(result[dateKey]).concat([event]);\n    }\n  });\n  return result;\n};\n\nvar $0491e7111fa05a9f$export$89831913a243f8ab = function (calendarDays) {\n  var calendarDaysRows = [];\n  var tempArray = [];\n  calendarDays.forEach(function (item, i) {\n    var index = i + 1;\n\n    if (index % 7 === 0) {\n      tempArray.push(item);\n      calendarDaysRows.push(tempArray);\n      tempArray = [];\n    } else tempArray.push(item);\n  });\n  return calendarDaysRows;\n};\n\nvar $0491e7111fa05a9f$export$d27f846d3c4971c6 = function (events) {\n  return events.sort(function (a, b) {\n    var diffA = $cw6c3$luxon.DateTime.fromISO(a.endAt).toMillis() - $cw6c3$luxon.DateTime.fromISO(a.startAt).toMillis();\n    var diffB = $cw6c3$luxon.DateTime.fromISO(b.endAt).toMillis() - $cw6c3$luxon.DateTime.fromISO(b.startAt).toMillis();\n    if (diffB > diffA) return 1;else if (diffB < diffA) return -1;\n    return 0;\n  });\n};\n\nvar $0491e7111fa05a9f$var$getMonthRowPosition = function (events1, width, calendarDays, timezone, maxEventsVisible) {\n  var // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  ref;\n  var overflowEvents = [];\n  var tableSpace = width / 100 * $88a08af890f49243$export$b4e2ba6756dec2c;\n  var result = [];\n  var usedEvents = []; // filter only header events\n\n  var eventsFiltered = [];\n  if (!events1) return {\n    positions: [],\n    overflowingEvents: []\n  };\n  (ref = Object.entries(events1)) === null || ref === void 0 ? void 0 : ref.map(function (param) {\n    var _param = $cw6c3$swchelpers.slicedToArray(param, 2),\n        key = _param[0],\n        items = _param[1]; // @ts-ignore\n\n\n    items.forEach(function (item) {\n      // filter only relevant events\n      var isInRange = $585762b051d85803$export$3a6eb9efca632dee(item, calendarDays, timezone);\n      if (isInRange) // correct position when external event ends in next day\n        eventsFiltered.push(item);\n    });\n  }); // sort by length to fit more items in limited space\n\n  var sortedByLength = $0491e7111fa05a9f$export$d27f846d3c4971c6(eventsFiltered); // find all matching events to fit in one row\n\n  sortedByLength === null || sortedByLength === void 0 ? void 0 : sortedByLength.forEach(function (event) {\n    var eventPositionResult = []; // check if event was used already\n    // skip iteration if event was already resolved\n\n    if (usedEvents.includes(event.id)) return true; // set event to row\n\n    var rowWithNotOverlappingEvents = [event];\n    usedEvents.push(event.id); // compare to rest of the events\n\n    sortedByLength.forEach(function (eventToCompare) {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) return true; // don't compare to self // maybe remove?\n\n      if (event.id === eventToCompare.id) return true; // check if events are not overlapping\n\n      var isOverlapping = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(event, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // found not overlapping matching event\n\n      if (!isOverlapping) {\n        var isMatchingAll = true; // compare match with other stored events for same row\n\n        rowWithNotOverlappingEvents.forEach(function (itemFromRow) {\n          var isOverlappingAll = $585762b051d85803$export$c212dd23f1f0a1e3($c57d36d3233524f5$export$ca41440b93b2a001(itemFromRow, timezone), $c57d36d3233524f5$export$ca41440b93b2a001(eventToCompare, timezone), timezone); // prevent merging if only one conflict exists\n\n          if (isOverlappingAll) isMatchingAll = false;\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    }); // now we have row with only not overlapping events\n    // sort events in row by duration to fit more events in row\n    // const sortedResult: CalendarEvent[] = rowWithNotOverlappingEvents.sort(\n    //   (a, b) =>\n    //     DateTime.fromISO(a.endAt).toMillis() -\n    //     DateTime.fromISO(a.startAt).toMillis() -\n    //     (DateTime.fromISO(b.endAt).toMillis() -\n    //       DateTime.fromISO(b.startAt).toMillis())\n    // );\n    // const sortedResult = sortByLength(rowWithNotOverlappingEvents);\n    // place events accordingly in row next to each other\n\n    rowWithNotOverlappingEvents.forEach(function (item) {\n      var offset = 0;\n      var eventWidth = 0;\n      var hasMatchingDay = false;\n      calendarDays.forEach(function (day) {\n        if ($585762b051d85803$export$f917769c218c90fd(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        } // increment offset only till we have matching day\n\n\n        if (!hasMatchingDay) offset += width;\n      });\n      var isOverflowing = result.length > maxEventsVisible;\n\n      if (!isOverflowing) {\n        // create event position data\n        var eventPositionData = {\n          event: item,\n          width: Math.round(eventWidth - tableSpace),\n          offsetLeft: offset,\n          offsetTop: 0,\n          height: 20,\n          zIndex: 2\n        };\n        eventPositionResult.push(eventPositionData);\n      } else overflowEvents.push(item);\n    }); // save row to result\n\n    result.push(eventPositionResult);\n  });\n  var formattedResult = {};\n  result.forEach(function (events, index) {\n    events.forEach(function (item) {\n      formattedResult[item.event.id] = $cw6c3$swchelpers.objectSpread({}, item, {\n        offsetTop: index * 25\n      });\n    });\n  });\n  return {\n    positions: formattedResult,\n    overflowingEvents: overflowEvents\n  };\n};\n\nvar $0491e7111fa05a9f$export$ac592545eadc1037 = function (events, width, calendarDays, config, maxEventsVisible, setContext) {\n  var result = [];\n  var overflowingEvents = []; // TODO prefilter events for each row\n  // split calendar days to rows\n\n  var calendarDaysRows = $0491e7111fa05a9f$export$89831913a243f8ab(calendarDays); // get layout for each row\n\n  calendarDaysRows.forEach(function (row) {\n    var rowResult = $0491e7111fa05a9f$var$getMonthRowPosition(events, width / 7, row, config.timezone, maxEventsVisible);\n    result.push(rowResult.positions);\n    overflowingEvents = $cw6c3$swchelpers.toConsumableArray(overflowingEvents).concat($cw6c3$swchelpers.toConsumableArray(rowResult.overflowingEvents));\n  });\n  setContext('monthOverflowEvents', $0491e7111fa05a9f$var$formatOverflowingEvents(overflowingEvents, config.timezone));\n  return result;\n};\n\nvar $00ca9bcc7a955fda$var$ShowMoreModal = function () {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var showMoreEvents = store.showMoreEvents;\n\n  var renderMoreEvents = function () {\n    if (!showMoreEvents) return [];\n    return showMoreEvents.events.map(function (item) {\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n        event: item,\n        type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.SHOW_MORE_MONTH\n      }, item.id);\n    });\n  };\n\n  var events = renderMoreEvents();\n\n  var handleClose = function () {\n    setContext('showMoreEvents', null);\n  };\n\n  var preventDefault = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__ShowMoreModal__wrapper',\n    onClick: handleClose,\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__ShowMoreModal__container',\n      onClick: preventDefault,\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"h6\", {\n        style: {\n          fontSize: 16,\n          padding: 0,\n          margin: 4,\n          marginBottom: 8,\n          textAlign: 'center'\n        },\n        children: showMoreEvents.day.toFormat('dd. MMM')\n      }), events]\n    })\n  });\n};\n\nvar $00ca9bcc7a955fda$export$2e2bcd8739ae039 = $00ca9bcc7a955fda$var$ShowMoreModal;\n\nvar $05ef8620e2e948fa$var$MonthViewButtonMore = function (props) {\n  var t = $cw6c3$reacti18next.useTranslation().t;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var width = store.width,\n      monthOverflowEvents = store.monthOverflowEvents,\n      config = store.config,\n      showMoreEvents = store.showMoreEvents;\n  var calendarDays = props.calendarDays;\n  var colWidth = width / 7;\n\n  var handleClick = function (day, events) {\n    setContext('showMoreEvents', {\n      day: day,\n      events: events\n    });\n  };\n\n  var renderShowMoreButtons = function () {\n    if (!monthOverflowEvents || !calendarDays || calendarDays.length === 0) return [];\n    return calendarDays.map(function (calendarDay) {\n      var dateKey = $bf7b38bce41ca3dd$export$6a8d31c8b7f17aa5(calendarDay);\n      var events = monthOverflowEvents[dateKey];\n      if (events) return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f7dc25aaa4235907$export$2e2bcd8739ae039, {\n        className: 'Kalend__Monthview_Event',\n        style: {\n          width: colWidth,\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          paddingTop: 3,\n          paddingBottom: 3,\n          height: $88a08af890f49243$export$4b16cd32b50218c6\n        },\n        onClick: function () {\n          return handleClick(calendarDay, events);\n        },\n        isDark: config.isDark,\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"p\", {\n          className: 'Kalend__text',\n          style: {\n            fontSize: 11\n          },\n          children: t('buttons:showMore')\n        })\n      }, calendarDay.toString());else return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n        style: {\n          width: colWidth,\n          visibility: 'hidden'\n        }\n      }, calendarDay.toString());\n    });\n  };\n\n  var showMoreButtons = renderShowMoreButtons();\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    style: {\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'row',\n      position: 'absolute',\n      bottom: 5,\n      left: 0\n    },\n    children: [showMoreButtons, showMoreEvents ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($00ca9bcc7a955fda$export$2e2bcd8739ae039, {}) : null]\n  });\n};\n\nvar $05ef8620e2e948fa$export$2e2bcd8739ae039 = $05ef8620e2e948fa$var$MonthViewButtonMore;\n\nvar $c4cfd121d9d256dd$var$MonthWeekRow = function (props) {\n  var days = props.days,\n      index = props.index;\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 1),\n      store = ref1[0];\n  var monthLayout = store.monthLayout,\n      height = store.height;\n\n  var renderEvents = function (data, i) {\n    var ref;\n    if (!data || !(data === null || data === void 0 ? void 0 : data[i])) return [];\n    return (ref = Object.entries(data[i])) === null || ref === void 0 ? void 0 : ref.map(function (keyValue) {\n      var item = keyValue[1];\n      return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b852c5f3008abacb$export$2e2bcd8739ae039, {\n        event: item.event,\n        meta: item.meta,\n        type: $e4750b0ebeed8e48$export$76a2e4c433c23bb9.MONTH,\n        index: i\n      }, item.event.id);\n    });\n  };\n\n  var events = renderEvents(monthLayout, index);\n  var style = {\n    height: height / 6 - 25\n  };\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs(\"div\", {\n    className: 'Kalend__MonthWeekRow__container',\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__MonthWeekRow__day',\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($0c3afbe9f694dbf0$export$2e2bcd8739ae039, {\n        calendarDays: days,\n        daysNum: 7\n      })\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__MonthWeekRow__container-events',\n      style: style,\n      children: events\n    }), /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($05ef8620e2e948fa$export$2e2bcd8739ae039, {\n      calendarDays: days\n    })]\n  });\n};\n\nvar $c4cfd121d9d256dd$export$2e2bcd8739ae039 = $c4cfd121d9d256dd$var$MonthWeekRow;\n\nvar $4e630ae36e00686b$var$renderOneRow = function (days) {\n  var rows = $0491e7111fa05a9f$export$89831913a243f8ab(days);\n  return rows.map(function (row, index) {\n    return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($c4cfd121d9d256dd$export$2e2bcd8739ae039, {\n      days: row,\n      index: index\n    }, row[0].toString());\n  });\n};\n\nvar $4e630ae36e00686b$var$MonthView = function (props) {\n  var events = props.events;\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var height = $2c4fe1f6b84a6784$export$30dc190df7e420c4();\n  var width = store.width,\n      calendarDays = store.calendarDays,\n      config = store.config;\n  var style = {\n    width: width,\n    height: '100%'\n  }; // const onPageChange = async (isGoingForward?: boolean) => {\n  //   await getNewCalendarDays(calendarDays, CALENDAR_VIEW.MONTH, isGoingForward);\n  // };\n\n  $cw6c3$react.useEffect(function () {\n    if (height !== 0) {\n      var monthPositions = $0491e7111fa05a9f$export$ac592545eadc1037(events, width, calendarDays, config.timezone, (height / 6 - 25) / 26 - 1, setContext);\n      setContext('monthLayout', monthPositions);\n    }\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    var monthPositions = $0491e7111fa05a9f$export$ac592545eadc1037(events, width, calendarDays, config.timezone, (height / 6 - 25) / 26 - 1, setContext);\n    setContext('monthLayout', monthPositions);\n  }, [height]);\n  $cw6c3$react.useEffect(function () {\n    var monthPositions = $0491e7111fa05a9f$export$ac592545eadc1037(events, width, calendarDays, config.timezone, (height / 6 - 25) / 26 - 1, setContext);\n    setContext('monthLayout', monthPositions);\n  }, [calendarDays[0]]);\n  $cw6c3$react.useEffect(function () {\n    var monthPositions = $0491e7111fa05a9f$export$ac592545eadc1037(events, width, calendarDays, config.timezone, (height / 6 - 25) / 26 - 1, setContext);\n    setContext('monthLayout', monthPositions);\n  }, [JSON.stringify(events)]); // const days: any = renderOneDay(calendarDays, 'month1', height, events);\n\n  var rows = $4e630ae36e00686b$var$renderOneRow(calendarDays);\n  return (// <Carousel onPageChange={onPageChange}>\n\n    /*#__PURE__*/\n    $cw6c3$reactjsxruntime.jsxs(\"div\", {\n      className: 'Kalend__MonthView__container',\n      style: style,\n      children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($b867b3e906676344$export$2e2bcd8739ae039, {}), store.monthLayout ? rows : null]\n    })\n  );\n};\n\nvar $4e630ae36e00686b$export$2e2bcd8739ae039 = $4e630ae36e00686b$var$MonthView;\n\nvar $2c06f9532bb9aaf9$var$Calendar = function (props) {\n  var ref5 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref5[0],\n      dispatch = ref5[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var selectedDate = store.selectedDate,\n      calendarDays = store.calendarDays,\n      events = store.events,\n      selectedView = store.selectedView,\n      callbacks = store.callbacks,\n      config = store.config;\n  var timezone = config.timezone;\n  var width = $2c4fe1f6b84a6784$export$3aee49006f13db09();\n  var ref1 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(''), 2),\n      prevView = ref1[0],\n      setPrevView = ref1[1];\n  var ref2 = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(null), 2),\n      viewChanged = ref2[0],\n      setViewChanged = ref2[1];\n  $cw6c3$react.useEffect(function () {\n    if (selectedView) {\n      var calendarDaysInitial = $1500da26cef85c66$export$e75d169fad6edf5f(selectedView, selectedDate, config.weekDayStart);\n      setContext('calendarDays', calendarDaysInitial);\n    }\n  }, []); // init context\n\n  $cw6c3$react.useEffect(function () {\n    // handle timezone and events\n    var eventsResult = $7a3eb04f266ed8a4$export$485dc102822f21c6(props.events, timezone);\n    setContext('events', eventsResult);\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    // if (props.selectedView && props.selectedView === selectedView) {\n    //   return;\n    // }\n    if (prevView === viewChanged) return; // prevent infinit loop\n\n    if (!selectedView && callbacks.onSelectView) {\n      callbacks.onSelectView(viewChanged);\n      return;\n    }\n\n    if (!viewChanged) return;\n    setContext('calendarDays', calendarDays[0]);\n    setContext('selectedView', viewChanged); // use either passed value or internal state\n\n    var setSelectedDate = function (date) {\n      return setContext('selectedDate', date);\n    };\n\n    var calendarDaysNew = $1500da26cef85c66$export$e75d169fad6edf5f(viewChanged, $cw6c3$luxon.DateTime.now(), config.weekDayStart, setSelectedDate);\n    setContext('calendarDays', calendarDaysNew);\n    setContext('selectedDate', selectedDate);\n    setContext('width', width - $bf7b38bce41ca3dd$export$76c69f043295405f(viewChanged));\n    setPrevView(viewChanged);\n    setViewChanged(null);\n  }, [viewChanged]);\n  $cw6c3$react.useEffect(function () {\n    if (prevView === selectedView) return;\n\n    if (selectedView && selectedView !== selectedView) {\n      setContext('calendarDays', calendarDays[0]);\n      setContext('selectedView', selectedView);\n      setPrevView(selectedView);\n\n      var setSelectedDate = function (date) {\n        return setContext('selectedDate', date);\n      };\n\n      var calendarDaysNew = $1500da26cef85c66$export$e75d169fad6edf5f(selectedView, $cw6c3$luxon.DateTime.now(), config.weekDayStart, setSelectedDate);\n      setContext('calendarDays', calendarDaysNew);\n      setContext('width', width - $bf7b38bce41ca3dd$export$76c69f043295405f(selectedView));\n    }\n  }, [selectedView]);\n  $cw6c3$react.useEffect(function () {\n    var result = $7a3eb04f266ed8a4$export$485dc102822f21c6(props.events, timezone);\n    setContext('events', result);\n  }, [JSON.stringify(props.events)]);\n  $cw6c3$react.useEffect(function () {\n    var ref, ref3, ref4;\n    if (callbacks.onPageChange && calendarDays && calendarDays[0] && calendarDays.length > 0) callbacks.onPageChange({\n      rangeFrom: calendarDays === null || calendarDays === void 0 ? void 0 : (ref = calendarDays[0]) === null || ref === void 0 ? void 0 : ref.set({\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      }).toUTC().toString(),\n      rangeTo: (ref4 = calendarDays === null || calendarDays === void 0 ? void 0 : (ref3 = calendarDays[(calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays.length) - 1]) === null || ref3 === void 0 ? void 0 : ref3.set({\n        hour: 23,\n        minute: 59,\n        second: 59,\n        millisecond: 59\n      })) === null || ref4 === void 0 ? void 0 : ref4.toUTC().toString()\n    });\n  }, [selectedView, calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays[0], calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays[(calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays.length) - 1]]);\n  return selectedView && (calendarDays === null || calendarDays === void 0 ? void 0 : calendarDays.length) > 0 && selectedDate ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($cw6c3$reactjsxruntime.Fragment, {\n    children: [/*#__PURE__*/$cw6c3$reactjsxruntime.jsx($21db0de5ba63f204$export$2e2bcd8739ae039, {\n      setViewChanged: setViewChanged\n    }), selectedView !== $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($58f20473f1f0067a$export$2e2bcd8739ae039, {\n      events: events ? events : {}\n    }) : null, /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n      className: 'Kalend__Calendar__table',\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsxs($f89b7b16d8022e68$export$2e2bcd8739ae039, {\n        children: [selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.MONTH ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($4e630ae36e00686b$export$2e2bcd8739ae039, {\n          events: events ? events : {}\n        }) : null, selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.DAY || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.THREE_DAYS || selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.WEEK ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($be26fc4a0d3aa4a6$export$2e2bcd8739ae039, {\n          events: events ? events : {}\n        }) : null, selectedView === $e4750b0ebeed8e48$export$ec9758e21af63072.AGENDA ? /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($ae9d5d34ac1cc52f$export$2e2bcd8739ae039, {\n          events: events ? events : {}\n        }) : null]\n      })\n    })]\n  }) : null;\n};\n\nvar $2c06f9532bb9aaf9$export$2e2bcd8739ae039 = $2c06f9532bb9aaf9$var$Calendar;\n\nvar $f101c73fee185a96$var$DimensionsLayoutLayer = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useContext($65553fbba1d6d65b$export$841858b892ce1f4c), 2),\n      store = ref[0],\n      dispatch = ref[1];\n\n  var setContext = function (type, payload) {\n    dispatch({\n      type: type,\n      payload: payload\n    });\n  };\n\n  var selectedView = store.selectedView;\n  var width = $2c4fe1f6b84a6784$export$3aee49006f13db09();\n  var height = $2c4fe1f6b84a6784$export$30dc190df7e420c4(); // init context\n\n  $cw6c3$react.useEffect(function () {\n    setContext('height', height);\n    setContext('width', width - $bf7b38bce41ca3dd$export$76c69f043295405f(selectedView));\n    if (width < 750) setContext('isMobile', true);else setContext('isMobile', false);\n  }, []);\n  $cw6c3$react.useEffect(function () {\n    setContext('width', $2c4fe1f6b84a6784$export$3c49c185de0c2bfc() - $bf7b38bce41ca3dd$export$76c69f043295405f(selectedView));\n    if (width < 750) setContext('isMobile', true);else setContext('isMobile', false);\n  }, [width]);\n  $cw6c3$react.useEffect(function () {\n    setContext('height', $2c4fe1f6b84a6784$export$c08559766941f856());\n  }, [height]); // needs to be separate due to inconsistency for month view\n\n  $cw6c3$react.useEffect(function () {\n    setContext('height', $2c4fe1f6b84a6784$export$c08559766941f856());\n  }, [selectedView, selectedView]);\n  return props.children;\n};\n\nvar $f101c73fee185a96$export$2e2bcd8739ae039 = $f101c73fee185a96$var$DimensionsLayoutLayer;\nvar $4f8fac8212b1a05e$exports = {};\n$4f8fac8212b1a05e$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Heute\\\",\\\"agenda\\\":\\\"Agenda\\\",\\\"day\\\":\\\"Tag\\\",\\\"threeDays\\\":\\\"3 Tags\\\",\\\"week\\\":\\\"Woche\\\",\\\"month\\\":\\\"Monat\\\",\\\"showMore\\\":\\\"Zeig mehr\\\"},\\\"months\\\":{\\\"january\\\":\\\"Januar\\\",\\\"february\\\":\\\"Februar\\\",\\\"march\\\":\\\"Mrz\\\",\\\"april\\\":\\\"April\\\",\\\"may\\\":\\\"Mai\\\",\\\"june\\\":\\\"Juni\\\",\\\"july\\\":\\\"Juli\\\",\\\"august\\\":\\\"August\\\",\\\"september\\\":\\\"September\\\",\\\"october\\\":\\\"Oktober\\\",\\\"november\\\":\\\"November\\\",\\\"december\\\":\\\"Dezember\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Mon\\\",\\\"Tue\\\":\\\"Die\\\",\\\"Wed\\\":\\\"Mit\\\",\\\"Thu\\\":\\\"Don\\\",\\\"Fri\\\":\\\"Fre\\\",\\\"Sat\\\":\\\"Sam\\\",\\\"Sun\\\":\\\"Son\\\"}}\");\nvar $073ad6afefbd1c74$exports = {};\n$073ad6afefbd1c74$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Today\\\",\\\"agenda\\\":\\\"Agenda\\\",\\\"day\\\":\\\"Day\\\",\\\"threeDays\\\":\\\"3 Days\\\",\\\"week\\\":\\\"Week\\\",\\\"month\\\":\\\"Month\\\",\\\"showMore\\\":\\\"Show more\\\"},\\\"months\\\":{\\\"january\\\":\\\"January\\\",\\\"february\\\":\\\"February\\\",\\\"march\\\":\\\"March\\\",\\\"april\\\":\\\"April\\\",\\\"may\\\":\\\"May\\\",\\\"june\\\":\\\"June\\\",\\\"july\\\":\\\"July\\\",\\\"august\\\":\\\"August\\\",\\\"september\\\":\\\"September\\\",\\\"october\\\":\\\"October\\\",\\\"november\\\":\\\"November\\\",\\\"december\\\":\\\"December\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Mon\\\",\\\"Tue\\\":\\\"Tue\\\",\\\"Wed\\\":\\\"Wed\\\",\\\"Thu\\\":\\\"Thu\\\",\\\"Fri\\\":\\\"Fri\\\",\\\"Sat\\\":\\\"Sat\\\",\\\"Sun\\\":\\\"Sun\\\"}}\");\nvar $9ac065e100f212f5$exports = {};\n$9ac065e100f212f5$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Hoy\\\",\\\"agenda\\\":\\\"Diario\\\",\\\"day\\\":\\\"Da\\\",\\\"threeDays\\\":\\\"3 Das\\\",\\\"week\\\":\\\"Semana\\\",\\\"month\\\":\\\"Mes\\\",\\\"showMore\\\":\\\"Mostrar ms\\\"},\\\"months\\\":{\\\"january\\\":\\\"Enero\\\",\\\"february\\\":\\\"Febrero\\\",\\\"march\\\":\\\"Marzo\\\",\\\"april\\\":\\\"Abril\\\",\\\"may\\\":\\\"Mayo\\\",\\\"june\\\":\\\"Junio\\\",\\\"july\\\":\\\"Julio\\\",\\\"august\\\":\\\"Agosto\\\",\\\"september\\\":\\\"Septiembre\\\",\\\"october\\\":\\\"Octubre\\\",\\\"november\\\":\\\"Noviembre\\\",\\\"december\\\":\\\"Diciembre\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Lun\\\",\\\"Tue\\\":\\\"Mar\\\",\\\"Wed\\\":\\\"Mi\\\",\\\"Thu\\\":\\\"Jue\\\",\\\"Fri\\\":\\\"Vie\\\",\\\"Sat\\\":\\\"Sb\\\",\\\"Sun\\\":\\\"Dom\\\"}}\");\nvar $8afa7629b855c8cd$exports = {};\n$8afa7629b855c8cd$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"Aujourd\\\",\\\"agenda\\\":\\\"Jour\\\",\\\"day\\\":\\\"Journe\\\",\\\"threeDays\\\":\\\"3 Jours\\\",\\\"week\\\":\\\"Semaine\\\",\\\"month\\\":\\\"Mois\\\",\\\"showMore\\\":\\\"Montre plus\\\"},\\\"months\\\":{\\\"january\\\":\\\"Janvier\\\",\\\"february\\\":\\\"Fvrier\\\",\\\"march\\\":\\\"Mars\\\",\\\"april\\\":\\\"Avril\\\",\\\"may\\\":\\\"Mai\\\",\\\"june\\\":\\\"Juin\\\",\\\"july\\\":\\\"Juillet\\\",\\\"august\\\":\\\"Aot\\\",\\\"september\\\":\\\"Septembre\\\",\\\"october\\\":\\\"Octobre\\\",\\\"november\\\":\\\"Novembre\\\",\\\"december\\\":\\\"Dcembre\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"Lun\\\",\\\"Tue\\\":\\\"Mar\\\",\\\"Wed\\\":\\\"Mer\\\",\\\"Thu\\\":\\\"Jeu\\\",\\\"Fri\\\":\\\"Ven\\\",\\\"Sat\\\":\\\"Sam\\\",\\\"Sun\\\":\\\"Dim\\\"}}\");\nvar $8d153bee865ba9a1$exports = {};\n$8d153bee865ba9a1$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"\\\",\\\"agenda\\\":\\\"\\\",\\\"day\\\":\\\"\\\",\\\"threeDays\\\":\\\"3 \\\",\\\"week\\\":\\\"\\\",\\\"month\\\":\\\"\\\",\\\"showMore\\\":\\\"...\\\"},\\\"months\\\":{\\\"january\\\":\\\"\\\",\\\"february\\\":\\\"\\\",\\\"march\\\":\\\"\\\",\\\"april\\\":\\\"\\\",\\\"may\\\":\\\"\\\",\\\"june\\\":\\\"\\\",\\\"july\\\":\\\"\\\",\\\"august\\\":\\\"\\\",\\\"september\\\":\\\"\\\",\\\"october\\\":\\\"\\\",\\\"november\\\":\\\"\\\",\\\"december\\\":\\\"\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"\\\",\\\"Tue\\\":\\\"\\\",\\\"Wed\\\":\\\"\\\",\\\"Thu\\\":\\\"\\\",\\\"Fri\\\":\\\"\\\",\\\"Sat\\\":\\\"\\\",\\\"Sun\\\":\\\"\\\"}}\");\nvar $6d7cb4bf3385b3b5$exports = {};\n$6d7cb4bf3385b3b5$exports = JSON.parse(\"{\\\"buttons\\\":{\\\"today\\\":\\\"\\\",\\\"agenda\\\":\\\"\\\",\\\"day\\\":\\\"\\\",\\\"threeDays\\\":\\\"3\\\",\\\"week\\\":\\\"\\\",\\\"month\\\":\\\"\\\",\\\"showMore\\\":\\\"\\\"},\\\"months\\\":{\\\"january\\\":\\\"\\\",\\\"february\\\":\\\"\\\",\\\"march\\\":\\\"\\\",\\\"april\\\":\\\"\\\",\\\"may\\\":\\\"\\\",\\\"june\\\":\\\"\\\",\\\"july\\\":\\\"\\\",\\\"august\\\":\\\"\\\",\\\"september\\\":\\\"\\\",\\\"october\\\":\\\"\\\",\\\"november\\\":\\\"\\\",\\\"december\\\":\\\"\\\"},\\\"weekDays\\\":{\\\"Mon\\\":\\\"\\\",\\\"Tue\\\":\\\"\\\",\\\"Wed\\\":\\\"\\\",\\\"Thu\\\":\\\"\\\",\\\"Fri\\\":\\\"\\\",\\\"Sat\\\":\\\"\\\",\\\"Sun\\\":\\\"\\\"}}\");\n\nvar $36362bd2dc53dd73$var$LanguageLayer = function (props) {\n  $cw6c3$react.useEffect(function () {\n    var resources = {\n      en: /*@__PURE__*/$parcel$interopDefault($073ad6afefbd1c74$exports),\n      de: /*@__PURE__*/$parcel$interopDefault($4f8fac8212b1a05e$exports),\n      fr: /*@__PURE__*/$parcel$interopDefault($8afa7629b855c8cd$exports),\n      es: /*@__PURE__*/$parcel$interopDefault($9ac065e100f212f5$exports),\n      zh: /*@__PURE__*/$parcel$interopDefault($6d7cb4bf3385b3b5$exports),\n      ru: /*@__PURE__*/$parcel$interopDefault($8d153bee865ba9a1$exports),\n      customLanguage: props.customLanguage\n    };\n    $parcel$interopDefault($cw6c3$i18next).use($cw6c3$reacti18next.initReactI18next).init({\n      resources: resources,\n      lng: 'en',\n      fallbackLng: 'en',\n      interpolation: {\n        escapeValue: false\n      }\n    });\n  }, []);\n  return props.children;\n};\n\nvar $36362bd2dc53dd73$export$2e2bcd8739ae039 = $36362bd2dc53dd73$var$LanguageLayer;\n\nvar $7d02895a6af4de33$var$RootLayoutLayer = function (props) {\n  var ref = $cw6c3$swchelpers.slicedToArray($cw6c3$react.useState(false), 2),\n      isMounted = ref[0],\n      setIsMounted = ref[1];\n  $cw6c3$react.useEffect(function () {\n    var rootEl = document.querySelector('.Kalend__Calendar__root');\n    if (rootEl) setIsMounted(true);\n  }, [document.querySelector('.Kalend__Calendar__root')]);\n  return isMounted ? props.children : null;\n};\n\nvar $7d02895a6af4de33$export$2e2bcd8739ae039 = $7d02895a6af4de33$var$RootLayoutLayer;\nvar $3f7b2fe5d2c34f8f$export$b573856c46cc9357 = $e4750b0ebeed8e48$export$ec9758e21af63072;\n\nvar $3f7b2fe5d2c34f8f$var$Kalend = function (props) {\n  // basic validation\n  $cw6c3$react.useEffect(function () {\n    $078907888c55a58c$export$45855e0dd982478b(props);\n    $078907888c55a58c$export$fbb8247b2e46a70a();\n  }, []);\n  return /*#__PURE__*/$cw6c3$reactjsxruntime.jsx(\"div\", {\n    className: 'Kalend__Calendar__root Kalend__main',\n    children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($36362bd2dc53dd73$export$2e2bcd8739ae039, {\n      customLanguage: props.customLanguage,\n      children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($65553fbba1d6d65b$export$2e2bcd8739ae039, {\n        children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($7d02895a6af4de33$export$2e2bcd8739ae039, {\n          children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($3886b97a1526edd3$export$2e2bcd8739ae039, $cw6c3$swchelpers.objectSpread({}, props, {\n            children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($f101c73fee185a96$export$2e2bcd8739ae039, {\n              children: /*#__PURE__*/$cw6c3$reactjsxruntime.jsx($2c06f9532bb9aaf9$export$2e2bcd8739ae039, {\n                events: props.events\n              })\n            })\n          }))\n        })\n      })\n    })\n  });\n};\n\nvar $3f7b2fe5d2c34f8f$export$2e2bcd8739ae039 = $3f7b2fe5d2c34f8f$var$Kalend;","map":{"version":3,"sources":["/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/index.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/common/enums.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/validator.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/Calendar.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/context/store.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/layers/ConfigLayer.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/common/constants.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/common.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/dateTimeParser.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/eventLayout.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/calendarDays.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/luxonHelper.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/context/reducer.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/allDayEvents.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/layout.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/agendaView/AgendaView.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/agendaView/agendaDayRow/AgendaDayRow.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/dateWeekDay/DateWeekDay.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/dayOfWeekText/DayOfWeekText.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/EventButton.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/utils/draggingHeader.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/utils/draggingMonth.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/utils/draggingWeek.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/EventButton.utils.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/utils/draggingGeneral.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/calendarHeaderEvents/CalendarHeaderEvents.utils.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/buttonBase/ButtonBase.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/eventAgenda/EventAgenda.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/components/eventSummary/EventSummary.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/components/eventTime/EventTime.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/eventMonth/EventMonth.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/eventNormal/EventNormal.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eventButton/eventShowMoreMonth/EventShowMoreMonth.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/stateReducer.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/CalendarDesktopNavigation/CalendarDesktopNavigation.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eva-icons/index.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eva-icons/CalendarIcon.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eva-icons/ChevronDown.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eva-icons/ChevronLeft.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eva-icons/ChevronRight.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/eva-icons/more.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/utils/getCalendarDays.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/buttonIcon/ButtonIcon.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarViewDropdown/CalendarViewDropdown.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/headerCalendarButtons/HeaderCalendarButtons.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/desktopLayout/DesktopLayout.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/headerCalendarTitle/HeaderCalendarTitle.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/mobileLayout/MobileLayout.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/CalendarHeader.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/calendarHeaderDays/CalendarHeaderDays.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/components/calendarHeaderColText/CalendarHeaderColText.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/components/calendarHeaderDates/CalendarHeaderDates.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/components/calendarHeaderCol/CalendarHeaderCol.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/components/calendarHeaderWeekDays/CalendarHeaderWeekDays.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/components/calendarHeaderWrapper/CalendarHeaderWrapper.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/calendarHeader/calendarHeaderEvents/CalendarHeaderEvents.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/layers/CalendarTableLayoutLayer.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/daysViewTable/DaysViewTable.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/daysViewTable/daysViewOneDay/calendarBodyHours/CalendarBodyHours.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/daysViewTable/daysViewOneDay/DaysViewOneDay.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/daysViewTable/daysViewVerticalLines/DaysViewVerticalLines.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/monthView/MonthView.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/monthView/monthWeekRow/MonthWeekRow.utils.ts","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/monthView/monthWeekRow/MonthWeekRow.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/monthView/monthViewButtonMore/MonthViewButtonMore.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/components/monthView/showMoreModal/ShowMoreModal.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/layers/DimensionsLayoutLayer.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/layers/LanguageLayer.tsx","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/locales/de.json","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/locales/en.json","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/locales/es.json","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/locales/fr.json","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/locales/ru.json","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/locales/zh.json","/home/jeniffer/github/event_tracker/node_modules/kalend/dist/src/layers/RootLayoutLayer.tsx"],"names":[],"mappings":"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","sourcesContent":["import { CALENDAR_VIEW } from './common/enums';\nimport {\n  CalendarEvent,\n  NewEventClickData,\n  OnEventClickFunc,\n  OnEventDragFinishFunc,\n  OnNewEventClickFunc,\n  OnPageChangeFunc,\n  OnSelectViewFunc,\n  PageChangeData,\n  ShowMoreMonthFunc,\n} from './common/interface';\nimport { useEffect } from 'react';\nimport { validateProps, validateStyle } from './utils/validator';\nimport Calendar from './Calendar';\nimport ConfigLayer from './layers/ConfigLayer';\nimport DimensionsLayoutLayer from './layers/DimensionsLayoutLayer';\nimport LanguageLayer from './layers/LanguageLayer';\nimport RootLayoutLayer from './layers/RootLayoutLayer';\nimport StoreProvider from './context/store';\n\nexport const CalendarView = CALENDAR_VIEW;\nexport type { CalendarEvent };\nexport type OnEventClickData = CalendarEvent;\nexport type OnNewEventClickData = NewEventClickData;\nexport type OnPageChangeData = PageChangeData;\nexport type OnSelectViewData = CALENDAR_VIEW;\nexport type ShowMoreMonthData = CalendarEvent[];\nexport type OnEventDragFinish = OnEventDragFinishFunc;\n\nexport interface KalendProps {\n  initialDate?: string;\n  initialView?: CALENDAR_VIEW;\n  selectedView?: CALENDAR_VIEW;\n  disabledViews?: CALENDAR_VIEW[];\n  events?: any;\n  isDark?: boolean;\n  hourHeight?: number;\n  onNewEventClick?: OnNewEventClickFunc;\n  onEventClick?: OnEventClickFunc;\n  onSelectView?: OnSelectViewFunc;\n  showMoreMonth?: ShowMoreMonthFunc;\n  onPageChange?: OnPageChangeFunc;\n  onEventDragFinish?: OnEventDragFinishFunc;\n  disableMobileDropdown?: boolean;\n  timezone?: string;\n  weekDayStart?: string;\n  timeFormat?: string;\n  calendarIDsHidden?: string[];\n  children?: any;\n  language?: string;\n  customLanguage?: any;\n}\n\nconst Kalend = (props: KalendProps) => {\n  // basic validation\n  useEffect(() => {\n    validateProps(props);\n    validateStyle();\n  }, []);\n\n  return (\n    <div className={'Kalend__Calendar__root Kalend__main'}>\n      <LanguageLayer customLanguage={props.customLanguage}>\n        <StoreProvider>\n          <RootLayoutLayer>\n            <ConfigLayer {...props}>\n              <DimensionsLayoutLayer>\n                <Calendar events={props.events} />\n              </DimensionsLayoutLayer>\n            </ConfigLayer>\n          </RootLayoutLayer>\n        </StoreProvider>\n      </LanguageLayer>\n    </div>\n  );\n};\n\nexport default Kalend;\n","export enum CALENDAR_VIEW {\n  AGENDA = 'agenda',\n  WEEK = 'week',\n  DAY = 'day',\n  THREE_DAYS = 'threeDays',\n  MONTH = 'month',\n}\n\nexport enum EVENT_TYPE {\n  NORMAL = 'normal',\n  MONTH = 'month',\n  AGENDA = 'agenda',\n  HEADER = 'header',\n  SHOW_MORE_MONTH = 'showMoreMonth',\n}\n\nexport enum CALENDAR_NAVIGATION_DIRECTION {\n  FORWARD = 'forward',\n  BACKWARDS = 'backwards',\n  TODAY = 'today',\n}\n\nexport enum WEEKDAY_START {\n  MONDAY = 'MONDAY',\n  SUNDAY = 'SUNDAY',\n  UNKNOWN = 'UNKNOWN',\n}\n\nexport enum TIME_FORMAT {\n  H_24 = '24',\n  H_12 = '12',\n}\n","import { CALENDAR_VIEW, TIME_FORMAT } from '../common/enums';\nimport { KalendProps } from '../index';\n\nconst getCalendarView = (value: string): CALENDAR_VIEW | null => {\n  if (value.toLowerCase() === CALENDAR_VIEW.DAY.toLowerCase()) {\n    return CALENDAR_VIEW.DAY;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.THREE_DAYS.toLowerCase()) {\n    return CALENDAR_VIEW.THREE_DAYS;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.WEEK.toLowerCase()) {\n    return CALENDAR_VIEW.WEEK;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.MONTH.toLowerCase()) {\n    return CALENDAR_VIEW.MONTH;\n  }\n  if (value.toLowerCase() === CALENDAR_VIEW.AGENDA.toLowerCase()) {\n    return CALENDAR_VIEW.AGENDA;\n  }\n\n  return null;\n};\n\nexport const validateProps = (props: KalendProps): void => {\n  // Validate views\n  if (props.disabledViews) {\n    // throw error if all views are disabled\n    if (props.disabledViews.length === Object.values(CALENDAR_VIEW).length) {\n      throw Error('[Kalend]: At least one calendar view has to be enabled');\n    }\n  }\n\n  // validate initial view\n  if (props.initialView) {\n    const initialView: CALENDAR_VIEW | null = getCalendarView(\n      props.initialView.toString()\n    );\n    if (!initialView) {\n      throw Error(`[Kalend]: Initial view \"${props.initialView}\" is not valid`);\n    }\n  }\n\n  // validate weekDayStart\n  if (\n    props.weekDayStart &&\n    props.weekDayStart !== 'Monday' &&\n    props.weekDayStart !== 'Sunday'\n  ) {\n    throw Error(\n      `[Kalend]: invalid weekDayStart prop \"${props.weekDayStart}\". Set either Monday or Sunday`\n    );\n  }\n\n  // validate timeFormat\n  if (props.timeFormat) {\n    if (\n      props.timeFormat !== TIME_FORMAT.H_24.toString() &&\n      props.timeFormat !== TIME_FORMAT.H_12.toString()\n    ) {\n      `[Kalend]: invalid timeFormat prop \"${\n        props.timeFormat\n      }\". Valid values are '${TIME_FORMAT.H_24.toString()}' or '${TIME_FORMAT.H_12.toString()}'`;\n    }\n  }\n};\n\nexport const validateStyle = (): void => {\n  const el: Element | null = document.querySelector('.Kalend__Calendar__root');\n\n  if (el) {\n    if (window.getComputedStyle(el).display !== 'flex') {\n      throw Error(\n        `[Calend]: CSS file not imported.\n         Reason: You probably forgot to import css file in your app as\n         import 'kalend/dist/styles/index.css';\n\n         Valid usage:\n         import Kalend from 'kalend';\n         import 'kalend/dist/styles/index.css';`\n      );\n    }\n  }\n};\n","import { CALENDAR_VIEW } from './common/enums';\nimport { CalendarProps } from './Calendar.props';\nimport { Config } from './common/interface';\nimport { Context, Store } from './context/store';\nimport { DateTime } from 'luxon';\nimport { getCalendarDays } from './utils/calendarDays';\nimport { getTableOffset } from './utils/common';\nimport { parseAllDayEvents } from './utils/allDayEvents';\nimport { useContext, useEffect, useState } from 'react';\nimport { useWidth } from './utils/layout';\nimport AgendaView from './components/agendaView/AgendaView';\nimport CalendarDesktopNavigation from './components/CalendarDesktopNavigation/CalendarDesktopNavigation';\nimport CalendarHeader from './components/calendarHeader/CalendarHeader';\nimport CalendarTableLayoutLayer from './layers/CalendarTableLayoutLayer';\nimport DaysViewTable from './components/daysViewTable/DaysViewTable';\nimport MonthView from './components/monthView/MonthView';\n\nconst Calendar = (props: CalendarProps) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const {\n    selectedDate,\n    calendarDays,\n    events,\n    selectedView,\n    callbacks,\n    config,\n  } = store as Store;\n  const { timezone } = config as Config;\n\n  const width: any = useWidth();\n  const [prevView, setPrevView] = useState('');\n  const [viewChanged, setViewChanged] = useState<any>(null);\n\n  useEffect(() => {\n    if (selectedView) {\n      const calendarDaysInitial: DateTime[] = getCalendarDays(\n        selectedView,\n        selectedDate,\n        config.weekDayStart\n      );\n\n      setContext('calendarDays', calendarDaysInitial);\n    }\n  }, []);\n\n  // init context\n  useEffect(() => {\n    // handle timezone and events\n    const eventsResult = parseAllDayEvents(props.events, timezone);\n    setContext('events', eventsResult);\n  }, []);\n\n  useEffect(() => {\n    // if (props.selectedView && props.selectedView === selectedView) {\n    //   return;\n    // }\n    if (prevView === viewChanged) {\n      return;\n    }\n    // prevent infinit loop\n    if (!selectedView && callbacks.onSelectView) {\n      callbacks.onSelectView(viewChanged);\n      return;\n    }\n    if (!viewChanged) {\n      return;\n    }\n\n    setContext('calendarDays', calendarDays[0]);\n    setContext('selectedView', viewChanged);\n\n    // use either passed value or internal state\n    const setSelectedDate = (date: DateTime) =>\n      setContext('selectedDate', date);\n\n    const calendarDaysNew: DateTime[] = getCalendarDays(\n      viewChanged,\n      DateTime.now(),\n      config.weekDayStart,\n      setSelectedDate\n    );\n\n    setContext('calendarDays', calendarDaysNew);\n\n    setContext('selectedDate', selectedDate);\n    setContext('width', width - getTableOffset(viewChanged));\n    setPrevView(viewChanged);\n    setViewChanged(null);\n  }, [viewChanged]);\n\n  useEffect(() => {\n    if (prevView === selectedView) {\n      return;\n    }\n    if (selectedView && selectedView !== selectedView) {\n      setContext('calendarDays', calendarDays[0]);\n      setContext('selectedView', selectedView);\n      setPrevView(selectedView);\n\n      const setSelectedDate = (date: DateTime) =>\n        setContext('selectedDate', date);\n\n      const calendarDaysNew: DateTime[] = getCalendarDays(\n        selectedView,\n        DateTime.now(),\n        config.weekDayStart,\n        setSelectedDate\n      );\n\n      setContext('calendarDays', calendarDaysNew);\n\n      setContext('width', width - getTableOffset(selectedView));\n    }\n  }, [selectedView]);\n\n  useEffect(() => {\n    const result = parseAllDayEvents(props.events, timezone);\n\n    setContext('events', result);\n  }, [JSON.stringify(props.events)]);\n\n  useEffect(() => {\n    if (\n      callbacks.onPageChange &&\n      calendarDays &&\n      calendarDays[0] &&\n      calendarDays.length > 0\n    ) {\n      callbacks.onPageChange({\n        rangeFrom: calendarDays?.[0]\n          ?.set({ hour: 0, minute: 0, second: 0, millisecond: 0 })\n          .toUTC()\n          .toString(),\n        rangeTo: calendarDays?.[calendarDays?.length - 1]\n          ?.set({ hour: 23, minute: 59, second: 59, millisecond: 59 })\n          ?.toUTC()\n          .toString(),\n      });\n    }\n  }, [\n    selectedView,\n    calendarDays?.[0],\n    calendarDays?.[calendarDays?.length - 1],\n  ]);\n\n  return selectedView && calendarDays?.length > 0 && selectedDate ? (\n    <>\n      <CalendarDesktopNavigation setViewChanged={setViewChanged} />\n      {selectedView !== CALENDAR_VIEW.AGENDA ? (\n        <CalendarHeader events={events ? events : {}} />\n      ) : null}\n      <div className={'Kalend__Calendar__table'}>\n        <CalendarTableLayoutLayer>\n          {selectedView === CALENDAR_VIEW.MONTH ? (\n            <MonthView events={events ? events : {}} />\n          ) : null}\n\n          {selectedView === CALENDAR_VIEW.DAY ||\n          selectedView === CALENDAR_VIEW.THREE_DAYS ||\n          selectedView === CALENDAR_VIEW.WEEK ? (\n            <DaysViewTable events={events ? events : {}} />\n          ) : null}\n\n          {selectedView === CALENDAR_VIEW.AGENDA ? (\n            <AgendaView events={events ? events : {}} />\n          ) : null}\n        </CalendarTableLayoutLayer>\n      </div>\n    </>\n  ) : null;\n};\n\nexport default Calendar;\n","import { CALENDAR_VIEW } from '../common/enums';\nimport {\n  Callbacks,\n  Config,\n  EventLayout,\n  ShowMoreEvents,\n} from '../common/interface';\nimport { DateTime } from 'luxon';\nimport { createCallbacks, createConfig } from '../layers/ConfigLayer';\nimport { createContext, useReducer } from 'react';\nimport Reducer from './reducer';\n\nexport interface Store {\n  isLoading: boolean;\n  headerEventRowsCount: number;\n  initialView: CALENDAR_VIEW | null;\n  selectedView: CALENDAR_VIEW | null;\n  selectedDate: DateTime;\n  calendarDays: DateTime[];\n  width: number;\n  height: number;\n  isMobile: boolean;\n  events: any;\n  // layouts\n  daysViewLayout: EventLayout | null;\n  headerLayout: EventLayout | null;\n  monthLayout: EventLayout[] | null;\n  monthOverflowEvents: any;\n  layoutUpdateSequence: number;\n  config: Config;\n  callbacks: Callbacks;\n  showMoreEvents: ShowMoreEvents | null;\n}\n\nexport const Context: any = createContext({});\n\nconst StoreProvider = ({ children }: any) => {\n  const initialContext: Store = {\n    isLoading: false,\n    headerEventRowsCount: 0,\n    initialView: null,\n    selectedView: null,\n    selectedDate: DateTime.now(),\n    calendarDays: [],\n    width: 0,\n    height: 0,\n    isMobile: false,\n    events: {},\n    daysViewLayout: null,\n    headerLayout: null,\n    monthLayout: null,\n    monthOverflowEvents: null,\n    showMoreEvents: null,\n    layoutUpdateSequence: 1,\n    config: createConfig({}),\n    callbacks: createCallbacks({}),\n  };\n\n  const [store, dispatch] = useReducer(Reducer, initialContext);\n\n  return (\n    <Context.Provider value={[store, dispatch]}>{children}</Context.Provider>\n  );\n};\n\nexport default StoreProvider;\n","import { CALENDAR_VIEW, TIME_FORMAT, WEEKDAY_START } from '../common/enums';\nimport { Callbacks, Config } from '../common/interface';\nimport { Context } from '../context/store';\nimport { DEFAULT_HOUR_HEIGHT } from '../common/constants';\nimport { DateTime } from 'luxon';\nimport { KalendProps } from '../index';\nimport { eventsToArray, eventsToDateKey } from '../utils/common';\nimport { filterEventsByCalendarIDs } from '../utils/eventLayout';\nimport { useContext, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst emptyFunction = () => {};\n\nconst parseTimeFormat = (\n  timeFormatValue: string | undefined\n): TIME_FORMAT | void => {\n  if (timeFormatValue) {\n    if (\n      timeFormatValue.toLowerCase() ===\n      TIME_FORMAT.H_24.toString().toLowerCase()\n    ) {\n      return TIME_FORMAT.H_24;\n    } else if (\n      timeFormatValue.toLowerCase() ===\n      TIME_FORMAT.H_12.toString().toLowerCase()\n    ) {\n      return TIME_FORMAT.H_12;\n    }\n  }\n};\n\nconst parseWeekDayStart = (\n  weekDayStartValue: string | undefined\n): WEEKDAY_START | void => {\n  if (weekDayStartValue) {\n    if (\n      weekDayStartValue.toLowerCase() === WEEKDAY_START.MONDAY.toLowerCase()\n    ) {\n      return WEEKDAY_START.MONDAY;\n    } else if (\n      weekDayStartValue.toLowerCase() === WEEKDAY_START.SUNDAY.toLowerCase()\n    ) {\n      return WEEKDAY_START.SUNDAY;\n    }\n  }\n};\n\nexport const createConfig = (props: KalendProps): Config => {\n  return {\n    hourHeight: props.hourHeight || DEFAULT_HOUR_HEIGHT,\n    timeFormat: parseTimeFormat(props.timeFormat) || TIME_FORMAT.H_24,\n    timezone:\n      props.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone,\n    weekDayStart: parseWeekDayStart(props.weekDayStart) || WEEKDAY_START.MONDAY,\n    isDark: false, //props.isDark,\n    disableMobileDropdown: props.disableMobileDropdown || false,\n    disabledViews: props.disabledViews,\n    calendarIDsHidden: props.calendarIDsHidden || null,\n  };\n};\n\nexport const createCallbacks = (props: KalendProps): Callbacks => {\n  return {\n    onEventDragFinish: props.onEventDragFinish || undefined,\n    onPageChange: props.onPageChange || undefined,\n    onSelectView: props.onSelectView || undefined,\n    onEventClick: props.onEventClick || emptyFunction,\n    onNewEventClick: props.onNewEventClick || emptyFunction,\n    showMoreMonth: props.showMoreMonth || emptyFunction,\n  };\n};\n\nconst ConfigLayer = (props: KalendProps) => {\n  const { i18n } = useTranslation();\n\n  const [isReady, setIsReady] = useState(false);\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const initFromProps = () => {\n    const config = createConfig(props);\n    const callbacks = createCallbacks(props);\n    setContext('config', config);\n    setContext('callbacks', callbacks);\n    setContext(\n      'selectedView',\n      props.selectedView || props.initialView || CALENDAR_VIEW.WEEK\n    );\n    setContext(\n      'selectedDate',\n      props.initialDate ? DateTime.fromISO(props.initialDate) : DateTime.now()\n    );\n\n    setIsReady(true);\n  };\n  useEffect(() => {\n    initFromProps();\n    setIsReady(true);\n  }, []);\n\n  useEffect(() => {\n    initFromProps();\n  }, [\n    props.hourHeight,\n    props.timeFormat,\n    props.timezone,\n    // props.disabledViews, // keeps re-rendering without any change\n    props.isDark,\n    props.disableMobileDropdown,\n  ]);\n\n  useEffect(() => {\n    const eventsFiltered: any = filterEventsByCalendarIDs(\n      eventsToArray(props.events),\n      props.calendarIDsHidden\n    );\n\n    setContext(\n      'events',\n      eventsToDateKey(eventsFiltered, store.config.timezone)\n    );\n  }, [\n    JSON.stringify(props.calendarIDsHidden),\n    props.calendarIDsHidden?.length,\n  ]);\n\n  useEffect(() => {\n    i18n.changeLanguage(props.language || 'en');\n  }, []);\n\n  useEffect(() => {\n    i18n.changeLanguage(props.language || 'en');\n  }, [props.language]);\n\n  return isReady ? props.children : null;\n};\n\nexport default ConfigLayer;\n","export const EVENT_MIN_HEIGHT = 25;\nexport const EVENT_TABLE_DELIMITER = 1;\nexport const TABLE_COL_SPACE = 5;\nexport const EVENT_TABLE_DELIMITER_SPACE = 8;\nexport const HOUR_COL_HEIGHT = 40;\nexport const CALENDAR_OFFSET_LEFT = 40;\nexport const DEFAULT_HOUR_HEIGHT = 40;\nexport const SHOW_TIME_THRESHOLD = 60;\nexport const MONTH_DAY_HEADER_HEIGHT = 25;\nexport const MONTH_EVENT_HEIGHT = 14;\nexport const SCROLLBAR_WIDTH = 15;\n\nexport const hoursArrayString = [\n  '00',\n  '01',\n  '02',\n  '03',\n  '04',\n  '05',\n  '06',\n  '07',\n  '08',\n  '09',\n  '10',\n  '11',\n  '12',\n  '13',\n  '14',\n  '15',\n  '16',\n  '17',\n  '18',\n  '19',\n  '20',\n  '21',\n  '22',\n  '23',\n];\n","import { CALENDAR_OFFSET_LEFT, SCROLLBAR_WIDTH } from '../common/constants';\nimport { CALENDAR_VIEW, TIME_FORMAT } from '../common/enums';\nimport { CalendarEvent } from '../common/interface';\nimport { DateTime } from 'luxon';\nimport { parseToDateTime } from './dateTimeParser';\n\nexport const parseCssDark = (\n  className: string,\n  isDark: boolean | undefined\n): string => (isDark ? `${className}-dark` : className);\n\nexport const parseIsMobile = (className: string, isMobile: boolean): string => {\n  return isMobile ? `${className}-mobile` : className;\n};\n\nexport const parseClassName = (\n  className: string,\n  isMobile?: boolean,\n  isDark?: boolean\n): string => {\n  let classNameParsed = className;\n  classNameParsed = isMobile ? `${classNameParsed}-mobile` : classNameParsed;\n  classNameParsed = isDark ? `${classNameParsed}-dark` : classNameParsed;\n\n  return classNameParsed;\n};\n\nexport const formatTimestampToDate = (dateObj: any): string =>\n  dateObj.isValid\n    ? dateObj.toFormat('dd-MM-yyyy')\n    : DateTime.fromISO(dateObj).toFormat('dd-MM-yyyy');\n\nexport const formatDateTimeToString = (dateObj: DateTime): string =>\n  dateObj.toFormat('dd-MM-yyyy');\n\n/**\n * Get left offset for timetable when hours column in used\n * @param calendarView\n */\nexport const getTableOffset = (calendarView: CALENDAR_VIEW): number => {\n  if (\n    calendarView === CALENDAR_VIEW.THREE_DAYS ||\n    calendarView === CALENDAR_VIEW.DAY ||\n    calendarView === CALENDAR_VIEW.WEEK\n  ) {\n    return CALENDAR_OFFSET_LEFT;\n  }\n\n  return 0;\n};\n\nexport const getArrayStart = (array: any) => array[0];\nexport const getArrayEnd = (array: any) => array[array.length - 1];\nexport const getDayTimeStart = (date: DateTime): string =>\n  date.set({ hour: 0, minute: 0, second: 0 }).toUTC().toString();\nexport const getDayTimeEnd = (date: DateTime): string =>\n  date.set({ hour: 23, minute: 59, second: 59 }).toUTC().toString();\n\nexport const isAllDayEvent = (item: CalendarEvent): boolean => {\n  if (!item) {\n    return false;\n  }\n\n  return (\n    // @ts-ignore\n    parseToDateTime(item.endAt, item.timezoneStartAt)\n      .diff(parseToDateTime(item.startAt, item.timezoneStartAt), 'days')\n      .toObject().days > 1\n  );\n};\n\nexport const parseCalendarViewToText = (\n  calendarView: CALENDAR_VIEW\n): string => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.AGENDA:\n      return 'buttons:agenda';\n    case CALENDAR_VIEW.DAY:\n      return 'buttons:day';\n    case CALENDAR_VIEW.THREE_DAYS:\n      return 'buttons:threeDays';\n    case CALENDAR_VIEW.WEEK:\n      return 'buttons:week';\n    case CALENDAR_VIEW.MONTH:\n      return 'buttons:month';\n    default:\n      return '';\n  }\n};\n\nexport const eventsToArray = (events: any): CalendarEvent[] => {\n  let result: CalendarEvent[] = [];\n\n  if (!events) {\n    return result;\n  }\n\n  Object.entries(events).forEach((keyValue: any) => {\n    const eventsItems: CalendarEvent[] = keyValue[1];\n    result = [...result, ...eventsItems];\n  });\n\n  return result;\n};\n\nexport const eventsToDateKey = (events: CalendarEvent[], timezone: string) => {\n  const result: any = {};\n\n  events?.forEach((item: any) => {\n    const dateKey: any = parseToDateTime(\n      item.startAt,\n      item.timezoneStartAt || timezone\n    ).toFormat('dd-MM-yyyy');\n\n    if (result[dateKey]) {\n      result[dateKey] = [...result[dateKey], ...[item]];\n    } else {\n      result[dateKey] = [item];\n    }\n  });\n\n  return result;\n};\n\n/**\n * Adjust width for views with displayed scrollbar cutting of space\n * @param width\n * @param isMobile\n * @param selectedView\n */\nexport const getCorrectWidth = (\n  width: number,\n  isMobile: boolean,\n  selectedView: CALENDAR_VIEW\n): number => {\n  if (\n    selectedView === CALENDAR_VIEW.WEEK ||\n    selectedView === CALENDAR_VIEW.DAY ||\n    selectedView === CALENDAR_VIEW.THREE_DAYS\n  ) {\n    if (isMobile) {\n      return width;\n    } else {\n      return width - SCROLLBAR_WIDTH;\n    }\n  }\n\n  return width;\n};\n\nexport const createVerticalHours = (timeFormat: TIME_FORMAT): string[] => {\n  const result: string[] = [];\n\n  if (timeFormat === TIME_FORMAT.H_24) {\n    for (let i = 0; i < 24; i++) {\n      if (i < 10) {\n        result.push(`0${i}`);\n      } else {\n        result.push(String(i));\n      }\n    }\n  } else if (timeFormat === TIME_FORMAT.H_12) {\n    for (let i = 0; i < 24; i++) {\n      if (i < 12) {\n        result.push(`${i} AM`);\n      } else if (i === 12) {\n        result.push(`${i} PM`);\n      } else {\n        result.push(`${i - 12} PM`);\n      }\n    }\n  }\n\n  return result;\n};\n","import { DateTime } from 'luxon';\n\n//\n// Support for local datetime, timezones and floating times\n//\nconst FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\nconst UTC_TIMEZONE = 'UTC';\n\n/**\n * Parse datetime according different rules like local datetime, floating time and timezones\n * @param date\n * @param zone\n * @param deviceTimezone\n * @constructor\n */\nexport const DatetimeParser = (\n  date: DateTime | string,\n  zone: string,\n  deviceTimezone?: string\n): string => {\n  const dateString: string = typeof date === 'string' ? date : date.toString();\n\n  const isFloatingDatetime: boolean = zone === FLOATING_DATETIME;\n\n  // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n  if (isFloatingDatetime) {\n    const dateFloating: DateTime = DateTime.fromISO(dateString, {\n      zone: UTC_TIMEZONE,\n    });\n\n    return dateFloating.toUTC().toISO();\n  }\n\n  const thisDate: DateTime = DateTime.fromISO(dateString);\n\n  // Adjust datetime to device timezone\n  if (deviceTimezone) {\n    const dateConvert: DateTime = thisDate.setZone(zone);\n\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nexport const parseToDateTime = (\n  date: DateTime | string,\n  zone: string,\n  deviceTimezone?: string\n): DateTime => {\n  const dateString: string = typeof date === 'string' ? date : date.toString();\n\n  const isFloatingDatetime: boolean = zone === FLOATING_DATETIME;\n\n  // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n  if (isFloatingDatetime) {\n    const dateFloating: DateTime = DateTime.fromISO(dateString, {\n      zone: UTC_TIMEZONE,\n    });\n\n    return dateFloating.toUTC();\n  }\n\n  const thisDate: DateTime = DateTime.fromISO(dateString);\n\n  if (!zone) {\n    // Adjust datetime to device timezone\n    if (deviceTimezone) {\n      return thisDate.setZone(deviceTimezone);\n    } else {\n      return thisDate;\n    }\n  }\n\n  return thisDate.setZone(zone);\n};\n","/**\n * Calculate normal event positions for one day\n * @param daysNum\n * @param events\n * @param baseWidth\n * @param isDark\n * @param defaultTimezone\n */\nimport { CALENDAR_VIEW } from '../common/enums';\nimport {\n  CalendarEvent,\n  Config,\n  NormalEventPosition,\n} from '../common/interface';\nimport { DateTime, Interval } from 'luxon';\nimport {\n  EVENT_MIN_HEIGHT,\n  EVENT_TABLE_DELIMITER_SPACE,\n  SHOW_TIME_THRESHOLD,\n} from '../common/constants';\nimport { getDaysNum, parseToDate } from './calendarDays';\nimport { parseToDateTime } from './dateTimeParser';\n\nexport const checkOverlappingEvents = (\n  eventA: CalendarEvent,\n  eventB: CalendarEvent,\n  timezone: string\n): boolean => {\n  const startAtFirst: DateTime = parseToDateTime(\n    eventA.startAt,\n    eventA.timezoneStartAt,\n    timezone\n  );\n  const endAtFirst: DateTime = parseToDateTime(\n    eventA.endAt,\n    eventA.timezoneStartAt,\n    timezone\n  );\n  const startAtSecond: DateTime = parseToDateTime(\n    eventB.startAt,\n    eventB.timezoneStartAt,\n    timezone\n  );\n  const endAtSecond: DateTime = parseToDateTime(\n    eventB.endAt,\n    eventB.timezoneStartAt,\n    timezone\n  );\n\n  return Interval.fromDateTimes(startAtFirst, endAtFirst).overlaps(\n    Interval.fromDateTimes(startAtSecond, endAtSecond)\n  );\n};\n\nconst adjustForMinimalHeight = (\n  eventA: any,\n  eventB: any,\n  hourHeight: number\n): { eventA: any; eventB: any } => {\n  const result: any = {\n    eventA: { ...eventA },\n    eventB: { ...eventB },\n  };\n\n  const eventADiff: number =\n    // @ts-ignore\n    DateTime.fromISO(eventA.endAt)\n      .diff(DateTime.fromISO(eventA.startAt))\n      .toObject().minutes /\n    (60 / hourHeight);\n  const eventBDiff: number =\n    // @ts-ignore\n    DateTime.fromISO(eventB.endAt)\n      .diff(DateTime.fromISO(eventB.startAt))\n      .toObject().minutes /\n    (60 / hourHeight);\n\n  if (eventADiff < EVENT_MIN_HEIGHT) {\n    result.eventA.endAt = DateTime.fromISO(result.eventA.endAt)\n      .plus({\n        minutes: EVENT_MIN_HEIGHT - eventADiff,\n      })\n      .toString();\n  }\n  if (eventBDiff < EVENT_MIN_HEIGHT) {\n    result.eventB.endAt = DateTime.fromISO(result.eventB.endAt)\n      .plus({\n        minutes: EVENT_MIN_HEIGHT - eventBDiff,\n      })\n      .toString();\n  }\n\n  return result;\n};\n\nexport const filterEventsByCalendarIDs = (\n  events: any,\n  calendarIDsHidden?: string[]\n) => {\n  if (!calendarIDsHidden || calendarIDsHidden.length === 0) {\n    return events;\n  }\n\n  return events.filter((item: any) => {\n    if (item.calendarID) {\n      if (calendarIDsHidden?.includes(item.calendarID)) {\n        return false;\n      } else {\n        return item;\n      }\n    }\n\n    return item;\n  });\n};\n\nexport const calculateNormalEventPositions = (\n  events: any,\n  baseWidth: number,\n  config: Config,\n  selectedView: CALENDAR_VIEW,\n  dateKey: string\n): NormalEventPosition[] => {\n  const result: NormalEventPosition[] = [];\n\n  let offsetCount: any = []; //Store every event id of overlapping items\n  let offsetCountFinal: any; //Sort events by id number\n  const tableWidth: number = baseWidth / getDaysNum(selectedView);\n  const tableSpace: number = (tableWidth / 100) * EVENT_TABLE_DELIMITER_SPACE;\n\n  if (events) {\n    const eventsData: any = events;\n    // Filter all day events and multi day events\n    eventsData\n      .filter((item: any) => !item.allDay)\n      .map((event: any) => {\n        let width = 1; //Full width\n        let offsetLeft = 0;\n        // Compare events\n        eventsData.forEach((item2: any) => {\n          if (event.id !== item2.id && !item2.allDay) {\n            // adjust events to have at least minimal height to check\n            // overlapping\n            const { eventA, eventB } = adjustForMinimalHeight(\n              event,\n              item2,\n              config.hourHeight\n            );\n\n            if (\n              checkOverlappingEvents(eventA, eventB, config.timezone) &&\n              !eventB.allDay\n            ) {\n              width = width + 1; //add width for every overlapping item\n              offsetCount.push(item2.id); // set offset for positioning\n              offsetCount.push(event.id); // set offset for positioning\n            }\n          }\n        });\n\n        const offsetTop: any =\n          // @ts-ignore\n          parseToDateTime(event.startAt, event.timezoneStartAt, config.timezone)\n            .diff(\n              parseToDateTime(\n                event.startAt,\n                event.timezoneStartAt,\n                config.timezone\n              ).set({\n                hour: 0,\n                minute: 0,\n                second: 0,\n              }),\n              'minutes'\n            )\n            .toObject().minutes /\n          (60 / config.hourHeight); // adjust based on hour column height\n\n        const eventHeight: any =\n          // @ts-ignore\n          parseToDateTime(event.endAt, event.timezoneStartAt)\n            .diff(\n              parseToDateTime(event.startAt, event.timezoneStartAt),\n              'minutes'\n            )\n            .toObject().minutes /\n          (60 / config.hourHeight); // adjust based on hour column height\n\n        const eventWidth: number = tableWidth / width;\n\n        //sort items for proper calculations of offset by id\n        // prevent different order in loop\n        if (offsetCount.length > 0) {\n          offsetCountFinal = offsetCount.sort();\n        }\n\n        if (offsetCountFinal) {\n          offsetLeft = eventWidth * offsetCountFinal.indexOf(event.id); //count offset\n        }\n\n        //event.left\n        // Current status: events is displayed in wrong place\n        offsetCount = [];\n        offsetCountFinal = '';\n\n        result.push({\n          dateKey,\n          event,\n          height:\n            eventHeight < EVENT_MIN_HEIGHT ? EVENT_MIN_HEIGHT : eventHeight,\n          width: eventWidth,\n          offsetLeft,\n          offsetTop,\n          zIndex: 2,\n          meta: {\n            isFullWidth: width === 1,\n            showTime:\n              eventWidth >= SHOW_TIME_THRESHOLD &&\n              eventHeight >= SHOW_TIME_THRESHOLD,\n            centerText: eventHeight <= SHOW_TIME_THRESHOLD,\n          },\n        });\n      });\n  }\n\n  const partialResult: NormalEventPosition[] = result.map(\n    (item: NormalEventPosition) => {\n      // full event width\n      if (item.meta?.isFullWidth) {\n        return {\n          ...item,\n          width: Math.round(item.width - tableSpace), // add some padding,\n        };\n      } else if (item.offsetLeft > 0) {\n        return {\n          ...item,\n          width: Math.round(item.width),\n          offsetLeft: item.offsetLeft - tableSpace,\n          zIndex: item.zIndex ? item.zIndex + 2 : 2,\n        };\n      } else {\n        return { ...item, width: Math.round(item.width) };\n      }\n    }\n  );\n\n  return partialResult;\n};\n\nexport const calculateDaysViewLayout = (\n  calendarDays: DateTime[],\n  events: any,\n  baseWidth: number,\n  config: Config,\n  selectedView: CALENDAR_VIEW\n) => {\n  const result: any = {};\n  calendarDays.forEach((calendarDay) => {\n    const formattedDayString: string = calendarDay.toFormat('dd-MM-yyyy');\n    const dayEvents: any = events[formattedDayString];\n\n    const groupedPositions: any = {};\n\n    const positions = calculateNormalEventPositions(\n      dayEvents,\n      baseWidth,\n      config,\n      selectedView,\n      formattedDayString\n    );\n\n    positions.forEach((item: any) => {\n      if (groupedPositions[item.event.id]) {\n        groupedPositions[item.event.id] = item;\n      } else {\n        groupedPositions[item.event.id] = item;\n      }\n    });\n\n    result[formattedDayString] = groupedPositions;\n  });\n\n  return result;\n};\n\nexport const checkOverlappingDatesForHeaderEvents = (\n  event: CalendarEvent,\n  day: DateTime,\n  timezone: string\n): boolean => {\n  const dateStart = parseToDateTime(\n    event.startAt,\n    event.timezoneStartAt || timezone\n  );\n  const dateEnd = parseToDateTime(\n    event.endAt,\n    event.timezoneStartAt || timezone\n  );\n  const dayTruncated: number = parseToDate(day)\n    .set({ hour: 0, minute: 0, millisecond: 0, second: 0 })\n    .toMillis();\n\n  const eventStartTruncated: number = dateStart\n    .set({ hour: 0, minute: 0, millisecond: 0, second: 0 })\n    .toMillis();\n  const eventEndTruncated: number = dateEnd\n    .set({ hour: 0, minute: 0, millisecond: 0, second: 0 })\n    .toMillis();\n\n  // fix wrong positioning when external all day event ends in next day\n  if (event.externalID) {\n    return (\n      dayTruncated >= eventStartTruncated && dayTruncated < eventEndTruncated\n    );\n  } else {\n    return (\n      dayTruncated >= eventStartTruncated && dayTruncated <= eventEndTruncated\n    );\n  }\n};\n\nexport const isEventInRange = (\n  event: CalendarEvent,\n  days: DateTime[],\n  timezone: string\n): boolean => {\n  let hasMatch = false;\n\n  for (const day of days) {\n    if (checkOverlappingDatesForHeaderEvents(event, day, timezone)) {\n      hasMatch = true;\n      return true;\n      // return false;\n    }\n  }\n\n  return hasMatch;\n};\n","/* tslint:disable:no-magic-numbers */\nimport {\n  CALENDAR_NAVIGATION_DIRECTION,\n  CALENDAR_VIEW,\n  WEEKDAY_START,\n} from '../common/enums';\nimport { DateTime } from 'luxon';\nimport { getArrayEnd, getArrayStart } from './common';\nimport LuxonHelper from './luxonHelper';\n\nconst ONE_DAY = 1;\nconst THREE_DAYS = 3;\nconst SEVEN_DAYS = 7;\n\nexport const formatIsoStringDate = (stringDate: string) =>\n  stringDate.slice(0, stringDate.indexOf('T'));\n\nexport const hoursArray = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,\n  22, 23, 24,\n];\n\nexport const hoursArrayString = [\n  '00',\n  '01',\n  '02',\n  '03',\n  '04',\n  '05',\n  '06',\n  '07',\n  '08',\n  '09',\n  '10',\n  '11',\n  '12',\n  '13',\n  '14',\n  '15',\n  '16',\n  '17',\n  '18',\n  '19',\n  '20',\n  '21',\n  '22',\n  '23',\n];\n\nexport const calendarColors: any = {\n  red: { dark: '#ef9a9a', light: '#e53935' },\n  pink: { dark: '#f48fb1', light: '#d81b60' },\n  purple: { dark: '#ce93d8', light: '#8e24aa' },\n  'deep purple': { dark: '#b39ddb', light: '#5e35b1' },\n  indigo: { dark: '#9fa8da', light: '#3949ab' },\n  blue: { dark: '#90caf9', light: '#1e88e5' },\n  'light blue': { dark: '#81d4fa', light: '#039be5' },\n  cyan: { dark: '#80deea', light: '#00acc1' },\n  teal: { dark: '#80cbc4', light: '#00897b' },\n  green: { dark: '#a5d6a7', light: '#43a047' },\n  'light green': { dark: '#c5e1a5', light: '#7cb342' },\n  yellow: { dark: '#fff59d', light: '#fdd835' },\n  amber: { dark: '#ffe082', light: '#ffb300' },\n  orange: { dark: '#ffcc80', light: '#fb8c00' },\n  'deep orange': { dark: '#ffab91', light: '#f4511e' },\n  brown: { dark: '#bcaaa4', light: '#6d4c41' },\n  'blue grey': { dark: '#b0bec5', light: '#546e7a' },\n};\n\nexport const parseEventColor = (\n  colorString: string,\n  isDark?: boolean\n): string =>\n  calendarColors[colorString]\n    ? calendarColors[colorString][isDark ? 'dark' : 'light']\n    : colorString;\n\nexport const daysText = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\nexport const daysTextSundayStart = [\n  'Sun',\n  'Mon',\n  'Tue',\n  'Wed',\n  'Thu',\n  'Fri',\n  'Sat',\n];\n\nexport const calculateOneDay = (date: DateTime): DateTime => {\n  return date;\n};\n\nconst calculateMondayStartWeekDay = (\n  date: DateTime,\n  calendarView: CALENDAR_VIEW\n): DateTime[] => {\n  const days = [];\n  const dayInWeek = date.weekday;\n  const startDate = date.minus({ days: dayInWeek - 1 });\n\n  if (calendarView === CALENDAR_VIEW.MONTH) {\n    if (dayInWeek === 0) {\n      for (let i = 6; i > 0; i--) {\n        days.push(date.minus({ days: i }));\n      }\n      days.push(date);\n    } else {\n      days.push(startDate);\n      for (let i = 1; i < 7; i++) {\n        days.push(startDate.plus({ days: i }));\n      }\n    }\n  } else {\n    for (let i = 0; i < 7; i++) {\n      days.push(startDate.plus({ days: i }));\n    }\n  }\n\n  return days;\n};\n\nconst calculateSundayStartWeekDay = (\n  date: DateTime,\n  calendarView: CALENDAR_VIEW\n): DateTime[] => {\n  const days = [];\n  const dayInWeek = date.weekday;\n  const startDate =\n    dayInWeek === 7\n      ? date.plus({ days: dayInWeek - 7 })\n      : date.minus({ days: dayInWeek });\n\n  if (calendarView === CALENDAR_VIEW.MONTH) {\n    if (dayInWeek === 7) {\n      for (let i = 6; i > 0; i--) {\n        days.push(date.minus({ days: i }));\n      }\n      days.push(date);\n    } else {\n      days.push(startDate);\n      for (let i = 1; i < 7; i++) {\n        days.push(startDate.plus({ days: i }));\n      }\n    }\n  } else {\n    for (let i = 0; i < 7; i++) {\n      days.push(startDate.plus({ days: i }));\n    }\n  }\n\n  return days;\n};\n\nexport const getWeekDays = (\n  date: DateTime,\n  calendarView: CALENDAR_VIEW,\n  weekDayStart: WEEKDAY_START,\n  setSelectedDate?: any\n): DateTime[] => {\n  // Set state\n  if (setSelectedDate && calendarView !== CALENDAR_VIEW.MONTH) {\n    setSelectedDate(date);\n  }\n\n  if (weekDayStart === WEEKDAY_START.MONDAY) {\n    return calculateMondayStartWeekDay(date, calendarView);\n  } else {\n    return calculateSundayStartWeekDay(date, calendarView);\n  }\n};\n\nexport const getThreeDays = (\n  date: DateTime,\n  setSelectedDate: any,\n  isGoingForward?: boolean | null\n): DateTime[] => {\n  const days = [];\n\n  if (isGoingForward === null || isGoingForward === undefined) {\n    for (let i = 0; i <= 2; i++) {\n      days.push(date.plus({ days: i }));\n    }\n  } else if (isGoingForward) {\n    for (let i = 1; i <= 3; i++) {\n      days.push(date.plus({ days: i }));\n    }\n  } else {\n    for (let i = 3; i > 0; i--) {\n      days.push(date.minus({ days: i }));\n    }\n  }\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(days[1]);\n  }\n\n  return days;\n};\n\nexport const getDaysNum = (calendarView: CALENDAR_VIEW): number => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.WEEK:\n      return SEVEN_DAYS;\n    case CALENDAR_VIEW.THREE_DAYS:\n      return THREE_DAYS;\n    case CALENDAR_VIEW.DAY:\n      return ONE_DAY;\n    default:\n      return SEVEN_DAYS;\n  }\n};\n\nconst getOneDay = (date: DateTime, setSelectedDate: any): DateTime[] => {\n  const refDate: DateTime = calculateOneDay(date);\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(refDate);\n  }\n\n  return [refDate];\n};\n\nexport const calculateAgendaDays = (refDate: DateTime): DateTime[] => {\n  const firstDayInMonth: DateTime = LuxonHelper.getFirstDayOfMonth(refDate);\n  const daysInMonth: number = refDate.daysInMonth;\n  const monthDays: DateTime[] = [];\n\n  // Add missing days to month view\n  for (let i = 0; i <= daysInMonth; i += 1) {\n    const day: DateTime = firstDayInMonth.plus({ days: i });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nexport const calculateMonthDays = (\n  date: DateTime,\n  weekDayStart: WEEKDAY_START\n): DateTime[] => {\n  const FIVE_WEEKS_DAYS_COUNT = 36;\n  // Get reference date for calculating new month\n\n  // Get first week of current month\n  const firstDayOfCurrentMonth: DateTime = LuxonHelper.getFirstDayOfMonth(date);\n\n  const firstWeekOfCurrentMonth: DateTime[] = getWeekDays(\n    firstDayOfCurrentMonth,\n    CALENDAR_VIEW.WEEK,\n    weekDayStart,\n    undefined\n  );\n\n  const monthDays: DateTime[] = firstWeekOfCurrentMonth;\n\n  // Add missing days to month view\n  for (let i = 1; i < FIVE_WEEKS_DAYS_COUNT; i += 1) {\n    const day: DateTime = firstWeekOfCurrentMonth[6].plus({ days: i });\n    monthDays.push(day);\n  }\n\n  return monthDays;\n};\n\nexport const getAgendaDays = (\n  date: DateTime,\n  setSelectedDate: any\n): DateTime[] => {\n  const monthDays: DateTime[] = calculateAgendaDays(date);\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(monthDays[15]);\n  }\n\n  return monthDays;\n};\n\nexport const getMonthDays = (\n  date: DateTime,\n  setSelectedDate: any,\n  weekDayStart: WEEKDAY_START\n) => {\n  const monthDays: DateTime[] = calculateMonthDays(date, weekDayStart);\n\n  // Set state\n  if (setSelectedDate) {\n    setSelectedDate(monthDays[15]);\n  }\n\n  return monthDays;\n};\n\n// TODO dark theme support for parsing colors\n// export const mapCalendarColors = (calendars: any) => {\n//   const result: any = {};\n//   for (const calendar of calendars) {\n//     result[calendar.id] = {\n//       color: {\n//         light: calendar.color.light,\n//         dark: calendar.color.dark,\n//       },\n//     };\n//   }\n//\n//   return result;\n// };\n\nexport const parseToDate = (item: string | DateTime): DateTime =>\n  typeof item === 'string' ? DateTime.fromISO(item) : item;\n\nexport const parseDateToString = (item: string | DateTime): string =>\n  typeof item === 'string' ? item : item.toString();\n\nexport const checkIfSwipingForward = (\n  oldIndex: number,\n  newIndex: number\n): boolean =>\n  (oldIndex === 0 && newIndex === 1) ||\n  (oldIndex === 1 && newIndex === 2) ||\n  (oldIndex === 2 && newIndex === 0);\n\nexport const chooseSelectedDateIndex = (\n  calendarView: CALENDAR_VIEW\n): number => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.MONTH:\n      return 15;\n    case CALENDAR_VIEW.AGENDA:\n      return 15;\n    case CALENDAR_VIEW.WEEK:\n      return 2;\n    case CALENDAR_VIEW.THREE_DAYS:\n      return 0;\n    case CALENDAR_VIEW.DAY:\n      return 0;\n    default:\n      return 2;\n  }\n};\n\nexport const getCalendarDays = (\n  calendarView: CALENDAR_VIEW,\n  date: DateTime,\n  weekDayStart: WEEKDAY_START,\n  setSelectedDate?: any\n): DateTime[] => {\n  switch (calendarView) {\n    case CALENDAR_VIEW.WEEK:\n      return getWeekDays(date, calendarView, weekDayStart, setSelectedDate);\n    case CALENDAR_VIEW.THREE_DAYS:\n      return getThreeDays(date, setSelectedDate);\n    case CALENDAR_VIEW.DAY:\n      return getOneDay(date, setSelectedDate);\n    case CALENDAR_VIEW.MONTH:\n      return getMonthDays(date, setSelectedDate, weekDayStart);\n    case CALENDAR_VIEW.AGENDA:\n      return getAgendaDays(date, setSelectedDate);\n    default:\n      return getWeekDays(date, calendarView, setSelectedDate);\n  }\n};\n\nconst getReferenceDate = (\n  direction: CALENDAR_NAVIGATION_DIRECTION,\n  calendarView: CALENDAR_VIEW,\n  calendarDays: DateTime[]\n): DateTime => {\n  if (direction === CALENDAR_NAVIGATION_DIRECTION.TODAY) {\n    return DateTime.now();\n  }\n\n  if (calendarView === CALENDAR_VIEW.THREE_DAYS) {\n    if (direction === CALENDAR_NAVIGATION_DIRECTION.FORWARD) {\n      return getArrayEnd(calendarDays).plus({ days: 1 });\n    } else {\n      return getArrayStart(calendarDays).minus({ days: 3 });\n    }\n  }\n\n  if (\n    calendarView === CALENDAR_VIEW.WEEK ||\n    calendarView === CALENDAR_VIEW.DAY\n  ) {\n    if (direction === CALENDAR_NAVIGATION_DIRECTION.FORWARD) {\n      return getArrayEnd(calendarDays).plus({ days: 1 });\n    } else {\n      return getArrayStart(calendarDays).minus({ days: 1 });\n    }\n  }\n\n  if (\n    calendarView === CALENDAR_VIEW.MONTH ||\n    calendarView === CALENDAR_VIEW.AGENDA\n  ) {\n    if (direction === CALENDAR_NAVIGATION_DIRECTION.FORWARD) {\n      return calendarDays[15].plus({ months: 1 });\n    } else {\n      return calendarDays[15].minus({ months: 1 });\n    }\n  }\n\n  return DateTime.now();\n};\n\nexport const calculateCalendarDays = (\n  direction: CALENDAR_NAVIGATION_DIRECTION,\n  calendarDays: DateTime[],\n  calendarView: CALENDAR_VIEW,\n  setSelectedDate: any,\n  weekDayStart: WEEKDAY_START\n): DateTime[] => {\n  return getCalendarDays(\n    calendarView,\n    getReferenceDate(direction, calendarView, calendarDays),\n    weekDayStart,\n    setSelectedDate\n  );\n};\n","import { DateTime } from 'luxon';\n//\n// Support for local datetime, timezones and floating times\n//\nconst FLOATING_DATETIME = 'floating'; // fixed datetime without timezone\nconst UTC_TIMEZONE = 'UTC';\n\nexport const TIMESTAMP_FORMAT = \"yyyy-MM-dd HH:mm:ss 'Z'\";\nexport const DATE_HOUR_FORMAT = 'd. MMM, HH:mm';\nexport const DATE_FORMAT = 'd. MMMM';\nexport const TIME_FORMAT = 'HH:mm';\nexport const DATE_DAY_FORMAT = 'd. MMMM (EEEEEE)';\nexport const WEEK_DAY_FORMAT = 'cccc';\nexport const WEEK_DAY_FORMAT_MEDIUM = 'ccc';\nexport const WEEK_DAY_FORMAT_SHORT = 'EEEEEE';\nexport const DATE_MONTH_YEAR_FORMAT = 'd. MMMM yyyy';\nexport const EVENTS_DAY_FORMAT = 'dd-MM-yyyy';\n\n/**\n * Parse datetime according different rules like local datetime, floating time and timezones\n * @param date\n * @param zone\n * @param deviceTimezone\n * @constructor\n */\nexport const DatetimeParser = (\n  date: DateTime | string,\n  zone: string,\n  deviceTimezone?: string\n): string => {\n  const dateString: string = typeof date === 'string' ? date : date.toString();\n\n  const isFloatingDatetime: boolean = zone === FLOATING_DATETIME;\n\n  // Adjust date with timezone so when converted to UTC it represents correct value with fixed time\n  if (isFloatingDatetime) {\n    const dateFloating: DateTime = DateTime.fromISO(dateString, {\n      zone: UTC_TIMEZONE,\n    });\n\n    return dateFloating.toUTC().toISO();\n  }\n\n  const thisDate: DateTime = DateTime.fromISO(dateString);\n\n  // Adjust datetime to device timezone\n  if (deviceTimezone) {\n    const dateConvert: DateTime = thisDate.setZone(zone);\n\n    return dateConvert.setZone(deviceTimezone).toString();\n  }\n\n  return thisDate.setZone(zone).toString();\n};\n\nconst LuxonHelper = {\n  parseToDateTime: (date: string | DateTime): DateTime =>\n    typeof date === 'string' ? DateTime.fromISO(date) : date,\n\n  getLastDayOfMonth: (date: DateTime): DateTime => {\n    const daysInMonth: number = date.daysInMonth;\n\n    return date.set({ day: daysInMonth });\n  },\n\n  getFirstDayOfMonth: (date: DateTime): DateTime => date.set({ day: 1 }),\n\n  isSameDay: (dateA: DateTime, dateB: DateTime): boolean => {\n    return (\n      dateA.year === dateB.year &&\n      dateA.month === dateB.month &&\n      dateA.day === dateB.day\n    );\n  },\n\n  isBefore: (dateA: string, dateB: string): boolean =>\n    DateTime.fromISO(dateB).valueOf() - DateTime.fromISO(dateA).valueOf() > 0,\n\n  isBeforeInDateTime: (dateA: DateTime, dateB: DateTime): boolean =>\n    dateB.valueOf() - dateA.valueOf() > 0,\n\n  isBeforeAny: (dateA: string, dateB: string): boolean => {\n    const dateADateTime: DateTime = LuxonHelper.parseToDateTime(dateA);\n    const dateBDateTime: DateTime = LuxonHelper.parseToDateTime(dateB);\n\n    return dateBDateTime.valueOf() - dateADateTime.valueOf() > 0;\n  },\n\n  isToday: (dateA: DateTime): boolean => {\n    const todayDate: DateTime = DateTime.local();\n\n    return (\n      dateA.day === todayDate.day &&\n      dateA.month === todayDate.month &&\n      dateA.year === todayDate.year\n    );\n  },\n\n  parseToString: (date: DateTime | string): string => {\n    if (typeof date !== 'string') {\n      if (date.isValid) {\n        return date.toUTC().toString();\n      }\n    }\n\n    return date.toString() as string;\n  },\n  toUtcString: (date: string): string => DateTime.fromISO(date).toUTC().toISO(),\n  toUtc: (date: DateTime): string => date.toUTC().toISO(),\n  setTimezone: (dateString: string, timezone: string): string =>\n    DateTime.fromISO(dateString).setZone(timezone).toString(),\n  toHumanDate: (dateString: string): string =>\n    DateTime.fromISO(dateString).toFormat('d LLL yyyy hh:mm'),\n};\n\nexport default LuxonHelper;\n","// tslint:disable-next-line:cyclomatic-complexity\nconst Reducer = (state: any, action: any) => {\n  switch (action.type) {\n    case 'initialView':\n      return {\n        ...state,\n        initialView: action.payload,\n      };\n    case 'selectedView':\n      return {\n        ...state,\n        selectedView: action.payload,\n      };\n    case 'isMobile':\n      return {\n        ...state,\n        isMobile: action.payload,\n      };\n    case 'daysViewLayout':\n      return {\n        ...state,\n        daysViewLayout: action.payload,\n      };\n    case 'config':\n      return {\n        ...state,\n        config: action.payload,\n      };\n    case 'headerLayout':\n      return {\n        ...state,\n        headerLayout: action.payload,\n      };\n    case 'monthLayout':\n      return {\n        ...state,\n        monthLayout: action.payload,\n      };\n    case 'monthOverflowEvents':\n      return {\n        ...state,\n        monthOverflowEvents: action.payload,\n      };\n    case 'showMoreEvents':\n      return {\n        ...state,\n        showMoreEvents: action.payload,\n      };\n    case 'layoutUpdateSequence':\n      return {\n        ...state,\n        layoutUpdateSequence: action.payload,\n      };\n    case 'events':\n      return {\n        ...state,\n        events: action.payload,\n      };\n    case 'selectedDate':\n      return {\n        ...state,\n        selectedDate: action.payload,\n      };\n    case 'calendarDays':\n      return {\n        ...state,\n        calendarDays: action.payload,\n      };\n    case 'isLoading':\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    case 'width':\n      return {\n        ...state,\n        width: action.payload,\n      };\n    case 'height':\n      return {\n        ...state,\n        height: action.payload,\n      };\n    case 'callbacks':\n      return {\n        ...state,\n        callbacks: action.payload,\n      };\n    case 'headerEventRowsCount':\n      return {\n        ...state,\n        headerEventRowsCount: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default Reducer;\n","import { CalendarEvent } from '../common/interface';\nimport { DateTime } from 'luxon';\nimport { parseToDateTime } from './dateTimeParser';\nimport LuxonHelper from './luxonHelper';\n\nexport const parseAllDayEvent = (\n  event: CalendarEvent,\n  timezone: string\n): CalendarEvent => {\n  const startAtDateTime: DateTime = parseToDateTime(\n    event.startAt,\n    event.timezoneStartAt || timezone\n  );\n  const endAtDateTime: DateTime = parseToDateTime(\n    event.endAt,\n    event.timezoneStartAt || timezone\n  );\n\n  return {\n    ...event,\n    allDay: !LuxonHelper.isSameDay(startAtDateTime, endAtDateTime),\n  };\n};\n\nexport const parseAllDayEvents = (events: any, timezone: string) => {\n  const result: any = {};\n\n  if (!events) {\n    return {};\n  }\n\n  Object.entries(events).forEach((keyValue: any) => {\n    const eventsItems: CalendarEvent[] = keyValue[1];\n\n    eventsItems.forEach((item: CalendarEvent) => {\n      const dateKey: any = parseToDateTime(\n        item.startAt,\n        item.timezoneStartAt || timezone\n      ).toFormat('dd-MM-yyyy');\n\n      if (result[dateKey]) {\n        result[dateKey] = [\n          ...result[dateKey],\n          ...[parseAllDayEvent(item, timezone)],\n        ];\n      } else {\n        result[dateKey] = [parseAllDayEvent(item, timezone)];\n      }\n    });\n  });\n\n  return result;\n};\n","import { useEffect, useState } from 'react';\n\nexport const getWidth = () => {\n  const rootEl: any = document.querySelector('.Kalend__Calendar__root');\n  if (rootEl) {\n    return rootEl.clientWidth;\n  }\n\n  return 0;\n};\n\nexport const useWidth = () => {\n  const [width, setWidth] = useState(getWidth());\n\n  // Get width on init\n  useEffect(() => {\n    const listenToResizeEvent = () => {\n      setWidth(getWidth());\n    };\n\n    window.addEventListener('resize', listenToResizeEvent);\n\n    return () => {\n      window.removeEventListener('resize', listenToResizeEvent);\n    };\n  }, []);\n\n  return width;\n};\n\nexport const getHeight = () => {\n  const rootEl: any = document.querySelector('.Kalend__Calendar__table');\n  if (rootEl) {\n    return rootEl.clientHeight;\n  }\n\n  return 0;\n};\n\n/**\n * Get height on resize\n */\nexport const useHeight = () => {\n  const [height, setHeight] = useState(getHeight());\n\n  // Get height on init\n  useEffect(() => {\n    getHeight();\n  }, []);\n\n  useEffect(() => {\n    const listenToResizeEvent = () => {\n      setHeight(getHeight());\n    };\n\n    window.addEventListener('resize', listenToResizeEvent);\n\n    return () => {\n      window.removeEventListener('resize', listenToResizeEvent);\n    };\n  }, []);\n\n  return height;\n};\n","import { AgendaViewProps } from './AgendaView.props';\nimport { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENTS_DAY_FORMAT } from '../../utils/luxonHelper';\nimport { useContext } from 'react';\nimport AgendaDayRow from './agendaDayRow/AgendaDayRow';\n\nconst renderAgendaEvents = (events: any, calendarDays: DateTime[]) => {\n  return calendarDays.map((calendarDay: DateTime) => {\n    const hasEvents = !!events[calendarDay.toFormat(EVENTS_DAY_FORMAT)];\n    if (hasEvents) {\n      return (\n        <AgendaDayRow\n          key={calendarDay.toString()}\n          day={calendarDay}\n          events={events[calendarDay.toFormat(EVENTS_DAY_FORMAT)]}\n        />\n      );\n    }\n  });\n};\n\nconst AgendaView = (props: AgendaViewProps) => {\n  const { events } = props;\n  const [store] = useContext(Context);\n\n  const { calendarDays, height } = store;\n\n  const agendaEvents: any = renderAgendaEvents(events, calendarDays);\n\n  return (\n    <div className={'Kalend__Agenda__container'} style={{ height }}>\n      {agendaEvents}\n    </div>\n  );\n};\n\nexport default AgendaView;\n","import { AgendaDayRowProps } from './AgendaDayRow.props';\nimport { CalendarEvent } from '../../../common/interface';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { ReactNode } from 'react';\nimport DateWeekDay from '../../dateWeekDay/DateWeekDay';\nimport DayOfWeekText from '../../dayOfWeekText/DayOfWeekText';\nimport EventButton from '../../eventButton/EventButton';\n\nconst renderEvents = (events: CalendarEvent[]) => {\n  if (!events || events.length === 0) {\n    return [];\n  }\n\n  const sortedEvents: CalendarEvent[] = events?.sort((a, b) => {\n    return (\n      DateTime.fromISO(a.startAt).toMillis() -\n      DateTime.fromISO(b.startAt).toMillis()\n    );\n  });\n\n  return sortedEvents.map((event) => {\n    return (\n      <EventButton key={event.id} event={event} type={EVENT_TYPE.AGENDA} />\n    );\n  });\n};\n\nconst AgendaDayRow = (props: AgendaDayRowProps) => {\n  const { day, events } = props;\n\n  const dayEvents: ReactNode = renderEvents(events);\n\n  return (\n    <div className={'Kalend__AgendaDayRow__container'}>\n      <div className={'Kalend__AgendaDayRow__container-day'}>\n        <DayOfWeekText day={day} width={50} />\n        <DateWeekDay width={50} day={day} />\n      </div>\n      <div className={'Kalend__AgendaDayRow__events'}>{dayEvents}</div>\n    </div>\n  );\n};\n\nexport default AgendaDayRow;\n","import { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { DateWeekDayProps } from './DateWeekDay.props';\nimport { useContext } from 'react';\nimport LuxonHelper from '../../utils/luxonHelper';\n\nconst DateWeekDay = (props: DateWeekDayProps) => {\n  const { width, day } = props;\n\n  const [store] = useContext(Context);\n  const { isDark, selectedView } = store;\n\n  const isDayToday: boolean = LuxonHelper.isToday(day);\n\n  const isMonthView: boolean = selectedView === CALENDAR_VIEW.MONTH;\n\n  return (\n    <div className={'Kalend__CalendarHeaderDates__col'} style={{ width }}>\n      <div\n        className={`Kalend__CalendarHeaderDates__circle${\n          isMonthView ? '-small' : ''\n        }${isDayToday ? '-today' : ''}${isDark ? '-dark' : ''}`}\n      >\n        <p\n          className={`Kalend__text Kalend__CalendarHeaderDates__text${\n            isDayToday ? '-today' : ''\n          }${isDark ? '-dark' : ''} ${\n            selectedView === CALENDAR_VIEW.MONTH\n              ? 'Kalend__CalendarHeaderDates__text-size-small'\n              : ''\n          }`}\n        >\n          {day.day}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default DateWeekDay;\n","import { DayOfWeekTextProps } from './DayOfWeekText.props';\nimport { useTranslation } from 'react-i18next';\n\nconst DayOfWeekText = (props: DayOfWeekTextProps) => {\n  const { width, day } = props;\n  const { t } = useTranslation();\n\n  return (\n    <div className={'Kalend__CalendarHeaderWeekDays__col'} style={{ width }}>\n      <p className={'Kalend__text Kalend__CalendarHeaderWeekDays__text'}>\n        {t(`weekDays:${day.toFormat('EEE')}`)}\n      </p>\n    </div>\n  );\n};\n\nexport default DayOfWeekText;\n","import { useContext, useEffect, useReducer, useRef } from 'react';\n\nimport {\n  CalendarEvent,\n  Config,\n  EventLayout,\n  EventStyle,\n} from '../../common/interface';\nimport { Context, Store } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport {\n  EVENT_MIN_HEIGHT,\n  EVENT_TABLE_DELIMITER_SPACE,\n} from '../../common/constants';\nimport { EVENT_TYPE } from '../../common/enums';\nimport { EventButtonProps } from './EventButton.props';\nimport { calculateHeaderAfterDrag, onMoveHeader } from './utils/draggingHeader';\nimport {\n  calculateMonthEventAfterDrag,\n  onMoveMonthEvent,\n} from './utils/draggingMonth';\nimport {\n  calculateNewTimeWeekDay,\n  onMoveNormalEvent,\n} from './utils/draggingWeek';\nimport {\n  disableTouchDragging,\n  eventButtonInitialState,\n  initEventButtonPosition,\n} from './EventButton.utils';\nimport { formatDateTimeToString } from '../../utils/common';\nimport { onFinishDraggingInternal } from './utils/draggingGeneral';\nimport { parseEventColor } from '../../utils/calendarDays';\nimport { useHeight } from '../../utils/layout';\nimport ButtonBase from '../buttonBase/ButtonBase';\nimport EventAgenda from './eventAgenda/EventAgenda';\nimport EventMonth from './eventMonth/EventMonth';\nimport EventNormal from './eventNormal/EventNormal';\nimport EventShowMoreMonth from './eventShowMoreMonth/EventShowMoreMonth';\nimport stateReducer from '../../utils/stateReducer';\n\n// ref to cancel timout\nlet timeoutRef: any;\n\nconst EventButton = (props: EventButtonProps) => {\n  const { event, type, day = DateTime.now(), index } = props;\n  const { startAt } = event;\n\n  const [state, dispatchState]: any = useReducer(\n    stateReducer,\n    eventButtonInitialState\n  );\n  const setState = (stateName: string, data: any): void => {\n    const payload: any = { stateName, data };\n    dispatchState({ state, payload });\n  };\n\n  // store values as refs to access them in event listener\n  const offsetTopRef = useRef(state.offsetTop);\n  const offsetLeftRef = useRef(state.offsetLeft);\n  const xShiftIndexRef = useRef(0);\n  const yShiftIndexRef = useRef(0);\n  const draggingRef = useRef(false);\n  const eventWasChangedRef = useRef(false);\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { width, calendarDays, config, daysViewLayout, callbacks } =\n    store as Store;\n\n  const heightHook: number = useHeight();\n\n  const { hourHeight, isDark } = config as Config;\n  const { onEventClick, onEventDragFinish } = callbacks;\n\n  const columnWidth: number =\n    width / (type === EVENT_TYPE.MONTH ? 7 : calendarDays.length);\n  const eventColor: string = parseEventColor(event.color as string, isDark);\n\n  const isLoaded: boolean = state.width !== 0 && state.height > 0;\n  const style: EventStyle = {\n    position:\n      type === EVENT_TYPE.AGENDA || type === EVENT_TYPE.SHOW_MORE_MONTH\n        ? 'relative'\n        : 'absolute',\n    height: state.height || EVENT_MIN_HEIGHT,\n    width: state.width,\n    top: state.offsetTop,\n    left: state.offsetLeft,\n    zIndex: state.zIndex,\n    border: state.zIndex > 2 ? `solid 1px white` : `solid 1px ${eventColor}`,\n    backgroundColor: eventColor,\n    visibility: isLoaded ? 'visible' : 'hidden',\n    // alignItems: meta?.centerText ? 'center' : 'inherit',\n  };\n\n  const handleEventClick = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    if (draggingRef.current) {\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      draggingRef.current = false;\n      return;\n    }\n\n    if (onEventClick) {\n      onEventClick(event);\n    }\n  };\n\n  const setLayout = (layout: EventLayout) => {\n    setState('initialTop', layout.offsetTop);\n    setState('initialLeft', layout.offsetLeft);\n    setState('offsetTop', layout.offsetTop);\n    setState('offsetLeft', layout.offsetLeft);\n    setState('drawingY', layout.offsetTop);\n    setState('startAt', startAt);\n    setState('width', layout.width);\n    setState('height', layout.height);\n    setState('zIndex', layout.zIndex);\n    setState('border', layout.border);\n    setState('meta', layout.meta);\n  };\n\n  useEffect(() => {\n    initEventButtonPosition(type, props.day, event, store, setLayout, index);\n  }, []);\n\n  useEffect(() => {\n    initEventButtonPosition(type, props.day, event, store, setLayout, index);\n  }, [\n    // @ts-ignore\n    daysViewLayout?.[formatDateTimeToString(props.day || DateTime.now())]?.[\n      event.id\n    ],\n  ]);\n\n  useEffect(() => {\n    initEventButtonPosition(type, props.day, event, store, setLayout, index);\n  }, [store.layoutUpdateSequence]);\n\n  const initMove = () => {\n    if (type === EVENT_TYPE.AGENDA) {\n      return;\n    }\n\n    if (!draggingRef.current) {\n      draggingRef.current = true;\n    }\n\n    if (type === EVENT_TYPE.NORMAL) {\n      setState('offsetLeft', 0);\n      setState('width', columnWidth - EVENT_TABLE_DELIMITER_SPACE);\n    }\n  };\n\n  const onMove = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disableTouchDragging(e)) {\n      return;\n    }\n    switch (type) {\n      case EVENT_TYPE.NORMAL:\n        onMoveNormalEvent(\n          e,\n          draggingRef,\n          day,\n          columnWidth,\n          width,\n          eventWasChangedRef,\n          xShiftIndexRef,\n          offsetLeftRef,\n          offsetTopRef,\n          setState\n        );\n        break;\n      case EVENT_TYPE.HEADER:\n        onMoveHeader(\n          e,\n          columnWidth,\n          width,\n          xShiftIndexRef,\n          offsetLeftRef,\n          eventWasChangedRef,\n          setState\n        );\n        break;\n      case EVENT_TYPE.MONTH:\n        onMoveMonthEvent(\n          e,\n          heightHook,\n          draggingRef,\n          day,\n          columnWidth,\n          width,\n          xShiftIndexRef,\n          yShiftIndexRef,\n          eventWasChangedRef,\n          offsetLeftRef,\n          offsetTopRef,\n          setState,\n          index || 0\n        );\n        break;\n      default:\n        return;\n    }\n  };\n\n  /**\n   * Cancel dragging event\n   * remove listeners clean long click timeout and reset state\n   * @param e\n   */\n  const onMouseUp = (e: any) => {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUp, true);\n    document.removeEventListener('mousemove', onMove, true);\n\n    // clear timeout\n    clearTimeout(timeoutRef);\n\n    if (!eventWasChangedRef.current) {\n      setState('offsetLeft', state.offsetLeft);\n      setState('width', state.width);\n      setState('isDragging', false);\n      draggingRef.current = false;\n\n      return;\n    }\n\n    eventWasChangedRef.current = false;\n\n    if (!draggingRef.current) {\n      return;\n    }\n\n    setTimeout(() => {\n      draggingRef.current = false;\n      setState('isDragging', false);\n    }, 100);\n\n    // add data to callback\n    if (onEventDragFinish) {\n      let newEvent: CalendarEvent | null = null;\n      if (type === EVENT_TYPE.NORMAL) {\n        newEvent = calculateNewTimeWeekDay(\n          offsetTopRef.current,\n          offsetLeftRef.current,\n          xShiftIndexRef,\n          event,\n          hourHeight\n        );\n      } else if (type === EVENT_TYPE.HEADER) {\n        newEvent = calculateHeaderAfterDrag(\n          calendarDays,\n          event,\n          xShiftIndexRef\n        );\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      } else if (type === EVENT_TYPE.MONTH) {\n        newEvent = calculateMonthEventAfterDrag(\n          calendarDays,\n          yShiftIndexRef,\n          xShiftIndexRef,\n          event\n        );\n      }\n\n      if (newEvent) {\n        onFinishDraggingInternal(\n          event,\n          newEvent,\n          store,\n          setContext,\n          type,\n          onEventDragFinish\n        );\n      }\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  /**\n   * Start event dragging on long press/touch\n   * Set listeners\n   * @param e\n   */\n  const onMouseDownLong = (e: any) => {\n    if (disableTouchDragging(e)) {\n      return;\n    }\n    setState('isDragging', true);\n    draggingRef.current = true;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp, true);\n\n    // set temp state while dragging\n    initMove();\n  };\n\n  /**\n   * Initial long press click/touch on event\n   * @param e\n   */\n  const onMouseDown = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // add timeout to differentiate from normal clicks\n    timeoutRef = setTimeout(() => {\n      onMouseDownLong(e);\n    }, 120);\n  };\n\n  return (\n    <ButtonBase\n      id={event.id}\n      isDark={isDark}\n      style={style}\n      className={`Kalend__Event-${type} ${\n        state.isDragging ? 'Kalend__EventButton__elevation' : ''\n      } ${store.layoutUpdateSequence === 1 ? 'Kalend__Event__animate' : ''}`}\n      onClick={handleEventClick}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      onTouchStart={onMouseDown}\n      onTouchMove={onMove}\n      onTouchEnd={onMouseUp}\n    >\n      {type === EVENT_TYPE.MONTH || type === EVENT_TYPE.HEADER ? (\n        <EventMonth event={event} isDark={isDark} type={type} />\n      ) : null}\n      {type === EVENT_TYPE.NORMAL ? (\n        <EventNormal\n          event={event}\n          isDark={isDark}\n          type={type}\n          meta={state.meta}\n        />\n      ) : null}\n      {type === EVENT_TYPE.AGENDA ? (\n        <EventAgenda event={event} isDark={isDark} type={type} />\n      ) : null}\n      {type === EVENT_TYPE.SHOW_MORE_MONTH ? (\n        <EventShowMoreMonth event={event} isDark={isDark} type={type} />\n      ) : null}\n    </ButtonBase>\n  );\n};\n\nexport default EventButton;\n","import { CALENDAR_OFFSET_LEFT } from '../../../common/constants';\nimport { CalendarEvent } from '../../../common/interface';\nimport { DateTime } from 'luxon';\n\nexport const calculateHeaderAfterDrag = (\n  calendarDays: DateTime[],\n  event: CalendarEvent,\n  xShiftIndexRef: any\n): CalendarEvent => {\n  const originalStartAtDateTime = DateTime.fromISO(event.startAt);\n  const originalEndAtDateTime = DateTime.fromISO(event.endAt);\n\n  const newDay: DateTime = calendarDays.map(\n    (calendarDay: DateTime) => calendarDay\n  )[xShiftIndexRef.current];\n\n  const diffInMinutes: number | undefined = originalEndAtDateTime\n    .diff(originalStartAtDateTime, 'minutes')\n    .toObject().minutes;\n\n  const newStartAt: DateTime = originalStartAtDateTime.set({\n    year: newDay.year,\n    day: newDay.day,\n    month: newDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute,\n  });\n\n  // set correct endAt\n  const newEndAt: DateTime = newStartAt.plus({ minutes: diffInMinutes });\n\n  return {\n    ...event,\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString(),\n  };\n};\n\nexport const onMoveHeader = (\n  e: any,\n  columnWidth: number,\n  width: number,\n  xShiftIndexRef: any,\n  offsetLeftRef: any,\n  eventWasChangedRef: any,\n  setState: any\n) => {\n  const tableElement: any = document.querySelector('.Kalend__Calendar__table');\n  const tableElementRect = tableElement.getBoundingClientRect();\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let x: number;\n\n  // handle touch movement\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x;\n  }\n\n  // prevent free dragging across columns with simple recalculation for\n  const columnShift = Math.floor(x / columnWidth);\n\n  const xTable = e.clientX - tableElementRect.x - CALENDAR_OFFSET_LEFT;\n\n  const columnShiftTable = Math.round(xTable / columnWidth);\n\n  if (\n    columnShiftTable * columnWidth + CALENDAR_OFFSET_LEFT >= width ||\n    xTable < 0\n  ) {\n    return;\n  }\n\n  // prevent event overflowing on last day\n  // TODO reset back after moving left again\n  // if (columnShift === calendarDays.length) {\n  //   setState('width', columnWidth)\n  // }\n\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth + CALENDAR_OFFSET_LEFT);\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n};\n","import { CalendarEvent } from '../../../common/interface';\nimport { DateTime } from 'luxon';\n\nexport const calculateMonthEventAfterDrag = (\n  calendarDays: DateTime[],\n  yShiftIndexRef: any,\n  xShiftIndexRef: any,\n  event: CalendarEvent\n): CalendarEvent => {\n  // get new date from x, y coordinates\n\n  // split calendarDays by rows\n  const rowCalendarDays: DateTime[][] = [];\n\n  let tempArray: DateTime[] = [];\n\n  calendarDays.forEach((calendarDay: DateTime) => {\n    if (\n      tempArray.length === 7 ||\n      (rowCalendarDays.length === 5 && tempArray.length === 6)\n    ) {\n      tempArray.push(calendarDay);\n      rowCalendarDays.push(tempArray);\n      tempArray = [];\n    }\n\n    tempArray.push(calendarDay);\n  });\n\n  // get correct row by y coordinate\n  const matchingRow: DateTime[] = rowCalendarDays[yShiftIndexRef.current];\n\n  // get day by x coordinate\n  const matchingDay: DateTime = matchingRow[xShiftIndexRef.current];\n\n  const originalStartAtDateTime = DateTime.fromISO(event.startAt);\n  const originalEndAtDateTime = DateTime.fromISO(event.endAt);\n\n  const diffInMinutes: number | undefined = originalEndAtDateTime\n    .diff(originalStartAtDateTime, 'minutes')\n    .toObject().minutes;\n\n  const newStartAt: DateTime = originalStartAtDateTime.set({\n    year: matchingDay.year,\n    day: matchingDay.day,\n    month: matchingDay.month,\n    hour: originalStartAtDateTime.hour,\n    minute: originalStartAtDateTime.minute,\n  });\n\n  // set correct endAt\n  const newEndAt: DateTime = newStartAt.plus({ minutes: diffInMinutes });\n\n  return {\n    ...event,\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString(),\n  };\n};\n\nexport const onMoveMonthEvent = (\n  e: any,\n  height: number,\n  draggingRef: any,\n  day: DateTime,\n  columnWidth: number,\n  width: number,\n  xShiftIndexRef: any,\n  yShiftIndexRef: any,\n  eventWasChangedRef: any,\n  offsetLeftRef: any,\n  offsetTopRef: any,\n  setState: any,\n  index: number\n) => {\n  const columnHeight: number = height / 6;\n  if (!draggingRef.current) {\n    return;\n  }\n\n  if (!day) {\n    return;\n  }\n\n  const tableElement: any = document.querySelector('.Kalend__Calendar__table');\n  const tableElementRect = tableElement.getBoundingClientRect();\n\n  const xTable = e.clientX - tableElementRect.x;\n  const yTable = e.clientY - tableElementRect.y;\n\n  // Get column element for day, where event is placed\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let x: number;\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    x = touches.clientX - tableElementRect.x;\n    y = touches.clientY - tableElementRect.y;\n  } else {\n    // calculate x coordinates while following mouse move\n    x = e.clientX - tableElementRect.x;\n    y = e.clientY - tableElementRect.y;\n  }\n\n  const yReal = yTable - index * columnHeight;\n\n  // prevent free dragging across columns with simple recalculation for\n  const columnShiftX = Math.floor(x / columnWidth);\n  const columnShiftY = Math.floor(yReal / columnHeight);\n\n  const columnShiftXParsed = parseInt((xTable / columnWidth).toString());\n  const columnShiftYParsed = parseInt((yTable / columnHeight).toString());\n\n  const columnShiftTableX = Math.round(xTable / columnWidth);\n\n  if (\n    columnShiftTableX * columnWidth >= width ||\n    xTable < 0 ||\n    columnShiftY * columnHeight >= height ||\n    yTable < 0 ||\n    y >= height\n  ) {\n    return;\n  }\n\n  xShiftIndexRef.current = columnShiftXParsed;\n  yShiftIndexRef.current = columnShiftYParsed;\n\n  setState('offsetLeft', columnShiftX * columnWidth);\n  setState('offsetTop', columnShiftY * columnHeight);\n  eventWasChangedRef.current = true;\n  offsetLeftRef.current = x;\n  offsetTopRef.current = y;\n};\n","import {\n  CALENDAR_OFFSET_LEFT,\n  EVENT_MIN_HEIGHT,\n} from '../../../common/constants';\nimport { CalendarEvent } from '../../../common/interface';\nimport { DateTime } from 'luxon';\n\nexport const calculateNewTimeWeekDay = (\n  offsetTopValue: number,\n  offsetLeftValue: number,\n  xShiftIndexRef: any,\n  event: CalendarEvent,\n  hourHeight: number\n): CalendarEvent => {\n  const originalStartAtDateTime = DateTime.fromISO(event.startAt);\n  const originalEndAtDateTime = DateTime.fromISO(event.endAt);\n\n  let goingForward = false;\n  if (offsetLeftValue >= 0) {\n    goingForward = true;\n  } else {\n    goingForward = false;\n  }\n\n  let newDay: DateTime;\n\n  if (goingForward) {\n    newDay = originalStartAtDateTime.plus({ days: xShiftIndexRef.current });\n  } else {\n    newDay = originalStartAtDateTime.minus({\n      days: Math.abs(xShiftIndexRef.current),\n    });\n  }\n\n  const diffInMinutes: number | undefined = originalEndAtDateTime\n    .diff(originalStartAtDateTime, 'minutes')\n    .toObject().minutes;\n  const minutesOffset: number = (offsetTopValue / hourHeight) * 60;\n\n  // add minutes calculated from new offset top\n  const newStartAt: DateTime = originalStartAtDateTime\n    .set({\n      year: newDay.year,\n      day: newDay.day,\n      month: newDay.month,\n      hour: 0,\n      minute: 0,\n    })\n    .plus({ minutes: minutesOffset });\n\n  // set correct endAt\n  const newEndAt: DateTime = newStartAt.plus({ minutes: diffInMinutes });\n\n  return {\n    ...event,\n    startAt: newStartAt.toUTC().toString(),\n    endAt: newEndAt.toUTC().toString(),\n  };\n};\n\nexport const onMoveNormalEvent = (\n  e: any,\n  draggingRef: any,\n  day: DateTime,\n  columnWidth: number,\n  width: number,\n  eventWasChangedRef: any,\n  xShiftIndexRef: any,\n  offsetLeftRef: any,\n  offsetTopRef: any,\n  setState: any\n) => {\n  if (!draggingRef.current) {\n    return;\n  }\n\n  if (!day) {\n    return;\n  }\n\n  const tableElement: any = document.querySelector('.Kalend__Calendar__table');\n  const tableElementRect = tableElement.getBoundingClientRect();\n\n  // Get column element for day, where event is placed\n  const dayElement: any = document.getElementById(\n    `Kalend__day__${day.toString()}`\n  );\n  if (!dayElement) {\n    return;\n  }\n  const dayElementRect = dayElement.getBoundingClientRect();\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let x: number;\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    x = touches.clientX - dayElementRect.x;\n    y = touches.clientY - dayElementRect.top;\n  } else {\n    // handle mouse movement\n    // calculate x and y coordinates while following mouse move\n    x = e.clientX - dayElementRect.x;\n    y = e.clientY - dayElementRect.top;\n  }\n\n  // prevent free dragging across columns with simple recalculation for\n  const columnShift = Math.floor(x / columnWidth);\n\n  const xTable = e.clientX - tableElementRect.x;\n\n  const columnShiftTable = Math.round(xTable / columnWidth);\n\n  // restrict draggable space for timetable\n  if (y < 0) {\n    return;\n  }\n\n  eventWasChangedRef.current = true;\n  setState('offsetTop', y - EVENT_MIN_HEIGHT);\n  offsetTopRef.current = y - EVENT_MIN_HEIGHT;\n\n  // prevent overflowing on x-axis\n  if (\n    columnShiftTable * columnWidth >= width ||\n    xTable - CALENDAR_OFFSET_LEFT < 0\n  ) {\n    return;\n  }\n\n  xShiftIndexRef.current = columnShift;\n  setState('offsetLeft', columnShift * columnWidth);\n  offsetLeftRef.current = x;\n};\n","import { CalendarEvent, EventLayout } from '../../common/interface';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../common/enums';\nimport { MONTH_EVENT_HEIGHT } from '../../common/constants';\nimport { formatDateTimeToString } from '../../utils/common';\n\nexport const createTempMonthEventsLayout = (): EventLayout => {\n  return {\n    offsetLeft: 0,\n    offsetTop: 0,\n    width: '90%',\n    height: MONTH_EVENT_HEIGHT,\n    zIndex: 1,\n    border: 'none',\n    meta: {\n      showTime: false,\n      isFullWidth: true,\n      centerText: true,\n    },\n  };\n};\n\nexport interface EventButtonInitialState {\n  dragging: boolean;\n  initialTop: number;\n  initialLeft: number;\n  offsetTop: number;\n  offsetLeft: number;\n  xPosition: number;\n  eventHasChanged: boolean;\n  width: number;\n  height: number;\n  zIndex: number;\n  border: string;\n  meta: any;\n  isDragging: boolean;\n}\n\nexport const eventButtonInitialState: EventButtonInitialState = {\n  dragging: false,\n  initialTop: 0,\n  initialLeft: 0,\n  offsetTop: 0,\n  offsetLeft: 0,\n  xPosition: 0,\n  eventHasChanged: false,\n  width: 0,\n  height: 0,\n  zIndex: 2,\n  border: '',\n  meta: {},\n  isDragging: false,\n};\n\nexport const initEventButtonPosition = (\n  type: EVENT_TYPE,\n  day: DateTime | undefined,\n  event: CalendarEvent,\n  store: any,\n  setLayout: any,\n  index?: number\n) => {\n  const { daysViewLayout, headerLayout, monthLayout } = store;\n\n  if (type === EVENT_TYPE.NORMAL && day) {\n    const formattedDayString: string = formatDateTimeToString(day);\n    const eventLayoutValue: any =\n      daysViewLayout[formattedDayString]?.[event.id];\n    if (eventLayoutValue) {\n      setLayout(eventLayoutValue);\n    }\n  } else if (type === EVENT_TYPE.HEADER) {\n    if (store.headerLayout) {\n      const headerLayoutValue: any = headerLayout[event.id];\n      if (headerLayoutValue) {\n        setLayout(headerLayoutValue);\n      }\n    }\n  } else if (type === EVENT_TYPE.MONTH) {\n    if (store.monthLayout && index !== undefined) {\n      const monthLayoutValue: any = monthLayout?.[index]?.[event.id];\n\n      if (monthLayoutValue) {\n        setLayout(monthLayoutValue);\n      }\n    }\n  } else {\n    setLayout(createTempMonthEventsLayout());\n  }\n};\n\nexport const disableTouchDragging = (e: any): boolean => {\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  return !!touches;\n};\n","import { CalendarEvent, OnEventDragFinish } from '../../../index';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { calculateDaysViewLayout } from '../../../utils/eventLayout';\nimport { calculatePositionForHeaderEvents } from '../../calendarHeader/calendarHeaderEvents/CalendarHeaderEvents.utils';\nimport { parseAllDayEvents } from '../../../utils/allDayEvents';\n\nexport const onFinishDraggingInternal = (\n  prevEvent: CalendarEvent,\n  eventToUpdate: any,\n  store: any,\n  setContext: any,\n  type: EVENT_TYPE,\n  onEventDragFinish: OnEventDragFinish\n) => {\n  const { events, calendarDays, timezone, width, config, selectedView } = store;\n\n  let result: any = {};\n  Object.entries(events).forEach((keyValue: any) => {\n    const [date, events] = keyValue;\n\n    events?.forEach((item: any) => {\n      if (item.id === eventToUpdate.id) {\n        const key: any = DateTime.fromISO(eventToUpdate.startAt).toFormat(\n          'dd-MM-yyyy'\n        );\n        if (result[key]) {\n          result[key] = [...result[key], ...[eventToUpdate]];\n        } else {\n          result[key] = [eventToUpdate];\n        }\n      } else {\n        if (result[date]) {\n          result[date] = [...result[date], ...[item]];\n        } else {\n          result[date] = [item];\n        }\n      }\n    });\n  });\n\n  result = parseAllDayEvents(result, timezone);\n\n  setContext('events', result);\n\n  if (type === EVENT_TYPE.NORMAL) {\n    const positions: any = calculateDaysViewLayout(\n      calendarDays,\n      result,\n      width,\n      config,\n      selectedView\n    );\n    setContext('daysViewLayout', positions);\n  }\n\n  if (type === EVENT_TYPE.HEADER) {\n    const headerPositions: any = calculatePositionForHeaderEvents(\n      result,\n      width / calendarDays.length,\n      calendarDays,\n      timezone,\n      setContext\n    );\n\n    setContext('headerLayout', headerPositions);\n  }\n\n  setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n  // return updated data with callback\n  if (onEventDragFinish) {\n    onEventDragFinish(prevEvent, eventToUpdate, result);\n  }\n};\n","import {\n  CALENDAR_OFFSET_LEFT,\n  EVENT_TABLE_DELIMITER_SPACE,\n} from '../../../common/constants';\nimport { CalendarEvent, NormalEventPosition } from '../../../common/interface';\nimport { DateTime } from 'luxon';\nimport {\n  checkOverlappingDatesForHeaderEvents,\n  checkOverlappingEvents,\n  isEventInRange,\n} from '../../../utils/eventLayout';\nimport { isAllDayEvent } from '../../../utils/common';\nimport { parseToDateTime } from '../../../utils/dateTimeParser';\n\n// adjust start and end date for header event to full day for correct layout\n// calculations\nexport const stretchHeaderEventTimes = (\n  event: CalendarEvent,\n  timezone: string\n): CalendarEvent => {\n  return {\n    ...event,\n    startAt: parseToDateTime(event.startAt, event.timezoneStartAt || timezone)\n      .set({ hour: 0, minute: 0, second: 1 })\n      .toString(),\n    endAt: parseToDateTime(event.endAt, event.timezoneStartAt || timezone)\n      .set({ hour: 23, minute: 59, second: 59 })\n      .toString(),\n  };\n};\n\n// TODO remove if working without correction\n// /**\n//  * Find first matching calendarDay for allDay event\n//  * Solves problem when layout is wrongly calculated from start and end dates\n//  * which are outside of calendarDays range\n//  * @param event\n//  * @param calendarDays\n//  * @param timezone\n//  */\n// const parseToFirstMatchingCalendarDay = (\n//   event: CalendarEvent,\n//   calendarDays: DateTime[],\n//   timezone: string\n// ): CalendarEvent => {\n//   const eventClone: CalendarEvent = { ...event };\n//   const eventStartDateTime: DateTime = parseToDateTime(\n//     event.startAt,\n//     event.timezoneStartAt || timezone\n//   );\n//   let matchingStartDate: DateTime | undefined;\n//\n//   // find matching date\n//   calendarDays.forEach((calendarDay) => {\n//     if (!matchingStartDate) {\n//       if (LuxonHelper.isSameDay(calendarDay, eventStartDateTime)) {\n//         matchingStartDate = calendarDay;\n//       }\n//     }\n//   });\n//\n//   if (matchingStartDate) {\n//     // adjust date for calculations only\n//     eventClone.startAt = matchingStartDate\n//       .set({\n//         hour: eventStartDateTime.hour,\n//         minute: eventStartDateTime.minute,\n//       })\n//       .toUTC()\n//       .toString();\n//   }\n//\n//   return eventClone;\n// };\n\nexport const calculatePositionForHeaderEvents = (\n  events: any,\n  width: number,\n  calendarDays: DateTime[],\n  timezone: string,\n  setContext?: any\n): any => {\n  // TODO prefilter only relevant events\n  // TODO remove used events from main array\n  // const formattedDayString: string = formatTimestampToDate(day);\n  //\n  // const dataForDay: any = events ? events[formattedDayString] : [];\n  //\n  // const headerEvents: any = renderEvents(calendarBodyWidth, dataForDay);\n  //\n  // compare each event and find those which can be placed next to each\n  // other and are not overlapping\n  // form them to row\n\n  const tableSpace: number =\n    ((width + CALENDAR_OFFSET_LEFT) / 100) * EVENT_TABLE_DELIMITER_SPACE;\n  const result: any = [];\n  const usedEvents: string[] = [];\n\n  // filter only header events\n  const headerEventsFiltered: CalendarEvent[] = [];\n\n  if (!events) {\n    return [[]];\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Object.entries(events)?.map(([key, items]) => {\n    // @ts-ignore\n    items.forEach((item: CalendarEvent) => {\n      // filter only relevant events\n      if (item.allDay || isAllDayEvent(item)) {\n        const isInRange: boolean = isEventInRange(item, calendarDays, timezone);\n        if (isInRange) {\n          // correct position when external event ends in next day\n          headerEventsFiltered.push(item);\n        }\n      }\n    });\n  });\n\n  // find all matching events to fit in one row\n  headerEventsFiltered?.forEach((event) => {\n    const eventPositionResult: NormalEventPosition[] = [];\n    // check if event was used already\n    // skip iteration if event was already resolved\n    if (usedEvents.includes(event.id)) {\n      return true;\n    }\n\n    // set event to row\n    const rowWithNotOverlappingEvents: CalendarEvent[] = [event];\n    usedEvents.push(event.id);\n\n    // compare to rest of the events\n    headerEventsFiltered.forEach((eventToCompare) => {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) {\n        return true;\n      }\n\n      // don't compare to self // maybe remove?\n      if (event.id === eventToCompare.id) {\n        return true;\n      }\n\n      // check if events are not overlapping\n      const isOverlapping: boolean = checkOverlappingEvents(\n        stretchHeaderEventTimes(event, timezone),\n        stretchHeaderEventTimes(eventToCompare, timezone),\n        timezone\n      );\n\n      // found not overlapping matching event\n      if (!isOverlapping) {\n        let isMatchingAll = true;\n        // compare match with other stored events for same row\n        rowWithNotOverlappingEvents.forEach((itemFromRow) => {\n          const isOverlappingAll: boolean = checkOverlappingEvents(\n            stretchHeaderEventTimes(itemFromRow, timezone),\n            stretchHeaderEventTimes(eventToCompare, timezone),\n            timezone\n          );\n\n          // prevent merging if only one conflict exists\n          if (isOverlappingAll) {\n            isMatchingAll = false;\n          }\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    });\n\n    // now we have row with only not overlapping events\n    // sort events in row by start date\n    const sortedResult: CalendarEvent[] = rowWithNotOverlappingEvents.sort(\n      (a, b) =>\n        DateTime.fromISO(a.startAt).toMillis() -\n        DateTime.fromISO(b.startAt).toMillis()\n    );\n\n    // place events accordingly in row next to each other\n    sortedResult.forEach((item) => {\n      let offset = 0;\n      let eventWidth = 0;\n      let hasMatchingDay = false;\n\n      calendarDays.forEach((day) => {\n        if (checkOverlappingDatesForHeaderEvents(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        }\n\n        // increment offset only till we have matching day\n        if (!hasMatchingDay) {\n          offset += width;\n        }\n      });\n\n      // create event position data\n      const eventPositionData: NormalEventPosition = {\n        event: item,\n        width: Math.round(eventWidth - tableSpace),\n        offsetLeft: offset + CALENDAR_OFFSET_LEFT,\n        offsetTop: 0,\n        height: 20,\n        zIndex: 2,\n      };\n\n      eventPositionResult.push(eventPositionData);\n    });\n\n    // save row to result\n    result.push(eventPositionResult);\n  });\n\n  const formattedResult: any = {};\n\n  result.forEach((events: any, index: number) => {\n    events.forEach((item: any) => {\n      formattedResult[item.event.id] = { ...item, offsetTop: index * 26 };\n    });\n  });\n\n  if (setContext) {\n    setContext('headerEventRowsCount', result.length);\n  }\n\n  return formattedResult;\n};\n","import { ButtonBaseProps } from './ButtonBase.props';\nimport { useRef, useState } from 'react';\n\nlet timeout: any;\n\nconst ButtonBase = (props: ButtonBaseProps) => {\n  const {\n    id,\n    onClick,\n    text,\n    className,\n    style,\n    children,\n    propagation,\n    disabled,\n    onClickFromParent,\n    onMouseDown,\n    onMouseUp,\n    onMouseMove,\n    onTouchEnd,\n  } = props;\n\n  const buttonRef: any = useRef(null);\n\n  const [isPressed, setIsPressed] = useState(false);\n  const [spanStyle, setSpanStyle] = useState({});\n\n  const onButtonClick = (e: any) => {\n    onClick(e);\n\n    if (onClickFromParent) {\n      onClickFromParent();\n    }\n  };\n\n  const animateRipple = (event: any): void => {\n    const button: any = buttonRef.current;\n\n    if (!button) {\n      return;\n    }\n\n    const rect = button.getBoundingClientRect();\n\n    const oneSide: number =\n      button.clientWidth > button.clientHeight\n        ? button.clientWidth\n        : button.clientHeight;\n\n    const touches: any = event.touches ? event.touches[0] : undefined;\n\n    let clickLeft: number;\n    let clickTop: number;\n\n    if (touches) {\n      clickLeft = touches.clientX - rect.left - oneSide;\n      clickTop = touches.clientY - rect.top - oneSide;\n    } else {\n      clickLeft = event.clientX;\n      clickTop = event.clientY;\n    }\n\n    const style: any = {\n      width: `${oneSide * 2}px`,\n      height: `${oneSide * 2}px`,\n      left: `${clickLeft}px`,\n      top: `${clickTop}px`,\n    };\n\n    setSpanStyle(style);\n\n    setIsPressed(true);\n  };\n\n  const onTouchStart = (e: any): void => {\n    if (!propagation) {\n      e.stopPropagation();\n    }\n\n    if (props.onTouchStart) {\n      props.onTouchStart(e);\n    }\n    if (isPressed) {\n      setIsPressed(false);\n    }\n\n    timeout = setTimeout(() => {\n      animateRipple(e);\n    }, 100);\n  };\n\n  // Clear timeout for ripple effect\n  const onTouchMove = (e: any): void => {\n    if (!propagation) {\n      e.stopPropagation();\n    }\n\n    if (props.onTouchMove) {\n      props.onTouchMove(e);\n    }\n    clearTimeout(timeout);\n  };\n\n  const buttonText: string = text ? text : '';\n  const buttonClassName: string = className\n    ? `Kalend__button ${className} Kalend__ButtonBase`\n    : 'Kalend__button Kalend__ButtonBase';\n\n  return (\n    <button\n      id={id}\n      ref={buttonRef}\n      onClick={onButtonClick}\n      onTouchMove={onTouchMove}\n      onTouchStart={onTouchStart}\n      onTouchEnd={onTouchEnd}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      onMouseMove={onMouseMove}\n      // onTouchStart={handleTouchStart}\n      // onMouseLeave={handleTouchOff}\n      // onTouchEnd={handleTouchOff}\n      // onTouchEndCapture={handleTouchCancel}\n      className={buttonClassName}\n      style={style}\n    >\n      {children ? children : buttonText}\n      {isPressed && !disabled ? (\n        <span style={spanStyle} className={'Kalend__ButtonBase__animation'} />\n      ) : null}\n    </button>\n  );\n};\n\nexport default ButtonBase;\n","import { CalendarEvent } from '../../../common/interface';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport EventSummary from '../components/eventSummary/EventSummary';\nimport EventTime from '../components/eventTime/EventTime';\n\ninterface EventAgendaProps {\n  event: CalendarEvent;\n  isDark: boolean;\n  type: EVENT_TYPE;\n}\n\nconst EventAgenda = (props: EventAgendaProps) => {\n  const { isDark, event, type } = props;\n\n  return (\n    <div className={'Kalend__EventAgenda__container'}>\n      <EventSummary summary={event.summary} isDark={isDark} type={type} />\n      <EventTime isDark={isDark} event={event} type={type} />\n    </div>\n  );\n};\n\nexport default EventAgenda;\n","import { EVENT_TYPE } from '../../../../common/enums';\nimport { parseCssDark } from '../../../../utils/common';\n\ninterface EventSummaryProps {\n  isDark: boolean;\n  summary: string;\n  type: EVENT_TYPE;\n}\n\nconst EventSummary = (props: EventSummaryProps) => {\n  const { isDark, summary, type } = props;\n\n  return (\n    <p\n      className={`Kalend__text ${parseCssDark(\n        'Kalend__Event__summary',\n        isDark\n      )} Kalend__Event__summary__type-${type}`}\n    >\n      {summary}{' '}\n    </p>\n  );\n};\n\nexport default EventSummary;\n","import { useContext } from 'react';\n\nimport { CalendarEvent, Config } from '../../../../common/interface';\nimport { Context, Store } from '../../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE, TIME_FORMAT } from '../../../../common/enums';\nimport { parseCssDark } from '../../../../utils/common';\nimport { parseToDateTime } from '../../../../utils/dateTimeParser';\n\nconst TIME_FORMAT_PATTERN = 'HH:mm';\nconst TIME_H_12_FORMAT_PATTERN = 'hh:mm a';\n\nconst parseTimeFormat = (day: DateTime, timeFormat: TIME_FORMAT): string => {\n  if (timeFormat === TIME_FORMAT.H_24) {\n    return day.toFormat(TIME_FORMAT_PATTERN);\n  } else {\n    return day.toFormat(TIME_H_12_FORMAT_PATTERN);\n  }\n};\n\nconst formatEventTimeV2 = (\n  event: CalendarEvent,\n  timeFormat: TIME_FORMAT,\n  timezone?: string\n): { start: string; end: string } => {\n  const { startAt, endAt, timezoneStartAt } = event;\n\n  const startAtDateTime: DateTime = parseToDateTime(\n    startAt,\n    timezoneStartAt,\n    timezone\n  );\n  const endAtDateTime: DateTime = parseToDateTime(\n    endAt,\n    timezoneStartAt,\n    timezone\n  );\n\n  return {\n    start: parseTimeFormat(startAtDateTime, timeFormat),\n    end: parseTimeFormat(endAtDateTime, timeFormat),\n  };\n};\n\ninterface EventTimeProps {\n  isDark: boolean;\n  event: CalendarEvent;\n  type: EVENT_TYPE;\n}\n\nconst EventTime = (props: EventTimeProps) => {\n  const { isDark, event, type } = props;\n\n  const [store] = useContext(Context);\n  const { config } = store as Store;\n  const { timezone, timeFormat } = config as Config;\n\n  const timeV2: any = formatEventTimeV2(event, timeFormat, timezone);\n  // const time: string = formatEventTime(event);\n  return timeFormat === TIME_FORMAT.H_12 ? (\n    <p\n      className={`Kalend__text ${parseCssDark(\n        'Kalend__Event__time',\n        isDark\n      )} Kalend__Event__time__type-${type}`}\n    >\n      {timeV2.start}\n      <br />\n      {timeV2.end}\n    </p>\n  ) : (\n    <p\n      className={`Kalend__text ${parseCssDark(\n        'Kalend__Event__time',\n        isDark\n      )} Kalend__Event__time__type-${type}`}\n    >\n      {timeV2.start} - {timeV2.end}\n    </p>\n  );\n};\n\nexport default EventTime;\n","import { CalendarEvent } from '../../../common/interface';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport EventSummary from '../components/eventSummary/EventSummary';\n\ninterface EventMonthProps {\n  event: CalendarEvent;\n  isDark: boolean;\n  type: EVENT_TYPE;\n}\n\nconst EventMonth = (props: EventMonthProps) => {\n  const { isDark, event, type } = props;\n\n  return <EventSummary summary={event.summary} isDark={isDark} type={type} />;\n};\n\nexport default EventMonth;\n","import { CalendarEvent, EventLayoutMeta } from '../../../common/interface';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport EventSummary from '../components/eventSummary/EventSummary';\nimport EventTime from '../components/eventTime/EventTime';\n\ninterface EventNormalProps {\n  event: CalendarEvent;\n  isDark: boolean;\n  type: EVENT_TYPE;\n  meta?: EventLayoutMeta;\n}\n\nconst EventNormal = (props: EventNormalProps) => {\n  const { isDark, event, type, meta } = props;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        maxWidth: '-webkit-fill-available',\n      }}\n    >\n      <EventSummary summary={event.summary} isDark={isDark} type={type} />\n\n      {meta?.showTime ? (\n        <EventTime isDark={isDark} event={event} type={EVENT_TYPE.NORMAL} />\n      ) : null}\n    </div>\n  );\n};\n\nexport default EventNormal;\n","import { CalendarEvent } from '../../../common/interface';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport EventSummary from '../components/eventSummary/EventSummary';\nimport EventTime from '../components/eventTime/EventTime';\n\ninterface EventShowMoreMonthProps {\n  event: CalendarEvent;\n  isDark: boolean;\n  type: EVENT_TYPE;\n}\n\nconst EventShowMoreMonth = (props: EventShowMoreMonthProps) => {\n  const { isDark, event, type } = props;\n\n  return (\n    <div className={'Kalend__EventShowMoreMonth__container'}>\n      <EventSummary summary={event.summary} isDark={isDark} type={type} />\n      <EventTime isDark={isDark} event={event} type={type} />\n    </div>\n  );\n};\n\nexport default EventShowMoreMonth;\n","const StateReducer: any = (state: any, action: any): any => {\n  // Replace whole state\n  if (!action.payload) {\n    return { ...state, ...action };\n  }\n\n  const { stateName, type, data } = action.payload;\n\n  switch (type) {\n    default:\n      return {\n        ...state,\n        [stateName]: data,\n      };\n  }\n};\n\nexport default StateReducer;\n","import { CALENDAR_NAVIGATION_DIRECTION } from '../../common/enums';\nimport { CalendarDesktopNavigationProps } from './CalendarDesktopNavigation.props';\nimport { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { EvaIcons } from '../eva-icons';\nimport {\n  getNewCalendarDays,\n  navigateToToday,\n} from '../../utils/getCalendarDays';\nimport { parseClassName, parseCssDark } from '../../utils/common';\nimport { useContext, useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '../buttonBase/ButtonBase';\nimport ButtonIcon from '../buttonIcon/ButtonIcon';\nimport CalendarViewDropdown from '../calendarViewDropdown/CalendarViewDropdown';\nimport DesktopLayout from '../desktopLayout/DesktopLayout';\nimport HeaderCalendarButtons from '../headerCalendarButtons/HeaderCalendarButtons';\nimport HeaderCalendarTitle from '../headerCalendarTitle/HeaderCalendarTitle';\nimport MobileLayout from '../mobileLayout/MobileLayout';\n\n/**\n * Title with calendar navigation buttons for desktop layout\n * @param props\n * @constructor\n */\nconst CalendarDesktopNavigation = (props: CalendarDesktopNavigationProps) => {\n  const { t } = useTranslation();\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { config, calendarDays, selectedView, selectedDate, isMobile, width } =\n    store;\n  const { weekDayStart, isDark } = config;\n\n  const [isFullNavigationHidden, setIsFullNavigationHidden] = useState(true);\n\n  const titleDate = DateTime.fromISO(selectedDate);\n  const title = `${t(\n    `months:${titleDate.toFormat('MMMM').toLowerCase()}`\n  )} ${titleDate.toFormat('yyyy')}`;\n\n  const navigateBackwards = async (): Promise<void> =>\n    await getNewCalendarDays(\n      calendarDays,\n      selectedView,\n      CALENDAR_NAVIGATION_DIRECTION.BACKWARDS,\n      weekDayStart,\n      setContext\n    );\n  const navigateForward = async (): Promise<void> =>\n    await getNewCalendarDays(\n      calendarDays,\n      selectedView,\n      CALENDAR_NAVIGATION_DIRECTION.FORWARD,\n      weekDayStart,\n      setContext\n    );\n\n  const navigateToTodayDate = async (): Promise<void> => {\n    await navigateToToday(\n      selectedView,\n      setContext,\n      weekDayStart,\n      DateTime.now()\n    );\n  };\n\n  // handle showing  full desktop navigation panel or dropdown for\n  // different screen size\n  useEffect(() => {\n    const element: any = document.querySelector(\n      '.Kalend__CalendarDesktopNavigation__container'\n    );\n\n    if (element) {\n      if (element) {\n        if (element.getBoundingClientRect().width <= 950) {\n          setIsFullNavigationHidden(true);\n        } else {\n          setIsFullNavigationHidden(false);\n        }\n      }\n    }\n  }, [width]);\n\n  return (\n    <div\n      className={parseClassName(\n        'Kalend__CalendarDesktopNavigation__container',\n        isMobile,\n        isDark\n      )}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          width: isMobile ? '100%' : 'auto',\n        }}\n      >\n        <DesktopLayout>\n          <div className={'Kalend__CalendarDesktopNavigation__buttons'}>\n            <>\n              <ButtonBase\n                className={'Kalend__ButtonBase-border'}\n                isDark={isDark}\n                onClick={navigateToTodayDate}\n              >\n                {t('buttons:today')}\n              </ButtonBase>\n              <ButtonIcon\n                isDark={isDark}\n                key={'left'}\n                onClick={navigateBackwards}\n              >\n                <EvaIcons.ChevronLeft\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <ButtonIcon\n                isDark={isDark}\n                key={'right'}\n                onClick={navigateForward}\n              >\n                <EvaIcons.ChevronRight\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n            </>\n          </div>\n        </DesktopLayout>\n        <HeaderCalendarTitle title={title} />\n        <MobileLayout style={{ width: '100%' }}>\n          <div className={'Kalend__CalendarDesktopNavigation__buttons'}>\n            <>\n              <ButtonIcon\n                isDark={isDark}\n                key={'left'}\n                onClick={navigateBackwards}\n              >\n                <EvaIcons.ChevronLeft\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <ButtonIcon\n                isDark={isDark}\n                key={'right'}\n                onClick={navigateForward}\n              >\n                <EvaIcons.ChevronRight\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <ButtonIcon\n                isDark={isDark}\n                key={'calendar'}\n                onClick={navigateToTodayDate}\n              >\n                <EvaIcons.Calendar\n                  className={parseCssDark('Kalend__icon-svg', isDark)}\n                />\n              </ButtonIcon>\n              <CalendarViewDropdown\n                disabledViews={props.disabledViews}\n                setViewChanged={props.setViewChanged}\n                disableMobileDropdown={props.disableMobileDropdown}\n              />\n            </>\n          </div>\n        </MobileLayout>\n      </div>\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          marginRight: 12,\n          justifyContent: 'flex-end',\n          flex: 'auto',\n        }}\n      >\n        <DesktopLayout>\n          {isFullNavigationHidden ? (\n            <CalendarViewDropdown\n              disabledViews={props.disabledViews}\n              setViewChanged={props.setViewChanged}\n              disableMobileDropdown={props.disableMobileDropdown}\n            />\n          ) : (\n            <HeaderCalendarButtons\n              disabledViews={props.disabledViews}\n              setViewChanged={props.setViewChanged}\n            />\n          )}\n        </DesktopLayout>\n      </div>\n    </div>\n  );\n};\n\nexport default CalendarDesktopNavigation;\n","// The MIT License (MIT)\n//\n// Copyright (c) 2018 Akveo.\n//\n//     Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n//     The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n//     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n//     FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n//     OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n\nimport Calendar from './CalendarIcon';\nimport ChevronDown from './ChevronDown';\nimport ChevronLeft from './ChevronLeft';\nimport ChevronRight from './ChevronRight';\nimport More from './more';\n\nexport const EvaIcons = {\n  ChevronDown,\n  ChevronLeft,\n  ChevronRight,\n  Calendar,\n  More,\n};\n","const CalendarIcon = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n    fill={props.fill}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"calendar\">\n        <rect width=\"24\" height=\"24\" opacity=\"0\" />\n        <path d=\"M18 4h-1V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zM6 6h1v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h1a1 1 0 0 1 1 1v4H5V7a1 1 0 0 1 1-1zm12 14H6a1 1 0 0 1-1-1v-6h14v6a1 1 0 0 1-1 1z\" />\n        <circle cx=\"8\" cy=\"16\" r=\"1\" />\n        <path d=\"M16 15h-4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default CalendarIcon;\n","const ChevronDown = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"chevron-down\">\n        <rect width=\"24\" height=\"24\" opacity=\"0\" />\n        <path d=\"M12 15.5a1 1 0 0 1-.71-.29l-4-4a1 1 0 1 1 1.42-1.42L12 13.1l3.3-3.18a1 1 0 1 1 1.38 1.44l-4 3.86a1 1 0 0 1-.68.28z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default ChevronDown;\n","const ChevronLeft = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"chevron-left\">\n        <rect width=\"24\" height=\"24\" transform=\"rotate(90 12 12)\" opacity=\"0\" />\n        <path d=\"M13.36 17a1 1 0 0 1-.72-.31l-3.86-4a1 1 0 0 1 0-1.4l4-4a1 1 0 1 1 1.42 1.42L10.9 12l3.18 3.3a1 1 0 0 1 0 1.41 1 1 0 0 1-.72.29z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default ChevronLeft;\n","const ChevronRight = (props: any) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={props.className}\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"chevron-right\">\n        <rect\n          width=\"24\"\n          height=\"24\"\n          transform=\"rotate(-90 12 12)\"\n          opacity=\"0\"\n        />\n        <path d=\"M10.5 17a1 1 0 0 1-.71-.29 1 1 0 0 1 0-1.42L13.1 12 9.92 8.69a1 1 0 0 1 0-1.41 1 1 0 0 1 1.42 0l3.86 4a1 1 0 0 1 0 1.4l-4 4a1 1 0 0 1-.7.32z\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default ChevronRight;\n","const MenuIcon = (props: any) => (\n  <svg\n    className={props.className}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n  >\n    <g data-name=\"Layer 2\">\n      <g data-name=\"more-vertical\">\n        <rect\n          width=\"24\"\n          height=\"24\"\n          transform=\"rotate(-90 12 12)\"\n          opacity=\"0\"\n        />\n        <circle cx=\"12\" cy=\"12\" r=\"2\" />\n        <circle cx=\"12\" cy=\"5\" r=\"2\" />\n        <circle cx=\"12\" cy=\"19\" r=\"2\" />\n      </g>\n    </g>\n  </svg>\n);\n\nexport default MenuIcon;\n","import {\n  CALENDAR_NAVIGATION_DIRECTION,\n  CALENDAR_VIEW,\n  WEEKDAY_START,\n} from '../common/enums';\nimport { DateTime } from 'luxon';\nimport { calculateCalendarDays } from './calendarDays';\n\n/**\n * Calculate new calendar days\n * @param calendarDays\n * @param calendarView\n * @param direction\n * @param weekDayStart\n * @param dispatchContext\n */\nexport const getNewCalendarDays = async (\n  calendarDays: DateTime[],\n  calendarView: CALENDAR_VIEW,\n  direction: CALENDAR_NAVIGATION_DIRECTION,\n  weekDayStart: WEEKDAY_START,\n  dispatchContext?: any\n): Promise<void> => {\n  const setSelectedDate = (date: DateTime) => {\n    dispatchContext('selectedDate', date);\n  };\n\n  const newCalendarDays: DateTime[] = calculateCalendarDays(\n    direction,\n    calendarDays,\n    calendarView,\n    setSelectedDate,\n    weekDayStart\n  );\n\n  dispatchContext('calendarDays', newCalendarDays);\n  // dispatchContext(\n  //   'selectedDate',\n  //   newCalendarDays[chooseSelectedDateIndex(calendarView)]\n  // );\n};\n\nexport const navigateToToday = async (\n  selectedView: CALENDAR_VIEW,\n  setContext: any,\n  weekDayStart: WEEKDAY_START,\n  dateNow: DateTime = DateTime.now()\n): Promise<void> => {\n  await getNewCalendarDays(\n    [dateNow],\n    selectedView,\n    CALENDAR_NAVIGATION_DIRECTION.TODAY,\n    weekDayStart,\n    setContext\n  );\n};\n","// eslint-disable-next-line @typescript-eslint/no-use-before-define\nimport React, { useState } from 'react';\n\nimport { ButtonIconProps } from './ButtonIcon.props';\nimport { parseCssDark } from '../../utils/common';\n\nconst ButtonIcon = (props: ButtonIconProps) => {\n  const [isPressed, setIsPressed] = useState(false);\n\n  const {\n    children,\n    onClick,\n    size,\n    disabled,\n    isDark,\n    iconSize,\n    noActive,\n    backdropClassName,\n    style,\n  } = props;\n\n  const handleTouchStart = (): void => setIsPressed(true);\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const handleTouchOff = (e: any): void => setIsPressed(false);\n\n  const containerClassName: string = !size\n    ? 'Kalend__ButtonIcon__container'\n    : `Kalend__ButtonIcon__container-${size}`;\n\n  const backdropClassNameString: string = backdropClassName\n    ? backdropClassName\n    : 'Kalend__ButtonIcon__backdrop';\n\n  const buttonClassName: string = noActive\n    ? `${\n        disabled ? 'Kalend__ButtonIcon__disabled ' : ''\n      }Kalend__ButtonIcon-inactive`\n    : `${disabled ? 'Kalend__ButtonIcon__disabled ' : ''}Kalend__ButtonIcon`;\n\n  const IconElement: any = React.cloneElement(children, {\n    className: `Kalend__ButtonIcon__svg${\n      iconSize ? `-${iconSize}` : '-normal'\n    }`,\n  });\n\n  return (\n    <div className={containerClassName} style={style}>\n      <button\n        className={parseCssDark(buttonClassName, isDark)}\n        onClick={onClick}\n        disabled={disabled}\n        onTouchStart={handleTouchStart}\n        onTouchEnd={handleTouchOff}\n      >\n        {IconElement}\n        {isPressed ? <div className={backdropClassNameString} /> : null}\n      </button>\n    </div>\n  );\n};\n\nexport default ButtonIcon;\n","import { CalendarViewDropdownProps } from './CalendarViewDropdown.props';\nimport { Config } from '../../common/interface';\nimport { Context } from '../../context/store';\nimport { EvaIcons } from '../eva-icons';\nimport { parseCalendarViewToText, parseCssDark } from '../../utils/common';\nimport { useContext, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '../buttonBase/ButtonBase';\nimport ButtonIcon from '../buttonIcon/ButtonIcon';\nimport HeaderCalendarButtons, {\n  isSingleView,\n} from '../headerCalendarButtons/HeaderCalendarButtons';\n\nconst CalendarViewDropdown = (props: CalendarViewDropdownProps) => {\n  const { t } = useTranslation();\n\n  const { setViewChanged } = props;\n\n  const [isOpen, setOpen] = useState(false);\n\n  const [store] = useContext(Context);\n  const { config, isMobile, selectedView } = store;\n  const { isDark, disabledViews, disableMobileDropdown } = config as Config;\n\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  const preventDefault = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  return (isMobile && (disableMobileDropdown || isSingleView(disabledViews))) ||\n    isSingleView(disabledViews) ? null : (\n    <>\n      <div className={'Kalend__CalendarViewDropdown__wrapper'}>\n        {isMobile ? (\n          <ButtonIcon isDark={isDark} key={'calendar'} onClick={handleOpen}>\n            <EvaIcons.More className={parseCssDark('icon-svg', isDark)} />\n          </ButtonIcon>\n        ) : (\n          <ButtonBase\n            isDark={isDark}\n            className={'Kalend__ButtonBase-border'}\n            onClick={handleOpen}\n            text={t(parseCalendarViewToText(selectedView))}\n          />\n        )}\n        {isOpen ? (\n          <div\n            className={'Kalend__CalendarViewDropdown__backdrop'}\n            onClick={handleClose}\n          />\n        ) : null}\n        {isOpen ? (\n          <div className={'Kalend__CalendarViewDropdown__container'}>\n            <div\n              className={'Kalend__CalendarViewDropdown__container-content'}\n              onClick={preventDefault}\n            >\n              <HeaderCalendarButtons\n                disabledViews={disabledViews}\n                setViewChanged={setViewChanged}\n                handleClose={handleClose}\n                isForcedMobile={true}\n              />\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default CalendarViewDropdown;\n","import { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { HeaderCalendarButtonProps } from './HeaderCalendarButtons.props';\nimport { parseClassName } from '../../utils/common';\nimport { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '../buttonBase/ButtonBase';\n\nconst HeaderCalendarButton = (props: HeaderCalendarButtonProps) => {\n  const { buttonData, setViewChanged, handleClose, isForcedMobile } = props;\n\n  const [store] = useContext(Context);\n  const { isDark, selectedView, isMobile } = store;\n\n  const isSelected: boolean = buttonData.value === selectedView;\n  const buttonClassName = `Kalend__header_calendar_button${\n    isSelected ? '-selected' : ''\n  }`;\n  const textClassName = `Kalend__text Kalend__header_calendar_button-text${\n    isSelected ? '-selected' : ''\n  }`;\n\n  const navigateFunction = (): void => {\n    if (handleClose) {\n      handleClose();\n    }\n    setViewChanged(buttonData.value);\n  };\n\n  return (\n    <ButtonBase\n      className={parseClassName(buttonClassName, isMobile || isForcedMobile)}\n      isDark={isDark}\n      onClick={navigateFunction}\n    >\n      <p className={parseClassName(textClassName, isMobile, isDark)}>\n        {buttonData.label}\n      </p>\n    </ButtonBase>\n  );\n};\n\nexport const isSingleView = (disabledViews?: CALENDAR_VIEW[]): boolean => {\n  if (\n    !disabledViews ||\n    (disabledViews &&\n      disabledViews?.length + 1 !== Object.values(CALENDAR_VIEW).length)\n  ) {\n    return false;\n  }\n\n  return true;\n};\n\ninterface HeaderCalendarButtonsProps {\n  disabledViews?: CALENDAR_VIEW[];\n  setViewChanged: any;\n  handleClose?: any;\n  isForcedMobile?: boolean; // force mobile layout for dropdown\n}\n/**\n * Buttons for switching calendar view in desktop layout\n * @constructor\n */\nconst HeaderCalendarButtons = (props: HeaderCalendarButtonsProps) => {\n  const { t } = useTranslation();\n\n  const { disabledViews, setViewChanged, handleClose, isForcedMobile } = props;\n  const [store] = useContext(Context);\n\n  const { isDark, isMobile } = store;\n\n  return isSingleView(disabledViews) ? null : (\n    <div\n      className={parseClassName(\n        'Kalend__header_calendar_buttons__container',\n        !!(isMobile || isForcedMobile),\n        isDark\n      )}\n    >\n      {!disabledViews?.includes(CALENDAR_VIEW.AGENDA) ? (\n        <HeaderCalendarButton\n          buttonData={{\n            label: t('buttons:agenda'),\n            value: CALENDAR_VIEW.AGENDA,\n          }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.DAY) ? (\n        <HeaderCalendarButton\n          buttonData={{ label: t('buttons:day'), value: CALENDAR_VIEW.DAY }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.THREE_DAYS) ? (\n        <HeaderCalendarButton\n          buttonData={{\n            label: t('buttons:threeDays'),\n            value: CALENDAR_VIEW.THREE_DAYS,\n          }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.WEEK) ? (\n        <HeaderCalendarButton\n          buttonData={{ label: t('buttons:week'), value: CALENDAR_VIEW.WEEK }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n      {!disabledViews?.includes(CALENDAR_VIEW.MONTH) ? (\n        <HeaderCalendarButton\n          buttonData={{ label: t('buttons:month'), value: CALENDAR_VIEW.MONTH }}\n          setViewChanged={setViewChanged}\n          handleClose={handleClose}\n          isForcedMobile={isForcedMobile}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default HeaderCalendarButtons;\n","import { Context } from '../../context/store';\nimport { DesktopLayoutProps } from './DesktopLayout.props';\nimport { useContext } from 'react';\n\nconst DesktopLayout = (props: DesktopLayoutProps) => {\n  const { children } = props;\n  const [store] = useContext(Context);\n  const { isMobile } = store;\n\n  return !isMobile ? (\n    <div className={'Kalend__DesktopLayout'}>{children}</div>\n  ) : null;\n};\n\nexport default DesktopLayout;\n","import { Context } from '../../context/store';\nimport { HeaderCalendarTitleProps } from './HeaderCalendarTitle.props';\nimport { parseClassName } from '../../utils/common';\nimport { useContext } from 'react';\n\n/**\n * Calendar title in header in month date format\n * @param props\n * @constructor\n */\nconst HeaderCalendarTitle = (props: HeaderCalendarTitleProps) => {\n  const { title } = props;\n\n  const [store] = useContext(Context);\n  const { isDark, isMobile } = store;\n\n  return (\n    <div\n      className={parseClassName(\n        `Kalend__HeaderCalendarTitle__container`,\n        isMobile\n      )}\n    >\n      <p\n        className={parseClassName(\n          'Kalend__text Kalend__HeaderCalendarTitle',\n          isMobile,\n          isDark\n        )}\n      >\n        {title}\n      </p>\n    </div>\n  );\n};\n\nexport default HeaderCalendarTitle;\n","import { Context } from '../../context/store';\nimport { MobileLayoutProps } from './MobileLayout.props';\nimport { useContext } from 'react';\n\nconst MobileLayout = (props: MobileLayoutProps) => {\n  const { children, style } = props;\n  const [store] = useContext(Context);\n  const { isMobile } = store;\n\n  return isMobile ? (\n    <div className={'Kalend__MobileLayout'} style={style}>\n      {children}\n    </div>\n  ) : null;\n};\n\nexport default MobileLayout;\n","import { CALENDAR_VIEW } from '../../common/enums';\nimport { CalendarHeaderProps } from './CalendarHeader.props';\nimport { Config, NormalEventPosition } from '../../common/interface';\nimport { Context } from '../../context/store';\nimport { calculatePositionForHeaderEvents } from './calendarHeaderEvents/CalendarHeaderEvents.utils';\nimport { useContext, useEffect } from 'react';\nimport CalendarHeaderDays from './calendarHeaderDays/CalendarHeaderDays';\nimport CalendarHeaderEvents from './calendarHeaderEvents/CalendarHeaderEvents';\n\nconst CalendarHeader = (props: CalendarHeaderProps) => {\n  const { events } = props;\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { isDark, width, selectedView, calendarDays, config } = store;\n  const { timezone } = config as Config;\n\n  const isDayView: boolean = selectedView === CALENDAR_VIEW.DAY;\n  const isMonthView: boolean = selectedView === CALENDAR_VIEW.MONTH;\n\n  useEffect(() => {\n    const eventPositions: NormalEventPosition[][] =\n      calculatePositionForHeaderEvents(\n        events,\n        width / calendarDays.length,\n        calendarDays,\n        timezone,\n        setContext\n      );\n\n    setContext('headerLayout', eventPositions);\n  }, []);\n  useEffect(() => {\n    const eventPositions: NormalEventPosition[][] =\n      calculatePositionForHeaderEvents(\n        events,\n        width / calendarDays.length,\n        calendarDays,\n        timezone,\n        setContext\n      );\n\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n    setContext('headerLayout', eventPositions);\n  }, [calendarDays[0]]);\n\n  return (\n    <div\n      className={`Kalend__CalendarHeader${!isMonthView ? '-tall' : ''}${\n        isDayView ? '-day' : ''\n      }${isMonthView ? '-small' : ''}${isDark ? '-dark' : ''}`}\n    >\n      <CalendarHeaderDays width={width} isMonthView={isMonthView} />\n      {!isMonthView && store.headerLayout ? <CalendarHeaderEvents /> : null}\n    </div>\n  );\n};\n\nexport default CalendarHeader;\n","import { CalendarHeaderDaysProps } from './CalendarHeaderDays.props';\nimport { Context } from '../../../context/store';\nimport { useContext } from 'react';\nimport CalendarHeaderColText from '../components/calendarHeaderColText/CalendarHeaderColText';\nimport CalendarHeaderDates from '../components/calendarHeaderDates/CalendarHeaderDates';\nimport CalendarHeaderWeekDays from '../components/calendarHeaderWeekDays/CalendarHeaderWeekDays';\nimport CalendarHeaderWrapper from '../components/calendarHeaderWrapper/CalendarHeaderWrapper';\n\nconst CalendarHeaderDays = (props: CalendarHeaderDaysProps) => {\n  const { isMonthView } = props;\n\n  const [store] = useContext(Context);\n  const { calendarDays } = store;\n\n  const daysNum: number = isMonthView ? 7 : calendarDays.length;\n\n  return (\n    <CalendarHeaderWrapper isMonthView={isMonthView}>\n      <CalendarHeaderColText>\n        <CalendarHeaderWeekDays daysNum={daysNum} days={calendarDays} />\n      </CalendarHeaderColText>\n      {!isMonthView ? (\n        <CalendarHeaderColText>\n          <CalendarHeaderDates calendarDays={calendarDays} daysNum={daysNum} />\n        </CalendarHeaderColText>\n      ) : null}\n    </CalendarHeaderWrapper>\n  );\n};\n\nexport default CalendarHeaderDays;\n","import { CalendarHeaderColTextProps } from './CalendarHeaderColText.props';\n\nconst CalendarHeaderColText = (props: CalendarHeaderColTextProps) => {\n  const { children } = props;\n\n  return (\n    <div className={'Kalend__CalendarHeaderColText__container'}>{children}</div>\n  );\n};\n\nexport default CalendarHeaderColText;\n","import { CalendarHeaderDatesProps } from './CalendarHeaderDates.props';\nimport { Context } from '../../../../context/store';\nimport { DateTime } from 'luxon';\nimport { getCorrectWidth } from '../../../../utils/common';\nimport { useContext } from 'react';\nimport CalendarHeaderCol from '../calendarHeaderCol/CalendarHeaderCol';\nimport CalendarHeaderColText from '../calendarHeaderColText/CalendarHeaderColText';\nimport DateWeekDay from '../../../dateWeekDay/DateWeekDay';\n\n/**\n * Get numeric representation of days\n *\n * @param props\n * @constructor\n */\nconst CalendarHeaderDates = (props: CalendarHeaderDatesProps) => {\n  const [store] = useContext(Context);\n  const { width, isMobile, selectedView } = store;\n\n  const { daysNum, calendarDays } = props;\n\n  const colWidth: number =\n    getCorrectWidth(width, isMobile, selectedView) / daysNum;\n\n  const renderNumericDays = () =>\n    calendarDays.map((calendarDay: DateTime) => {\n      return (\n        <DateWeekDay\n          key={calendarDay.toString()}\n          width={colWidth}\n          day={calendarDay}\n        />\n      );\n    });\n\n  const numericDays: any = renderNumericDays();\n\n  return (\n    <CalendarHeaderCol>\n      <CalendarHeaderColText>{numericDays}</CalendarHeaderColText>\n    </CalendarHeaderCol>\n  );\n};\n\nexport default CalendarHeaderDates;\n","import { CalendarHeaderColProps } from './CalendarHeaderCol.props';\nimport { Context } from '../../../../context/store';\nimport { parseCssDark } from '../../../../utils/common';\nimport { useContext } from 'react';\n\nconst CalendarHeaderCol = (props: CalendarHeaderColProps) => {\n  const { children } = props;\n\n  const [store] = useContext(Context);\n  const { isDark } = store;\n\n  return (\n    <div className={parseCssDark('Kalend__CalendarHeaderCol', isDark)}>\n      {children}\n    </div>\n  );\n};\n\nexport default CalendarHeaderCol;\n","import { CALENDAR_VIEW, WEEKDAY_START } from '../../../../common/enums';\nimport { CalendarHeaderWeekDaysProps } from './CalendarHeaderWeekDays.props';\nimport { Context } from '../../../../context/store';\nimport { DateTime } from 'luxon';\nimport { daysText, daysTextSundayStart } from '../../../../utils/calendarDays';\nimport { getCorrectWidth } from '../../../../utils/common';\nimport { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport DayOfWeekText from '../../../dayOfWeekText/DayOfWeekText';\n\n/**\n * Render text representation of days\n *\n * @param props\n * @constructor\n */\nconst CalendarHeaderWeekDays = (props: CalendarHeaderWeekDaysProps) => {\n  const { t } = useTranslation();\n\n  const { daysNum, days } = props;\n\n  const [store] = useContext(Context);\n  const { width, selectedView, isMobile, config } = store;\n  const { weekDayStart } = config;\n\n  const isMonthView: boolean = selectedView === CALENDAR_VIEW.MONTH;\n\n  const colWidth: number = isMonthView\n    ? width / daysNum\n    : getCorrectWidth(width, isMobile, selectedView) / daysNum;\n\n  const weekDays =\n    weekDayStart === WEEKDAY_START.SUNDAY ? daysTextSundayStart : daysText;\n\n  const renderDaysText = () => {\n    const dayTextColumnWidth: any = {\n      width: colWidth,\n    };\n\n    if (isMonthView) {\n      return weekDays.map((day: string) => (\n        <div\n          key={day}\n          className={'Kalend__CalendarHeaderWeekDays__col'}\n          style={dayTextColumnWidth}\n        >\n          <p className={'Kalend__text Kalend__CalendarHeaderWeekDays__text'}>\n            {t(`weekDays:${day}`)}\n          </p>\n        </div>\n      ));\n    }\n\n    return days.map((calendarDay: DateTime) => (\n      <DayOfWeekText\n        key={calendarDay.toString()}\n        day={calendarDay}\n        width={colWidth}\n      />\n    ));\n  };\n  const namesForDays: any = renderDaysText();\n\n  return (\n    <div className={'Kalend__CalendarHeaderWeekDays__wrapper'}>\n      <div className={'Kalend__CalendarHeaderWeekDays__container'}>\n        {namesForDays}\n      </div>\n    </div>\n  );\n};\n\nexport default CalendarHeaderWeekDays;\n","import { CALENDAR_OFFSET_LEFT } from '../../../../common/constants';\nimport { CalendarHeaderWrapperProps } from './CalendarHeaderWrapper.props';\nimport { Context } from '../../../../context/store';\nimport { parseCssDark } from '../../../../utils/common';\nimport { useContext } from 'react';\n\nconst CalendarHeaderWrapper = (props: CalendarHeaderWrapperProps) => {\n  const { children, isMonthView } = props;\n\n  const [store] = useContext(Context);\n  const { width, isDark } = store;\n\n  const headerStyle = {\n    paddingLeft: isMonthView ? 0 : CALENDAR_OFFSET_LEFT,\n    width,\n  };\n\n  return (\n    <div\n      className={parseCssDark('Kalend__CalendarHeaderCol', isDark)}\n      style={headerStyle}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default CalendarHeaderWrapper;\n","import { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { getDaysNum } from '../../../utils/calendarDays';\nimport { getHeight } from '../../../utils/layout';\nimport { useContext, useEffect, useState } from 'react';\nimport EventButton from '../../eventButton/EventButton';\n\nconst CalendarHeaderEvents = () => {\n  const [store, dispatch] = useContext(Context);\n  const { selectedView, width, calendarDays } = store;\n\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const [animation, setAnimation] = useState(\n    'Kalend__CalendarHeaderEvents_animationExpand'\n  );\n\n  const renderEvents = (data: any) => {\n    return Object.entries(data)?.map((keyValue: any) => {\n      const item: any = keyValue[1];\n\n      return (\n        <EventButton\n          key={item.event.id}\n          event={item.event}\n          type={EVENT_TYPE.HEADER}\n        />\n      );\n    });\n  };\n\n  const column = width / getDaysNum(selectedView);\n\n  const colWidthStyle: any = {\n    width: column,\n  };\n\n  const daysNumbers = calendarDays.map((calendarDay: DateTime) => {\n    return (\n      <div\n        key={calendarDay.toString()}\n        className={'Kalend__CalendarHeaderEvents__col-wrapper'}\n        style={colWidthStyle}\n      ></div>\n    );\n  });\n\n  const headerEvents = renderEvents(store.headerLayout);\n\n  const headerStyle: any = {\n    // paddingLeft: CALENDAR_OFFSET_LEFT,\n    height: store.headerEventRowsCount * 26,\n    transition: 'all 0.3s',\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      setContext('height', getHeight());\n    }, 600);\n  }, [store.headerEventRowsCount]);\n\n  useEffect(() => {\n    // set animation\n    setAnimation('Kalend__CalendarHeaderEvents_animationExpand');\n    // clean animation\n    setTimeout(() => {\n      setAnimation('');\n    }, 600);\n  }, [store.headerEventRowsCount]);\n\n  return (\n    <div\n      className={`Kalend__CalendarHeaderEvents__container ${animation}`}\n      style={headerStyle}\n    >\n      <div className={'Kalend__CalendarHeaderEvents__row'}>{daysNumbers}</div>\n      {/*<div className={`Kalend__CalendarHeaderEvents__rows ${animation}`}></div>*/}\n      {headerEvents}\n    </div>\n  );\n};\n\nexport default CalendarHeaderEvents;\n","import { useEffect, useState } from 'react';\n\nconst CalendarTableLayoutLayer = (props: { children: any }) => {\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    const rootEl: any = document.querySelector('.Kalend__Calendar__table');\n\n    if (rootEl) {\n      setIsMounted(true);\n    }\n  }, [document.querySelector('.Kalend__Calendar__table')]);\n\n  return isMounted ? props.children : null;\n};\n\nexport default CalendarTableLayoutLayer;\n","import { CALENDAR_OFFSET_LEFT } from '../../common/constants';\nimport { CALENDAR_VIEW } from '../../common/enums';\nimport { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\nimport { DaysViewTableProps } from './DaysViewTable.props';\nimport { NormalEventPosition } from '../../common/interface';\nimport { calculateDaysViewLayout } from '../../utils/eventLayout';\nimport { calculatePositionForHeaderEvents } from '../calendarHeader/calendarHeaderEvents/CalendarHeaderEvents.utils';\nimport { formatDateTimeToString, getCorrectWidth } from '../../utils/common';\nimport { useContext, useEffect } from 'react';\nimport { useHeight } from '../../utils/layout';\nimport CalendarBodyHours from './daysViewOneDay/calendarBodyHours/CalendarBodyHours';\nimport DaysViewOneDay from './daysViewOneDay/DaysViewOneDay';\nimport DaysViewVerticalLines from './daysViewVerticalLines/DaysViewVerticalLines';\n\nconst renderOneDay = (calendarDays: DateTime[], events: any) => {\n  return calendarDays.map((calendarDay: DateTime, index: number) => {\n    const formattedDayString: string = formatDateTimeToString(calendarDay);\n\n    return (\n      <DaysViewOneDay\n        key={calendarDay.toString()}\n        day={calendarDay}\n        index={index}\n        data={events ? events[formattedDayString] : []}\n      />\n    );\n  });\n};\n\nconst DaysViewTable = (props: DaysViewTableProps) => {\n  const { events } = props;\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { isMobile, calendarDays, width, selectedView, config } = store;\n\n  const height = useHeight();\n\n  const days: any = renderOneDay(calendarDays, events);\n\n  const style: any = {\n    paddingLeft: CALENDAR_OFFSET_LEFT,\n    // width: '100%',\n    height,\n  };\n\n  // const adjustScrollPosition = () => {\n  //   const currentElement: any = document.getElementById(`Kalend__timetable`);\n  //\n  //   (currentElement.scrollTop = DateTime.now().hour * config.hourHeight) -\n  //     config.hourHeight;\n  // };\n  //\n  // useEffect(() => {\n  //   adjustScrollPosition();\n  // }, []);\n\n  // const onPageChange = async (isGoingForward?: boolean) => {\n  //   await getNewCalendarDays(calendarDays, selectedView, isGoingForward);\n  // };\n\n  // recalculate event positions on calendarDays change\n  useEffect(() => {\n    const positions: any = calculateDaysViewLayout(\n      calendarDays,\n      events,\n      getCorrectWidth(width, isMobile, CALENDAR_VIEW.WEEK),\n      config,\n      selectedView\n    );\n\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n\n    setContext('daysViewLayout', positions);\n  }, [calendarDays[0]]);\n  useEffect(() => {\n    const positions: any = calculateDaysViewLayout(\n      calendarDays,\n      events,\n      getCorrectWidth(width, isMobile, CALENDAR_VIEW.WEEK),\n      config,\n      selectedView\n    );\n\n    setContext('daysViewLayout', positions);\n    // recalculate positions\n    const eventPositions: NormalEventPosition[][] =\n      calculatePositionForHeaderEvents(\n        events,\n        getCorrectWidth(width, isMobile, CALENDAR_VIEW.WEEK) /\n          calendarDays.length,\n        calendarDays,\n        config.timezone,\n        setContext\n      );\n    setContext('headerLayout', eventPositions);\n\n    setContext('layoutUpdateSequence', store.layoutUpdateSequence + 1);\n  }, [JSON.stringify(events)]);\n\n  useEffect(() => {\n    const positions: any = calculateDaysViewLayout(\n      calendarDays,\n      events,\n      getCorrectWidth(width, isMobile, CALENDAR_VIEW.WEEK),\n      config,\n      selectedView\n    );\n\n    setContext('daysViewLayout', positions);\n  }, []);\n\n  return (\n    // <Carousel onPageChange={onPageChange}>\n    <div\n      style={style}\n      className={'Kalend__CalendarBody'}\n      id={`Kalend__timetable`}\n      // onScroll={handleScroll}\n    >\n      <CalendarBodyHours />\n      <DaysViewVerticalLines />\n      {days}\n    </div>\n    // </Carousel>\n  );\n};\n\nexport default DaysViewTable;\n","import { CALENDAR_OFFSET_LEFT } from '../../../../common/constants';\nimport { Context } from '../../../../context/store';\nimport { TIME_FORMAT } from '../../../../common/enums';\nimport { createVerticalHours, parseCssDark } from '../../../../utils/common';\nimport { useContext } from 'react';\n\nconst renderHours = (\n  width: number,\n  hourHeight: number,\n  isDark: boolean,\n  timeFormat: TIME_FORMAT\n) =>\n  createVerticalHours(timeFormat).map((hour: any) =>\n    hour === '00' || hour === '24' ? (\n      <div\n        key={hour}\n        className={'Kalend__CalendarBodyHours__container'}\n        style={{ minHeight: hourHeight }}\n      />\n    ) : (\n      <div\n        key={hour}\n        className={'Kalend__CalendarBodyHours__container'}\n        style={{ minHeight: hourHeight }}\n      >\n        <p\n          className={parseCssDark(\n            'Kalend__text Kalend__CalendarBodyHours__text',\n            isDark\n          )}\n        >\n          {hour}\n        </p>\n        <div\n          className={parseCssDark(\n            'Kalend__text Kalend__CalendarBodyHours__line',\n            isDark\n          )}\n          style={{ width: width - CALENDAR_OFFSET_LEFT }}\n        />\n      </div>\n    )\n  );\n\nconst CalendarBodyHours = () => {\n  const [store] = useContext(Context);\n  const { width, height, config, isDark } = store;\n  const { hourHeight, timeFormat } = config;\n\n  const hours: any = renderHours(width, hourHeight, isDark, timeFormat);\n\n  return (\n    <div className={'Kalend__CalendarBodyHours__wrapper'} style={{ height }}>\n      {hours}\n    </div>\n  );\n};\n\nexport default CalendarBodyHours;\n","import { CalendarEvent } from '../../../common/interface';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { formatDateTimeToString, parseCssDark } from '../../../utils/common';\nimport { getDaysNum } from '../../../utils/calendarDays';\nimport { parseToDateTime } from '../../../utils/dateTimeParser';\nimport { useContext, useEffect } from 'react';\nimport EventButton from '../../eventButton/EventButton';\nimport LuxonHelper from '../../../utils/luxonHelper';\n\nconst renderEvents = (\n  dataset: CalendarEvent[],\n  day: DateTime,\n  timezone: string\n) => {\n  return dataset\n    .filter((item: CalendarEvent) => {\n      if (!item.allDay) {\n        const daysDiff: number = parseToDateTime(\n          item.endAt,\n          item.timezoneStartAt || timezone\n        ).diff(\n          parseToDateTime(item.startAt, item.timezoneStartAt || timezone)\n        ).days;\n        if (daysDiff < 1) {\n          return item;\n        }\n      }\n    })\n    .map((item: any) => {\n      return (\n        <EventButton\n          key={item.id}\n          event={item}\n          type={EVENT_TYPE.NORMAL}\n          meta={item.meta}\n          day={day}\n        />\n      );\n    });\n};\n\ninterface DaysViewOneDayProps {\n  key: string;\n  day: DateTime;\n  index: number;\n  data: any;\n}\nconst DaysViewOneDay = (props: DaysViewOneDayProps) => {\n  const { day, index, data } = props;\n\n  const [store] = useContext(Context);\n  const { width, selectedView, config, callbacks } = store;\n  const { onNewEventClick } = callbacks;\n  const { isDark, hourHeight, timezone } = config;\n\n  const oneDayStyle: any = {\n    width: width / getDaysNum(selectedView),\n    height: hourHeight * 24,\n  };\n\n  const isToday: boolean = LuxonHelper.isToday(day);\n  const isFirstDay: boolean = index === 0;\n  const dataForDay: any = data;\n\n  const dateNow: any = DateTime.local();\n\n  const nowPosition: number =\n    dateNow\n      .diff(DateTime.local().set({ hour: 0, minute: 0, second: 0 }), 'minutes')\n      .toObject().minutes /\n    (60 / hourHeight);\n\n  useEffect(() => {\n    if (isToday) {\n      const elements: any = document.querySelectorAll(\n        '.calendar-body__wrapper'\n      );\n\n      for (const element of elements) {\n        element.scrollTo({ top: nowPosition - 40, behavior: 'smooth' });\n      }\n    }\n  }, []);\n\n  const handleEventClickInternal = (event: any) => {\n    if (onNewEventClick) {\n      const rect: { top: number } = event.target.getBoundingClientRect();\n      const y: number = event.clientY - rect.top;\n      // Get hour from click event\n      const hour: number = y / hourHeight;\n      onNewEventClick({ day: day.toJSDate(), hour, event });\n    }\n  };\n\n  return store.daysViewLayout?.[formatDateTimeToString(day)] ? (\n    <div\n      id={`Kalend__day__${day.toString()}`}\n      key={day.toString()}\n      style={oneDayStyle}\n      className={\n        !isFirstDay\n          ? parseCssDark('Kalend__DayViewOneDay', isDark)\n          : 'Kalend__DayViewOneDay'\n      }\n      onClick={handleEventClickInternal}\n    >\n      {dataForDay && dataForDay.length > 0\n        ? renderEvents(dataForDay, day, timezone)\n        : null}\n    </div>\n  ) : null;\n};\n\nexport default DaysViewOneDay;\n","import { CALENDAR_OFFSET_LEFT } from '../../../common/constants';\nimport { CALENDAR_VIEW } from '../../../common/enums';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { getCorrectWidth, parseCssDark } from '../../../utils/common';\nimport { useContext } from 'react';\n\nconst renderVerticalLines = (\n  calendarDays: DateTime[],\n  width: number,\n  height: number,\n  hourHeight: number,\n  isDark: boolean,\n  isMobile: boolean,\n  selectedView: CALENDAR_VIEW\n) => {\n  const columnWidth: number =\n    getCorrectWidth(width, isMobile, selectedView) / calendarDays.length;\n\n  return calendarDays.map((calendarDay, index: number) => {\n    const style: { left: number; height: number } = {\n      left:\n        columnWidth * index +\n        (selectedView === CALENDAR_VIEW.MONTH ? 0 : CALENDAR_OFFSET_LEFT),\n      height: hourHeight * 24,\n    };\n\n    if (index > 0) {\n      return (\n        <div\n          key={index}\n          style={style}\n          className={parseCssDark('Kalend__DaysViewVerticalLine__line', isDark)}\n        />\n      );\n    }\n  });\n};\n\nconst DaysViewVerticalLines = () => {\n  const [store] = useContext(Context);\n  const {\n    calendarDays,\n    width,\n    isDark,\n    height,\n    config,\n    isMobile,\n    selectedView,\n  } = store;\n\n  const verticalLines: any = renderVerticalLines(\n    selectedView === CALENDAR_VIEW.MONTH\n      ? calendarDays.slice(0, 7)\n      : calendarDays,\n    width,\n    height,\n    config.hourHeight,\n    isDark,\n    isMobile,\n    selectedView\n  );\n\n  return (\n    <>\n      {/*// <div className={'Kalend__DaysViewVerticalLine__container'}>*/}\n      {verticalLines}\n      {/*// </div>*/}\n    </>\n  );\n};\n\nexport default DaysViewVerticalLines;\n","import { Context } from '../../context/store';\nimport { DateTime } from 'luxon';\n\nimport { MonthViewProps } from './MonthView.props';\nimport {\n  calculateMonthPositions,\n  getMonthRows,\n} from './monthWeekRow/MonthWeekRow.utils';\nimport { useContext, useEffect } from 'react';\nimport { useHeight } from '../../utils/layout';\nimport DaysViewVerticalLines from '../daysViewTable/daysViewVerticalLines/DaysViewVerticalLines';\nimport MonthWeekRow from './monthWeekRow/MonthWeekRow';\n\nconst renderOneRow = (days: DateTime[]) => {\n  const rows: DateTime[][] = getMonthRows(days);\n\n  return rows.map((row: DateTime[], index: number) => {\n    return <MonthWeekRow key={row[0].toString()} days={row} index={index} />;\n  });\n};\n\nconst MonthView = (props: MonthViewProps) => {\n  const { events } = props;\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const height: number = useHeight();\n  const { width, calendarDays, config } = store;\n\n  const style: any = {\n    width,\n    height: '100%',\n  };\n\n  // const onPageChange = async (isGoingForward?: boolean) => {\n  //   await getNewCalendarDays(calendarDays, CALENDAR_VIEW.MONTH, isGoingForward);\n  // };\n\n  useEffect(() => {\n    if (height !== 0) {\n      const monthPositions: any = calculateMonthPositions(\n        events,\n        width,\n        calendarDays,\n        config.timezone,\n        (height / 6 - 25) / 26 - 1,\n        setContext\n      );\n\n      setContext('monthLayout', monthPositions);\n    }\n  }, []);\n  useEffect(() => {\n    const monthPositions: any = calculateMonthPositions(\n      events,\n      width,\n      calendarDays,\n      config.timezone,\n      (height / 6 - 25) / 26 - 1,\n      setContext\n    );\n\n    setContext('monthLayout', monthPositions);\n  }, [height]);\n  useEffect(() => {\n    const monthPositions: any = calculateMonthPositions(\n      events,\n      width,\n      calendarDays,\n      config.timezone,\n      (height / 6 - 25) / 26 - 1,\n      setContext\n    );\n\n    setContext('monthLayout', monthPositions);\n  }, [calendarDays[0]]);\n  useEffect(() => {\n    const monthPositions: any = calculateMonthPositions(\n      events,\n      width,\n      calendarDays,\n      config.timezone,\n      (height / 6 - 25) / 26 - 1,\n      setContext\n    );\n\n    setContext('monthLayout', monthPositions);\n  }, [JSON.stringify(events)]);\n\n  // const days: any = renderOneDay(calendarDays, 'month1', height, events);\n  const rows: any = renderOneRow(calendarDays);\n\n  return (\n    // <Carousel onPageChange={onPageChange}>\n    <div className={'Kalend__MonthView__container'} style={style}>\n      <DaysViewVerticalLines />\n      {store.monthLayout ? rows : null}\n    </div>\n    // </Carousel>\n  );\n};\n\nexport default MonthView;\n","import {\n  CalendarEvent,\n  Config,\n  EventLayout,\n  NormalEventPosition,\n} from '../../../common/interface';\nimport { DateTime } from 'luxon';\nimport { EVENT_TABLE_DELIMITER_SPACE } from '../../../common/constants';\nimport {\n  checkOverlappingDatesForHeaderEvents,\n  checkOverlappingEvents,\n  isEventInRange,\n} from '../../../utils/eventLayout';\nimport { formatDateTimeToString } from '../../../utils/common';\nimport { parseToDateTime } from '../../../utils/dateTimeParser';\nimport { stretchHeaderEventTimes } from '../../calendarHeader/calendarHeaderEvents/CalendarHeaderEvents.utils';\n\nconst formatOverflowingEvents = (events: CalendarEvent[], timezone: string) => {\n  const result: any = {};\n\n  if (!events || events.length === 0) {\n    return null;\n  }\n\n  events.forEach((event) => {\n    const dateTimeStartAt = parseToDateTime(\n      event.startAt,\n      event.timezoneStartAt || timezone\n    );\n    const dateTimeEndAt = parseToDateTime(\n      event.endAt,\n      event.timezoneStartAt || timezone\n    );\n\n    // get each day for multi day events\n    // @ts-ignore\n    const differenceInDays: number = dateTimeEndAt.diff(dateTimeStartAt).days;\n\n    for (let i = 0; i <= differenceInDays; i++) {\n      const dateKey = formatDateTimeToString(dateTimeStartAt.plus({ days: i }));\n\n      if (!result[dateKey]) {\n        result[dateKey] = [event];\n      } else {\n        result[dateKey] = [...result[dateKey], ...[event]];\n      }\n    }\n  });\n\n  return result;\n};\n\nexport const getMonthRows = (calendarDays: DateTime[]): DateTime[][] => {\n  const calendarDaysRows: DateTime[][] = [];\n\n  let tempArray: DateTime[] = [];\n\n  calendarDays.forEach((item, i) => {\n    const index = i + 1;\n    if (index % 7 === 0) {\n      tempArray.push(item);\n      calendarDaysRows.push(tempArray);\n      tempArray = [];\n    } else {\n      tempArray.push(item);\n    }\n  });\n\n  return calendarDaysRows;\n};\n\nexport const sortByLength = (events: CalendarEvent[]) => {\n  return events.sort((a, b) => {\n    const diffA: number =\n      DateTime.fromISO(a.endAt).toMillis() -\n      DateTime.fromISO(a.startAt).toMillis();\n    const diffB: number =\n      DateTime.fromISO(b.endAt).toMillis() -\n      DateTime.fromISO(b.startAt).toMillis();\n\n    if (diffB > diffA) {\n      return 1;\n    } else if (diffB < diffA) {\n      return -1;\n    }\n\n    return 0;\n  });\n};\n\ninterface MonthRowResult {\n  positions: any;\n  overflowingEvents: CalendarEvent[];\n}\n\nconst getMonthRowPosition = (\n  events: any,\n  width: number,\n  calendarDays: DateTime[],\n  timezone: string,\n  maxEventsVisible: number\n): MonthRowResult => {\n  const overflowEvents: CalendarEvent[] = [];\n  const tableSpace: number = (width / 100) * EVENT_TABLE_DELIMITER_SPACE;\n  const result: any = [];\n  const usedEvents: string[] = [];\n\n  // filter only header events\n  const eventsFiltered: CalendarEvent[] = [];\n\n  if (!events) {\n    return { positions: [], overflowingEvents: [] };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Object.entries(events)?.map(([key, items]) => {\n    // @ts-ignore\n    items.forEach((item: CalendarEvent) => {\n      // filter only relevant events\n      const isInRange: boolean = isEventInRange(item, calendarDays, timezone);\n      if (isInRange) {\n        // correct position when external event ends in next day\n        eventsFiltered.push(item);\n      }\n    });\n  });\n\n  // sort by length to fit more items in limited space\n  const sortedByLength = sortByLength(eventsFiltered);\n\n  // find all matching events to fit in one row\n  sortedByLength?.forEach((event) => {\n    const eventPositionResult: NormalEventPosition[] = [];\n    // check if event was used already\n    // skip iteration if event was already resolved\n    if (usedEvents.includes(event.id)) {\n      return true;\n    }\n\n    // set event to row\n    const rowWithNotOverlappingEvents: CalendarEvent[] = [event];\n    usedEvents.push(event.id);\n\n    // compare to rest of the events\n    sortedByLength.forEach((eventToCompare) => {\n      // check if event was used already\n      // skip iteration if event was already resolved\n      if (usedEvents.includes(eventToCompare.id)) {\n        return true;\n      }\n\n      // don't compare to self // maybe remove?\n      if (event.id === eventToCompare.id) {\n        return true;\n      }\n\n      // check if events are not overlapping\n      const isOverlapping: boolean = checkOverlappingEvents(\n        stretchHeaderEventTimes(event, timezone),\n        stretchHeaderEventTimes(eventToCompare, timezone),\n        timezone\n      );\n\n      // found not overlapping matching event\n      if (!isOverlapping) {\n        let isMatchingAll = true;\n        // compare match with other stored events for same row\n        rowWithNotOverlappingEvents.forEach((itemFromRow) => {\n          const isOverlappingAll: boolean = checkOverlappingEvents(\n            stretchHeaderEventTimes(itemFromRow, timezone),\n            stretchHeaderEventTimes(eventToCompare, timezone),\n            timezone\n          );\n\n          // prevent merging if only one conflict exists\n          if (isOverlappingAll) {\n            isMatchingAll = false;\n          }\n        });\n\n        if (isMatchingAll) {\n          // store compared event in used array and add to row\n          usedEvents.push(eventToCompare.id);\n          rowWithNotOverlappingEvents.push(eventToCompare);\n        }\n      }\n    });\n\n    // now we have row with only not overlapping events\n    // sort events in row by duration to fit more events in row\n    // const sortedResult: CalendarEvent[] = rowWithNotOverlappingEvents.sort(\n    //   (a, b) =>\n    //     DateTime.fromISO(a.endAt).toMillis() -\n    //     DateTime.fromISO(a.startAt).toMillis() -\n    //     (DateTime.fromISO(b.endAt).toMillis() -\n    //       DateTime.fromISO(b.startAt).toMillis())\n    // );\n\n    // const sortedResult = sortByLength(rowWithNotOverlappingEvents);\n\n    // place events accordingly in row next to each other\n    rowWithNotOverlappingEvents.forEach((item) => {\n      let offset = 0;\n      let eventWidth = 0;\n      let hasMatchingDay = false;\n\n      calendarDays.forEach((day) => {\n        if (checkOverlappingDatesForHeaderEvents(item, day, timezone)) {\n          // set base offset only for first item\n          eventWidth += width;\n          hasMatchingDay = true;\n        }\n\n        // increment offset only till we have matching day\n        if (!hasMatchingDay) {\n          offset += width;\n        }\n      });\n\n      const isOverflowing: boolean = result.length > maxEventsVisible;\n      if (!isOverflowing) {\n        // create event position data\n        const eventPositionData: NormalEventPosition = {\n          event: item,\n          width: Math.round(eventWidth - tableSpace),\n          offsetLeft: offset,\n          offsetTop: 0,\n          height: 20,\n          zIndex: 2,\n        };\n\n        eventPositionResult.push(eventPositionData);\n      } else {\n        overflowEvents.push(item);\n      }\n    });\n\n    // save row to result\n    result.push(eventPositionResult);\n  });\n\n  const formattedResult: any = {};\n\n  result.forEach((events: any, index: number) => {\n    events.forEach((item: any) => {\n      formattedResult[item.event.id] = { ...item, offsetTop: index * 25 };\n    });\n  });\n\n  return { positions: formattedResult, overflowingEvents: overflowEvents };\n};\n\nexport const calculateMonthPositions = (\n  events: any,\n  width: number,\n  calendarDays: DateTime[],\n  config: Config,\n  maxEventsVisible: number,\n  setContext?: any\n): any => {\n  const result: EventLayout[] = [];\n  let overflowingEvents: any = [];\n\n  // TODO prefilter events for each row\n\n  // split calendar days to rows\n  const calendarDaysRows: DateTime[][] = getMonthRows(calendarDays);\n\n  // get layout for each row\n  calendarDaysRows.forEach((row) => {\n    const rowResult: MonthRowResult = getMonthRowPosition(\n      events,\n      width / 7,\n      row,\n      config.timezone,\n      maxEventsVisible\n    );\n\n    result.push(rowResult.positions);\n    overflowingEvents = [...overflowingEvents, ...rowResult.overflowingEvents];\n  });\n\n  setContext(\n    'monthOverflowEvents',\n    formatOverflowingEvents(overflowingEvents, config.timezone)\n  );\n\n  return result;\n};\n","import { Context } from '../../../context/store';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { MonthWeekRowProps } from './MonthWeekRow.props';\nimport { useContext } from 'react';\nimport CalendarHeaderDates from '../../calendarHeader/components/calendarHeaderDates/CalendarHeaderDates';\nimport EventButton from '../../eventButton/EventButton';\nimport MonthViewButtonMore from '../monthViewButtonMore/MonthViewButtonMore';\n\nconst MonthWeekRow = (props: MonthWeekRowProps) => {\n  const { days, index } = props;\n\n  const [store] = useContext(Context);\n  const { monthLayout, height } = store;\n\n  const renderEvents = (data: any, i: number) => {\n    if (!data || !data?.[i]) {\n      return [];\n    }\n\n    return Object.entries(data[i])?.map((keyValue: any) => {\n      const item: any = keyValue[1];\n\n      return (\n        <EventButton\n          key={item.event.id}\n          event={item.event}\n          meta={item.meta}\n          type={EVENT_TYPE.MONTH}\n          index={i}\n        />\n      );\n    });\n  };\n\n  const events: any = renderEvents(monthLayout, index);\n\n  const style: { height: number } = { height: height / 6 - 25 };\n\n  return (\n    <div className={'Kalend__MonthWeekRow__container'}>\n      <div className={'Kalend__MonthWeekRow__day'}>\n        <CalendarHeaderDates calendarDays={days} daysNum={7} />\n      </div>\n      <div className={'Kalend__MonthWeekRow__container-events'} style={style}>\n        {events}\n      </div>\n      <MonthViewButtonMore calendarDays={days} />\n    </div>\n  );\n};\n\nexport default MonthWeekRow;\n","import { CalendarEvent } from '../../../common/interface';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { MONTH_EVENT_HEIGHT } from '../../../common/constants';\nimport { MonthViewButtonMoreProps } from './MonthViewButtonMore.props';\nimport { formatDateTimeToString } from '../../../utils/common';\nimport { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport ButtonBase from '../../buttonBase/ButtonBase';\nimport ShowMoreModal from '../showMoreModal/ShowMoreModal';\n\nconst MonthViewButtonMore = (props: MonthViewButtonMoreProps) => {\n  const { t } = useTranslation();\n\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { width, monthOverflowEvents, config, showMoreEvents } = store;\n\n  const { calendarDays } = props;\n\n  const colWidth: number = width / 7;\n\n  const handleClick = (day: DateTime, events: CalendarEvent[]) => {\n    setContext('showMoreEvents', { day, events });\n  };\n\n  const renderShowMoreButtons = () => {\n    if (!monthOverflowEvents || !calendarDays || calendarDays.length === 0) {\n      return [];\n    }\n\n    return calendarDays.map((calendarDay: DateTime) => {\n      const dateKey = formatDateTimeToString(calendarDay);\n      const events: CalendarEvent[] | undefined = monthOverflowEvents[dateKey];\n\n      if (events) {\n        return (\n          <ButtonBase\n            key={calendarDay.toString()}\n            className={'Kalend__Monthview_Event'}\n            style={{\n              width: colWidth,\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n              paddingTop: 3,\n              paddingBottom: 3,\n              height: MONTH_EVENT_HEIGHT,\n            }}\n            onClick={() => handleClick(calendarDay, events)}\n            isDark={config.isDark}\n          >\n            <p className={'Kalend__text'} style={{ fontSize: 11 }}>\n              {t('buttons:showMore')}\n            </p>\n          </ButtonBase>\n        );\n      } else {\n        return (\n          <div\n            key={calendarDay.toString()}\n            style={{ width: colWidth, visibility: 'hidden' }}\n          />\n        );\n      }\n    });\n  };\n\n  const showMoreButtons: any = renderShowMoreButtons();\n\n  return (\n    <div\n      style={{\n        width: '100%',\n        display: 'flex',\n        flexDirection: 'row',\n        position: 'absolute',\n        bottom: 5,\n        left: 0,\n      }}\n    >\n      {showMoreButtons}\n      {showMoreEvents ? <ShowMoreModal /> : null}\n    </div>\n  );\n};\n\nexport default MonthViewButtonMore;\n","import { Context } from '../../../context/store';\nimport { EVENT_TYPE } from '../../../common/enums';\nimport { useContext } from 'react';\nimport EventButton from '../../eventButton/EventButton';\n\nconst ShowMoreModal = () => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const { showMoreEvents } = store;\n\n  const renderMoreEvents = () => {\n    if (!showMoreEvents) {\n      return [];\n    }\n\n    return showMoreEvents.events.map((item: any) => {\n      return (\n        <EventButton\n          key={item.id}\n          event={item}\n          type={EVENT_TYPE.SHOW_MORE_MONTH}\n        />\n      );\n    });\n  };\n\n  const events: any = renderMoreEvents();\n\n  const handleClose = () => {\n    setContext('showMoreEvents', null);\n  };\n\n  const preventDefault = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  return (\n    <div className={'Kalend__ShowMoreModal__wrapper'} onClick={handleClose}>\n      <div\n        className={'Kalend__ShowMoreModal__container'}\n        onClick={preventDefault}\n      >\n        <h6\n          style={{\n            fontSize: 16,\n            padding: 0,\n            margin: 4,\n            marginBottom: 8,\n            textAlign: 'center',\n          }}\n        >\n          {showMoreEvents.day.toFormat('dd. MMM')}\n        </h6>\n        {events}\n      </div>\n    </div>\n  );\n};\n\nexport default ShowMoreModal;\n","import { Context } from '../context/store';\nimport { getHeight, getWidth, useHeight, useWidth } from '../utils/layout';\nimport { getTableOffset } from '../utils/common';\nimport { useContext, useEffect } from 'react';\n\nconst DimensionsLayoutLayer = (props: { children: any }) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n  const { selectedView } = store;\n\n  const width: any = useWidth();\n  const height: any = useHeight();\n\n  // init context\n  useEffect(() => {\n    setContext('height', height);\n    setContext('width', width - getTableOffset(selectedView));\n\n    if (width < 750) {\n      setContext('isMobile', true);\n    } else {\n      setContext('isMobile', false);\n    }\n  }, []);\n\n  useEffect(() => {\n    setContext('width', getWidth() - getTableOffset(selectedView));\n\n    if (width < 750) {\n      setContext('isMobile', true);\n    } else {\n      setContext('isMobile', false);\n    }\n  }, [width]);\n  useEffect(() => {\n    setContext('height', getHeight());\n  }, [height]);\n\n  // needs to be separate due to inconsistency for month view\n  useEffect(() => {\n    setContext('height', getHeight());\n  }, [selectedView, selectedView]);\n\n  return props.children;\n};\n\nexport default DimensionsLayoutLayer;\n","import { initReactI18next } from 'react-i18next';\nimport { useEffect } from 'react';\nimport de from '../locales/de.json';\nimport en from '../locales/en.json';\nimport es from '../locales/es.json';\nimport fr from '../locales/fr.json';\nimport i18n from 'i18next';\nimport ru from '../locales/ru.json';\nimport zh from '../locales/zh.json';\n\nconst LanguageLayer = (props: { children: any; customLanguage?: any }) => {\n  useEffect(() => {\n    const resources = {\n      en,\n      de,\n      fr,\n      es,\n      zh,\n      ru,\n      customLanguage: props.customLanguage,\n    };\n\n    i18n.use(initReactI18next).init({\n      resources,\n      lng: 'en',\n      fallbackLng: 'en',\n      interpolation: {\n        escapeValue: false,\n      },\n    });\n  }, []);\n\n  return props.children;\n};\n\nexport default LanguageLayer;\n","{\n  \"buttons\": {\n    \"today\": \"Heute\",\n    \"agenda\": \"Agenda\",\n    \"day\": \"Tag\",\n    \"threeDays\": \"3 Tags\",\n    \"week\": \"Woche\",\n    \"month\": \"Monat\",\n    \"showMore\": \"Zeig mehr\"\n  },\n  \"months\": {\n    \"january\": \"Januar\",\n    \"february\": \"Februar\",\n    \"march\": \"Mrz\",\n    \"april\": \"April\",\n    \"may\": \"Mai\",\n    \"june\": \"Juni\",\n    \"july\": \"Juli\",\n    \"august\": \"August\",\n    \"september\": \"September\",\n    \"october\": \"Oktober\",\n    \"november\": \"November\",\n    \"december\": \"Dezember\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Mon\",\n    \"Tue\": \"Die\",\n    \"Wed\": \"Mit\",\n    \"Thu\": \"Don\",\n    \"Fri\": \"Fre\",\n    \"Sat\": \"Sam\",\n    \"Sun\": \"Son\"\n  }\n}\n","{\n  \"buttons\": {\n    \"today\": \"Today\",\n    \"agenda\": \"Agenda\",\n    \"day\": \"Day\",\n    \"threeDays\": \"3 Days\",\n    \"week\": \"Week\",\n    \"month\": \"Month\",\n    \"showMore\": \"Show more\"\n  },\n  \"months\": {\n    \"january\": \"January\",\n    \"february\": \"February\",\n    \"march\": \"March\",\n    \"april\": \"April\",\n    \"may\": \"May\",\n    \"june\": \"June\",\n    \"july\": \"July\",\n    \"august\": \"August\",\n    \"september\": \"September\",\n    \"october\": \"October\",\n    \"november\": \"November\",\n    \"december\": \"December\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Mon\",\n    \"Tue\": \"Tue\",\n    \"Wed\": \"Wed\",\n    \"Thu\": \"Thu\",\n    \"Fri\": \"Fri\",\n    \"Sat\": \"Sat\",\n    \"Sun\": \"Sun\"\n  }\n}\n","{\n  \"buttons\": {\n    \"today\": \"Hoy\",\n    \"agenda\": \"Diario\",\n    \"day\": \"Da\",\n    \"threeDays\": \"3 Das\",\n    \"week\": \"Semana\",\n    \"month\": \"Mes\",\n    \"showMore\": \"Mostrar ms\"\n  },\n  \"months\": {\n    \"january\": \"Enero\",\n    \"february\": \"Febrero\",\n    \"march\": \"Marzo\",\n    \"april\": \"Abril\",\n    \"may\": \"Mayo\",\n    \"june\": \"Junio\",\n    \"july\": \"Julio\",\n    \"august\": \"Agosto\",\n    \"september\": \"Septiembre\",\n    \"october\": \"Octubre\",\n    \"november\": \"Noviembre\",\n    \"december\": \"Diciembre\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Lun\",\n    \"Tue\": \"Mar\",\n    \"Wed\": \"Mi\",\n    \"Thu\": \"Jue\",\n    \"Fri\": \"Vie\",\n    \"Sat\": \"Sb\",\n    \"Sun\": \"Dom\"\n  }\n}\n","{\n  \"buttons\": {\n    \"today\": \"Aujourd\",\n    \"agenda\": \"Jour\",\n    \"day\": \"Journe\",\n    \"threeDays\": \"3 Jours\",\n    \"week\": \"Semaine\",\n    \"month\": \"Mois\",\n    \"showMore\": \"Montre plus\"\n  },\n  \"months\": {\n    \"january\": \"Janvier\",\n    \"february\": \"Fvrier\",\n    \"march\": \"Mars\",\n    \"april\": \"Avril\",\n    \"may\": \"Mai\",\n    \"june\": \"Juin\",\n    \"july\": \"Juillet\",\n    \"august\": \"Aot\",\n    \"september\": \"Septembre\",\n    \"october\": \"Octobre\",\n    \"november\": \"Novembre\",\n    \"december\": \"Dcembre\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"Lun\",\n    \"Tue\": \"Mar\",\n    \"Wed\": \"Mer\",\n    \"Thu\": \"Jeu\",\n    \"Fri\": \"Ven\",\n    \"Sat\": \"Sam\",\n    \"Sun\": \"Dim\"\n  }\n}\n","{\n    \"buttons\": {\n      \"today\": \"\",\n      \"agenda\": \"\",\n      \"day\": \"\",\n      \"threeDays\": \"3 \",\n      \"week\": \"\",\n      \"month\": \"\",\n      \"showMore\": \"...\"\n    },\n    \"months\": {\n      \"january\": \"\",\n      \"february\": \"\",\n      \"march\": \"\",\n      \"april\": \"\",\n      \"may\": \"\",\n      \"june\": \"\",\n      \"july\": \"\",\n      \"august\": \"\",\n      \"september\": \"\",\n      \"october\": \"\",\n      \"november\": \"\",\n      \"december\": \"\"\n    },\n    \"weekDays\": {\n      \"Mon\": \"\",\n      \"Tue\": \"\",\n      \"Wed\": \"\",\n      \"Thu\": \"\",\n      \"Fri\": \"\",\n      \"Sat\": \"\",\n      \"Sun\": \"\"\n    }\n  }\n  ","{\n  \"buttons\": {\n    \"today\": \"\",\n    \"agenda\": \"\",\n    \"day\": \"\",\n    \"threeDays\": \"3\",\n    \"week\": \"\",\n    \"month\": \"\",\n    \"showMore\": \"\"\n  },\n  \"months\": {\n    \"january\": \"\",\n    \"february\": \"\",\n    \"march\": \"\",\n    \"april\": \"\",\n    \"may\": \"\",\n    \"june\": \"\",\n    \"july\": \"\",\n    \"august\": \"\",\n    \"september\": \"\",\n    \"october\": \"\",\n    \"november\": \"\",\n    \"december\": \"\"\n  },\n  \"weekDays\": {\n    \"Mon\": \"\",\n    \"Tue\": \"\",\n    \"Wed\": \"\",\n    \"Thu\": \"\",\n    \"Fri\": \"\",\n    \"Sat\": \"\",\n    \"Sun\": \"\"\n  }\n}\n","import { useEffect, useState } from 'react';\n\nconst RootLayoutLayer = (props: { children: any }) => {\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    const rootEl: any = document.querySelector('.Kalend__Calendar__root');\n\n    if (rootEl) {\n      setIsMounted(true);\n    }\n  }, [document.querySelector('.Kalend__Calendar__root')]);\n\n  return isMounted ? props.children : null;\n};\n\nexport default RootLayoutLayer;\n"]},"metadata":{},"sourceType":"script"}